<?xml version = '1.0' encoding = 'UTF-8'?>
<Module version="122010300" xmlns="http://xmlns.oracle.com/Forms" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://xmlns.oracle.com/Forms ">
    <FormModule Name="COM001" ValidationUnit="Padrão" Title="COM001" ConsoleWindow="WIN_ITEMCOMPRA"
                ParentModule="BIB002" PersistentClientInfoLength="0" ParentModuleType="25" Use3dControls="true"
                ParentName="MODULO_NORMAL" InteractionMode="Bloqueio" ParentFilename="BIB002.OLB" MaximumQueryTime="0"
                DirtyInfo="true" MaximumRecordsFetched="0" IsolationMode="Submetido a Commit de Leitura"
                MouseNavigationLimit="Form" LanguageDirection="Padrão" NewdeferReqEnf="1" ParentType="29">
        <Coordinate CharacterCellWidth="9" RealUnit="Pixel" DefaultFontScaling="false" CharacterCellHeight="19"
                    CoordinateSystem="Real"/>
        <Alert Name="EXCLUSAO" Button1Label="Sim" Button2Label="Não" Title="Confirmação" DefaultAlertButton="Botão 2"
               AlertMessage="Confirma exclusão ?" AlertStyle="Interromper" PersistentClientInfoLength="0" FontSize="800"
               FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
               LanguageDirection="Padrão"/>
        <Alert Name="MENSAGEM_OBSERVACAO" PersistentClientInfoLength="0" FontSize="800" FontStyle="Simples"
               Button1Label="&amp;OK" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
               DefaultAlertButton="Botão 1" LanguageDirection="Padrão" AlertStyle="Observação"/>
        <Alert Name="MENSAGEM_CONFIRMACAO" Button1Label="&amp;Sim" Button2Label="&amp;Não" Title="Confirmação"
               DefaultAlertButton="Botão 1" AlertStyle="Observação" PersistentClientInfoLength="0" FontSize="800"
               FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio"
               FontSpacing="Normal" LanguageDirection="Padrão"/>
        <Alert Name="MENSAGEM_CRONOGRAMA" Button1Label="&amp;Sim" Button2Label="&amp;Não" Title="Confirmação"
               DefaultAlertButton="Botão 1" AlertStyle="Observação" FontSize="800" FontStyle="Simples" DirtyInfo="true"
               VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"/>
        <Alert Name="MENSAGEM_MUDAR" Button1Label="&amp;Continuar" Button2Label="&amp;Mudar" Title="Maxys - Atenção!"
               DefaultAlertButton="Botão 1" AlertStyle="Cuidado" FontSize="800" FontStyle="Simples" DirtyInfo="true"
               VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"/>
        <Alert Name="MENSAGEM_PRECAUCAO" PersistentClientInfoLength="0" FontSize="800" FontStyle="Simples"
               Button1Label="Fechar" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
               Button3Label="Ajuda" DefaultAlertButton="Botão 1" LanguageDirection="Padrão" AlertStyle="Cuidado"/>
        <Alert Name="MENSAGEM_EDICAO" DirtyInfo="true" Button1Label="Sim" Button2Label="Não" Title="Atenção!"
               DefaultAlertButton="Botão 2" AlertMessage="Atenção!" AlertStyle="Observação"/>
        <Alert Name="MENSAGEM_ERRO" PersistentClientInfoLength="0" FontSize="800" FontStyle="Simples"
               Button1Label="Fechar" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
               Button3Label="Ajuda" DefaultAlertButton="Botão 1" LanguageDirection="Padrão" AlertStyle="Interromper"/>
        <Alert Name="INCLUIPEDIDO" Button1Label="&amp;Sim" Button2Label="&amp;Não" Title="Maxys"
               DefaultAlertButton="Botão 1"
               AlertMessage="Já existe uma solicitação de compra para este item.&amp;#10;&amp;#10;&amp;#10;Deseja incluir a quantidade  na mesma solicitação?"
               AlertStyle="Cuidado" PersistentClientInfoLength="0" FontSize="800" FontStyle="Simples"
               VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"/>
        <Alert Name="ALR_DIMINUIR" Button1Label="OK" Button2Label="Cancelar" Title="Atenção"
               DefaultAlertButton="Botão 1" AlertMessage="Tem certeza que deseja diminuir a quantidade Solicitada?"
               AlertStyle="Observação" PersistentClientInfoLength="0" FontSize="800" FontStyle="Simples"
               DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
               LanguageDirection="Padrão"/>
        <Alert Name="ANEXOITEMCOMPRA" Button1Label="&amp;Sim" Button2Label="&amp;Não" Title="Maxys"
               DefaultAlertButton="Botão 1" AlertMessage="Deseja anexar arquivo na solicitação de compra?"
               AlertStyle="Observação" FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT"
               FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"/>
        <Alert Name="ALR_QTDENULA" DirtyInfo="true" Button1Label="Sim" Button2Label="Não" Title="Atenção"
               AlertMessage="Existem centros de custos cuja quantidade não foi informada. Deseja prosseguir?"
               AlertStyle="Observação"/>
        <Alert Name="ALR_EXISTEPEDIDO" DirtyInfo="true" Button1Label="&amp;Prosseguir" Button2Label="&amp;Remover"
               Title="Atenção"
               AlertMessage="O Item possui pedido em aberto para a empresa. Deseja prosseguir com lançamento ou remover o item?"
               AlertStyle="Cuidado"/>
        <Alert Name="ALERTA_TIPORATEIO" DirtyInfo="true" Button1Label="&amp;Negócio" Button2Label="&amp;Centro de Custo"
               Title="Atenção" Button3Label="Cancelar" AlertMessage="Deseja informar o Rateio de ?"
               AlertStyle="Observação"/>
        <Alert Name="CONFIRMA_PREITEMCOMPRA" ParentModule="BIB004" ParentModuleType="25"
               ParentName="MENSAGEM_OBSERVACAO" ParentFilename="BIB004.OLB" DirtyInfo="true" Button1Label="&amp;Sim"
               Button2Label="&amp;Não" Title="Confirmação" AlertMessage="Deseja carregar os itens selecionados ?"
               ParentType="1"/>
        <Alert Name="CANCELA_PREITEMCOMPRA" ParentModule="BIB004" ParentModuleType="25" ParentName="MENSAGEM_OBSERVACAO"
               ParentFilename="BIB004.OLB" DirtyInfo="true" Button1Label="&amp;Sim" Button2Label="&amp;Não"
               Title="Confirmação" AlertMessage="Deseja cancelar os itens selecionados ?" ParentType="1"/>
        <AttachedLibrary Name="D2KWUTIL" LibraryLocation="D2kwutil" LibrarySource="Arquivo"/>
        <AttachedLibrary Name="PLL001" LibraryLocation="PLL001" LibrarySource="Arquivo"/>
        <AttachedLibrary Name="PLL008" LibraryLocation="PLL008" LibrarySource="Arquivo"/>
        <AttachedLibrary Name="PLL009" LibraryLocation="PLL009" LibrarySource="Arquivo"/>
        <AttachedLibrary Name="PLL007" LibraryLocation="PLL007" LibrarySource="Arquivo"/>
        <Block Name="CONTROLE" RecordsBufferedCount="0" RecordsDisplayCount="1" RecordsFetchedCount="0"
               EnforcedPrimaryKey="false" RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0"
               MaximumRecordsFetched="0" ScrollbarOrientation="Vertical" ScrollbarWidth="12" ScrollbarXPosition="0"
               PrecompSummary="false" ScrollbarYPosition="0" NavigationStyle="Mesmo Registro" ShowScrollbar="false"
               ScrollbarLength="180" IncludeRefitem="false" EnforcedColumnSecurity="false" InsertAllowed="true"
               DMLReturnValue="false" SingleRecord="false" UpdateAllowed="true" UpdateChangedColumns="false"
               PersistentClientInfoLength="0" DeleteAllowed="true" DirtyInfo="true" VisualAttributeName="DEFAULT"
               KeyMode="Automático" LanguageDirection="Padrão" DatabaseBlock="true" QueryDataSourceType="Tabela"
               QueryAllowed="true" LockMode="Automático" QueryAllRecords="false" DMLDataType="Tabela" DMLArraySize="1">
            <Item Name="CD_EMPRESA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="26" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Empresa" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Empresa"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" Hint="Código da Empresa"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  InitializeValue=":GLOBAL.CD_EMPRESA" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_EMPRESA" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="5" CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="168"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="/* MGK:52401:03/12/12&amp;#10;** Ao validar o campo CD_EMPRESA sem informar nada, será exibida uma mensagem alertando esse fato, &amp;#10;** ao invés de limpar o campo, como estava sendo feito anteriormente.&amp;#10;*/&amp;#10;DECLARE&amp;#10;&#x9;&#x9;I_CD_EMPRESA USUARIOEMPRESA.CD_EMPRESA%TYPE;&amp;#10;&#x9;&#x9;V_MENSAGEM&#x9; &#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;&#x9;E_GERAL&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;&#x9;V_DT_FECHAMENTO   EMPRESA.DT_FECHAMENTO%TYPE;&amp;#10;BEGIN&amp;#10;&#x9;IF (:CONTROLE.CD_EMPRESA IS NOT NULL) THEN&amp;#10;  &#x9;&#x9;SELECT USUARIOEMPRESA.CD_EMPRESA &amp;#10;  &#x9;&#x9;  INTO I_CD_EMPRESA &amp;#10;  &#x9;&#x9;  FROM USUARIOEMPRESA&amp;#10;    &#x9; WHERE (USUARIOEMPRESA.CD_EMPRESA = :CONTROLE.CD_EMPRESA) &amp;#10;    &#x9;   AND (USUARIOEMPRESA.CD_USUARIO = :GLOBAL.CD_USUARIO);&amp;#10;   &#x9;&#x9; &amp;#10;  &#x9;IF (I_CD_EMPRESA IS NOT NULL) THEN&amp;#10;    &#x9;SELECT EMPRESA.NM_EMPRESA, DT_FECHAMENTO &amp;#10;    &#x9;  INTO :CONTROLE.NM_EMPRESA, V_DT_FECHAMENTO&amp;#10;     &#x9;  FROM EMPRESA&amp;#10;       WHERE EMPRESA.CD_EMPRESA = I_CD_EMPRESA;&amp;#10;    &amp;#10;    &#x9;:ITEMCOMPRA.CD_EMPRESAITEM   := :CONTROLE.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_EMPRESAUTORIZ := :CONTROLE.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_EMPRESA       := :CONTROLE.CD_EMPRESA;&amp;#10;  &#x9;END IF;--IF (I_CD_EMPRESA IS NOT NULL) THEN&amp;#10;  &#x9;&amp;#10;&#x9;&#x9;/*CSL:12/12/2013:64048 - Validação para não permitir lançamentos posteriores a data de fechamento da empresa.*/&amp;#10;&#x9;&#x9;IF :CONTROLE.DT_DESEJADA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;IF ((V_DT_FECHAMENTO IS NOT NULL) AND (TRUNC(V_DT_FECHAMENTO) &lt;= TRUNC(:CONTROLE.DT_DESEJADA))) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Empresa ¢CD_EMPRESA¢ está com a data de fechamento ¢DT_FECHAMENTO¢ informada, não é possível realizar a operação. Verifique TCB012.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21846, '¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢DT_FECHAMENTO='||TO_CHAR(V_DT_FECHAMENTO,'DD/MM/RRRR')||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;  ELSE&amp;#10;  &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4957, NULL);&amp;#10;    RAISE E_GERAL;&amp;#10;  END IF;--IF (:CONTROLE.CD_EMPRESA IS NOT NULL) THEN&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;    :CONTROLE.NM_EMPRESA := NULL;&amp;#10;    MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;:CONTROLE.NM_EMPRESA := NULL;&amp;#10;&#x9;&#x9;--Empresa ¢CD_EMPRESA¢ não cadastrada ou Usuário não tem acesso à Empresa.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(278,'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;:CONTROLE.NM_EMPRESA := NULL;&amp;#10;&#x9;&#x9;--A consulta retornou mais de um resultado ao tentar localizar os dados da empresa ¢CD_EMPRESA¢. Verifique o programa TCB012.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(216,'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;  &amp;#10;&#x9;WHEN OTHERS THEN   &#x9;&#x9;&amp;#10;&#x9;&#x9;--Erro ao buscar os dados da empresa  ¢CD_EMPRESA¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(35,'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE; &amp;#10;&#x9;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-PREV-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('ITEMCOMPRA.DS_OBSERVACAO');"/>
            </Item>
            <Item Name="NM_EMPRESA" Width="459" WrapStyle="Palavra" AutoSkip="false" XPosition="209" YPosition="26"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Nome da Empresa" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  InitializeValue=":GLOBAL.DS_EMPRESA" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_AUTORIZADOR" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="48" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Autorizador" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Autorizador"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" Hint="Código do Autorizador"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_SOLICAUTORIZ_DEPTO"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="168"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE &amp;#10;&#x9;V_VALIDARALCADA VARCHAR2(1);&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;&#x9;VARCHAR2(3200);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_CONT&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;&#x9;IF &#x9;:CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;&#x9;&#x9;IF (:CONTROLE.CD_DEPARTAMENTO IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_CONT&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_CONT := 0;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF (V_CONT = 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*Autorizador ¢CD_AUTORIZADOR¢ não está liberado para o departamento ¢CD_DEPARTAMENTO¢*/&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(34196, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;  SELECT USUARIO.NM_USUARIO &amp;#10;&#x9;&#x9;&#x9;&#x9;INTO :CONTROLE.NM_USUAUTORIZ &amp;#10;&#x9;&#x9;&#x9;&#x9;FROM USUARIO&amp;#10;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN  &amp;#10;&#x9;&#x9;&#x9;&#x9;--O Usuário ¢CD_USUARIO¢ não está cadastrado. Verifique o programa  ANV001.&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(245,'¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END;&amp;#10;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9; SELECT DISTINCT USUARIO.NM_USUARIO&amp;#10;        INTO :CONTROLE.NM_USUAUTORIZ&amp;#10;        FROM SOLICITANTE, PARMCOMPRA, USUARIO &amp;#10;       WHERE SOLICITANTE.CD_EMPRESA     = PARMCOMPRA.CD_EMPRESA&amp;#10;         AND USUARIO.CD_USUARIO         = SOLICITANTE.CD_USUARIO&amp;#10;        --AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.TP_APROVSOLIC&amp;#10;         AND SOLICITANTE.CD_USUARIO     = :CONTROLE.CD_AUTORIZADOR&amp;#10;         AND PARMCOMPRA.CD_EMPRESA      = :GLOBAL.CD_EMPRESA;&amp;#10;      EXCEPTION&amp;#10;&#x9;      WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;      &#x9;--O Usuário ¢CD_USUARIO¢ não é autorizador para a empresa ¢CD_EMPRESA¢. Verifique  o tipo de aprovador no COM009 e o autorizador no TCO002.&amp;#10;&#x9;       &#x9;MENSAGEM_PADRAO(3956, '¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  --Erro ao pesquisar se o usuário ¢CD_USUARIO¢ está cadastrado como solicitante/autorizador. Verifique TCO002. Erro: ¢SQLERRM¢.&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(15350, '¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END; &amp;#10;&#x9; /* WLV:22/08/2012:41514&amp;#10;&#x9;  * Adicionado o DISTINCT na consulta, pois quando ha um usuário autorizador mais de uma vez cadastrada para mesma &amp;#10;&#x9;  * empresa com grupos diferentes estourava TOO_MANY_ROWS.&amp;#10;&#x9;  */&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;SELECT ST_ALCADA&amp;#10;&#x9;INTO V_VALIDARALCADA&amp;#10;&#x9; FROM PARMCOMPRA &amp;#10;&#x9;WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;EXCEPTION &amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;V_VALIDARALCADA := 'N';&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END;&amp;#10;&amp;#10;  IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PERMITEAPROVADORES'),'N') = 'S' THEN&amp;#10;  &#x9;IF V_VALIDARALCADA = 'S' THEN&amp;#10;  &#x9;&#x9;IF(:CONTROLE.CD_DEPARTAMENTO IS NOT NULL)THEN&#x9;&#x9;   &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  &#x9;BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;      SELECT DISTINCT USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;        INTO :CONTROLE.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;        FROM SOLICITANTE, PARMCOMPRA , USUARIO, AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA &amp;#10;&#x9;&#x9;       WHERE SOLICITANTE.CD_EMPRESA     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;         AND USUARIO.CD_USUARIO         &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;      --   AND SOLICITANTE.ST_SOLICITANTE &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = PARMCOMPRA.TP_APROVSOLIC SOL 137497&amp;#10;&#x9;&#x9;         AND SOLICITANTE.CD_USUARIO     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;         AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO &#x9; &#x9; = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;         AND DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO  &#x9;&#x9; = AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;         AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR&#x9;     = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;         AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'&amp;#10;&#x9;&#x9;         AND PARMCOMPRA.CD_EMPRESA      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;&#x9;    WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;  &#x9;&#x9;&#x9;/*EML:29/07/2019:13058    &#x9;--O Usuário ¢CD_USUARIO¢ não é autorizador para a empresa ¢CD_EMPRESA¢. Verifique  o tipo de aprovador no COM009 e o autorizador no TCO002.&amp;#10;&#x9;&#x9;&#x9;     &#x9;MENSAGEM_PADRAO(3956, '¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; --O Usuário Autorizador ¢CD_AUTORIZADOR¢ não está cadastrado como Aprovador de Necessidade para o Departamento de Compra ¢CD_DEPARTAMENTO¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(21638, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --Erro ao pesquisar se o usuário ¢CD_USUARIO¢ está cadastrado como solicitante/autorizador. Verifique TCO002. Erro: ¢SQLERRM¢.&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(15350, '¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&#x9;&#x9;    &#x9;&#x9;  &amp;#10;&#x9;&#x9;    END;&#x9;&#x9;  &#x9;&#x9;    &#x9;&#x9;    &#x9;&#x9;  &amp;#10;  &#x9;&#x9;ELSE   &#x9;&#x9;&#x9;&amp;#10;  &#x9;&#x9; &#x9;BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;     SELECT DISTINCT USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;       INTO :CONTROLE.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;       FROM SOLICITANTE, PARMCOMPRA , USUARIO, AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA &amp;#10;&#x9;&#x9;      WHERE SOLICITANTE.CD_EMPRESA     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;        AND USUARIO.CD_USUARIO         &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;        AND SOLICITANTE.ST_SOLICITANTE&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  = PARMCOMPRA.TP_APROVSOLIC&amp;#10;&#x9;&#x9;        AND SOLICITANTE.CD_USUARIO     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;        AND DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO  &#x9;&#x9;= AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO&#x9;&#x9;        &amp;#10;&#x9;&#x9;        AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR&#x9;    = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;        AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'&amp;#10;&#x9;&#x9;        AND PARMCOMPRA.CD_EMPRESA      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;   EXCEPTION&amp;#10;&#x9;&#x9;&#x9;   WHEN NO_DATA_FOUND THEN&#x9;&#x9;   &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;  --O Usuário Autorizador ¢CD_AUTORIZADOR¢ não está cadastrado como Aprovador de Necessidade.&amp;#10;&#x9;&#x9;&#x9; &#x9;  MENSAGEM_PADRAO(32829, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;  --Erro ao pesquisar se o usuário ¢CD_USUARIO¢ está cadastrado como solicitante/autorizador. Verifique TCO002. Erro: ¢SQLERRM¢.&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;  MENSAGEM_PADRAO(15350, '¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;  RAISE FORM_TRIGGER_FAILURE;&#x9;&#x9;    &#x9;&#x9;  &amp;#10;&#x9;&#x9;   END;&#x9;&#x9; &#x9;&#x9;   &amp;#10;&#x9;&#x9;    --Sugere o Departamento de Compra, caso possuir apenas um cadastrado para o usuário solicitante logado&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;SELECT DISTINCT DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO, DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;INTO :CONTROLE.CD_DEPARTAMENTO, :CONTROLE.DS_DEPARTAMENTO&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO =  DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;  /* AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO IN&amp;#10;&#x9;&#x9;&#x9;&#x9;       (SELECT SOLICDEPARTCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;          FROM SOLICDEPARTCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;         WHERE SOLICDEPARTCOMPRA.CD_SOLICITANTE =:GLOBAL.CD_USUARIO)*/&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = :CONTROLE.CD_AUTORIZADOR&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S';&#x9;&#x9; &#x9;&#x9; &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :CONTROLE.CD_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :CONTROLE.DS_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&#x9;&#x9;&amp;#10;&#x9;&#x9;   &amp;#10; &#x9;&#x9;END IF;&#x9;       &amp;#10;   &#x9;  END IF;&amp;#10;    END IF;&amp;#10;&#x9;  &amp;#10;&#x9;  /* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9; * Removida validação que obriga que o autorizador informado seja um aprovador de necessidade do TCO024&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;  /* DCS:19/11/2013:63403&amp;#10;&#x9;&#x9; * Caso esteja ativo o controle de Alçadas por Departamento,&amp;#10;&#x9;&#x9; * O Autorizador e Departamento devem estar cadastrados no TCO024&amp;#10;&#x9;&#x9; */&amp;#10;/*EML:29/07/2019:13058&#x9;&#x9;&amp;#10;&#x9;  IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL AND :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'; --Aprovador de Necedssidade&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    --O Usuário Autorizador ¢CD_AUTORIZADOR¢ não está cadastrado como Aprovador de Necessidade para o Departamento de Compra ¢CD_DEPARTAMENTO¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(21638, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;  END IF;&amp;#10;--/*EML:29/07/2019:13058 */&#x9;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&#x9; IF(NVL(:CONTROLE.ST_MUDAUTORIZADOR,'S') = 'S')THEN &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;VALIDA_AUTORIZADORCOMPRA(:CONTROLE.CD_AUTORIZADOR, V_MENSAGEM);&#x9;&amp;#10;&#x9;&#x9;&#x9;IF(V_MENSAGEM  IS NOT NULL)THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE &amp;#10;&#x9;&#x9;:CONTROLE.NM_USUAUTORIZ:=NULL;&amp;#10;&#x9;END IF;&#x9;&amp;#10;&#x9;&amp;#10;EXCEPTION&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;:CONTROLE.NM_USUAUTORIZ:=NULL;&amp;#10;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;  MENSAGEM('Maxys',V_MENSAGEM,2);&#x9;&#x9; &#x9;&#x9;&#x9;    &#x9;&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-LISTVAL" DirtyInfo="true"
                         TriggerText="BEGIN &amp;#10;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PERMITEAPROVADORES')    ,'N') = 'S' THEN&amp;#10; &#x9;  IF SHOW_LOV('LOV_SOLICAUTORIZ_DEPTO') THEN&amp;#10; &#x9;    NULL;&amp;#10; &#x9;  END IF;&#x9;&amp;#10;  ELSE&amp;#10;   IF SHOW_LOV('LOV_SOLICAUTORIZ') THEN&amp;#10;     NULL;&amp;#10;   END IF;&amp;#10; END IF;&amp;#10;END;&amp;#10;&amp;#10;"/>
            </Item>
            <Item Name="NM_USUAUTORIZ" Width="459" WrapStyle="Palavra" AutoSkip="false" XPosition="209" YPosition="48"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Nome do Autorizador" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_SOLICAUTORIZ" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_TIPOCOMPRA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="70" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do tipo de compra" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Tipo Compra"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21"
                  Hint="Código do tipo de compra" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_TIPOCOMPRA" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="168"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;IF (:CONTROLE.CD_TIPOCOMPRA IS NOT NULL) THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT TIPOCOMPRA.DS_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(TIPOCOMPRA.TP_COMPRA,'D') TP_COMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; DECODE(TIPOCOMPRA.TP_COMPRA,'D','DIVERSAS',&amp;#10;&#x9;&#x9;&#x9;                                   'P','PATRIMONIAL',&amp;#10;&#x9;&#x9;&#x9;                                   'J','JURÍDICA',&amp;#10;&#x9;&#x9;&#x9;                                   'DIVERSAS') DS_TPCOMPRA&amp;#10;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9; :CONTROLE.TP_COMPRA,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9; :CONTROLE.DS_TPCOMPRA&amp;#10;&#x9;&#x9;&#x9; &#x9;FROM TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE TIPOCOMPRA.CD_TIPOCOMPRA  = :CONTROLE.CD_TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9;   AND NVL(TIPOCOMPRA.ST_ATIVO, 'A') = 'A';&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;--Tipo de compra ¢CD_TIPOCOMPRA¢ não encontrado. Verifique o programa TCO020.&amp;#10;&#x9;&#x9; &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2693,'¢CD_TIPOCOMPRA='||:CONTROLE.CD_TIPOCOMPRA||'¢');&amp;#10;&#x9;&#x9; &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Tipo de compra ¢CD_TIPOCOMPRA¢ está cadastrado várias vezes. Verifique TCO020.&amp;#10;&#x9;&#x9; &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3752,'¢CD_TIPOCOMPRA='||:CONTROLE.CD_TIPOCOMPRA||'¢');&amp;#10;&#x9;&#x9; &#x9;&#x9;RAISE E_GERAL; &amp;#10;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;--Ocorreu um erro inesperado ao tentar localizar o tipo de compra  ¢CD_TIPOCOMPRA¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9; &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2695,'¢CD_TIPOCOMPRA='||:CONTROLE.CD_TIPOCOMPRA||'¢SQLERRM='||SQLERRM||'¢');&#x9;&#x9;&amp;#10;&#x9;&#x9; &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF (NVL(:CONTROLE.TP_COMPRA,'D') = 'J') THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', &#x9;&#x9;&#x9;&#x9;&#x9;ENABLED, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', &#x9;&#x9;&#x9;&#x9;NAVIGABLE, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOTEXTO');&#x9;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.NR_CONTRATO := NULL;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',     &#x9;&#x9;&#x9;ENABLED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',      &#x9;NAVIGABLE, PROPERTY_FALSE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF; --IF (NVL(:CONTROLE.TP_COMPRA,'D') = 'J') THEN&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&#x9;&#x9;&amp;#10;&#x9;&#x9;:CONTROLE.TP_COMPRA&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.DS_TPCOMPRA&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.NR_CONTRATO &#x9;:= NULL;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',     &#x9;&#x9;&#x9;ENABLED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',      &#x9;NAVIGABLE, PROPERTY_FALSE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;END IF; --IF (:CONTROLE.CD_TIPOCOMPRA IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&#x9;&#x9;&amp;#10;&#x9;&#x9;:CONTROLE.TP_COMPRA&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.DS_TPCOMPRA&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.NR_CONTRATO &#x9;:= NULL;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',     &#x9;&#x9;&#x9;ENABLED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',      &#x9;NAVIGABLE, PROPERTY_FALSE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&#x9;&#x9;&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&#x9;&#x9;&amp;#10;&#x9;&#x9;:CONTROLE.TP_COMPRA&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.DS_TPCOMPRA&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;:CONTROLE.NR_CONTRATO &#x9;:= NULL;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',     &#x9;&#x9;&#x9;ENABLED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',      &#x9;NAVIGABLE, PROPERTY_FALSE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&#x9;&#x9;&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_TIPOCOMPRA" Width="340" WrapStyle="Palavra" AutoSkip="false" XPosition="209" YPosition="70"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do tipo de compra" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_TIPOCOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DS_TPCOMPRA" Width="118" WrapStyle="Palavra" AutoSkip="false" XPosition="550" YPosition="70"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do tipo de compra" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_TIPOCOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="12" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="TP_COMPRA" Justification="Iniciar" Width="100" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="579" YPosition="64" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="5"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_TIPOCOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="DT_DESEJADA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="92" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Data Desejada" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Data Desejada"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21"
                  Hint="Data Desejada" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB"
                  PromptFontStyle="Sublinhado" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_DT_FECHAMENTO  EMPRESA.DT_FECHAMENTO%TYPE;&amp;#10;&#x9;V_CD_TIPOCOMPRA  TIPOCOMPRA.CD_TIPOCOMPRA%TYPE;&amp;#10;&#x9;V_DS_TIPOCOMPRA  TIPOCOMPRA.DS_TIPOCOMPRA%TYPE;&amp;#10;&#x9;V_MENSAGEM       VARCHAR2(32000);&amp;#10;&#x9;E_GERAL          EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM THEN&amp;#10;&#x9;&#x9;IF :CONTROLE.DT_DESEJADA IS NOT NULL THEN     &amp;#10;&#x9;&#x9;&#x9; /*AUG:130776:15/03/2019 VERIFICA SE O COM001 FOI CHAMADO PELO EMV078 PARA NÃO VALIDAR A DATA DESEJADA DO PEDIDO INTERNO.&amp;#10;&#x9;&#x9;&#x9;  *ESTA VALIDAÇÃO ESTÁ SENDO FEITA AO FINAL DA SOLICITAÇÃO DE COMPRA.&amp;#10;&#x9;&#x9;&#x9;  */&amp;#10;&#x9;&#x9;&#x9;IF :PARAMETER.CD_MODULO   &lt;> 'EMV' AND&amp;#10;&#x9;&#x9; &#x9;&#x9; :PARAMETER.CD_PROGRAMA &lt;> 78    AND&#x9;&#x9;&amp;#10;&#x9;&#x9; &#x9;&#x9; TRUNC(:CONTROLE.DT_DESEJADA) &lt;= TRUNC(SYSDATE) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DT_DESEJADA := SYSDATE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A Data Desejada deve ser maior que a data atual!&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4686,'');&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*CSL:12/12/2013:64048 - Validação para não permitir lançamentos posteriores a data de fechamento da empresa.*/&amp;#10;&#x9;&#x9;&#x9;IF :CONTROLE.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT EMPRESA.DT_FECHAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_DT_FECHAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE EMPRESA.CD_EMPRESA = :CONTROLE.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3214, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF ((V_DT_FECHAMENTO IS NOT NULL) AND (TRUNC(V_DT_FECHAMENTO) &lt;= TRUNC(:CONTROLE.DT_DESEJADA))) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A Empresa ¢CD_EMPRESA¢ está com a data de fechamento ¢DT_FECHAMENTO¢ informada, não é possível realizar a operação. Verifique TCB012.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21846, '¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢DT_FECHAMENTO='||TO_CHAR(V_DT_FECHAMENTO,'DD/MM/RRRR')||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/* DCS:11/02/2014:58880&amp;#10;&#x9;  &#x9; * busca o tipo de compra automático cadastrado no TCO20, pela diferença de dias entre a data de Emissão e data Desejada&amp;#10;&#x9;  &#x9; */       &amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_COMPRAS.VALIDA_TIPOCOMPRAUTOMATICO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;PACK_COMPRAS.DEFINE_TIPOCOMPRAUTOMATICO(TRUNC(SYSDATE),&amp;#10;&#x9;&#x9;&#x9;&#x9;                                        TRUNC(:CONTROLE.DT_DESEJADA),&amp;#10;&#x9;&#x9;&#x9;&#x9;                                        V_CD_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                        V_DS_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                        V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.CD_TIPOCOMPRA := V_CD_TIPOCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := V_DS_TIPOCOMPRA;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_COMPRAS.VALIDA_TIPOCOMPRAUTOMATICO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.CD_TIPOCOMPRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.TP_COMPRA&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_TPCOMPRA&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0),V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(2627, '¢SQLERRM='||SQLERRM||'¢'); --Ocorreu um erro inesperado. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DT_INICIO" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="361" YPosition="92" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Data de Início dos Serviços" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Data de Início p/ Serviço" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentOffset="6" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="DD/MM/RRRR"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21"
                  Hint="Data de Início dos Serviços" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Date" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  IF (:CONTROLE.DT_DESEJADA IS NOT NULL) AND (:CONTROLE.DT_INICIO   IS NOT NULL) THEN&amp;#10;&#x9;  IF :CONTROLE.DT_INICIO > :CONTROLE.DT_DESEJADA THEN&amp;#10;&#x9;  &#x9;--Data de início da obra deve ser menor que data desejada.&amp;#10;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(4698,'');&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.DT_INICIO := :CONTROLE.DT_DESEJADA;&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  END IF;&amp;#10;  END IF;&amp;#10;  &amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="NR_CONTRATO" Justification="Centralizado" Width="118" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="550" YPosition="92" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false" ParentType="29"
                  CheckBoxOtherValues="Marcado" Prompt="Nr. Contrato" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="6" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="8" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMCOMPRA" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="18" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_ITEMCOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_DEPARTAMENTO" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="114" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Departamento"
                  CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Departamento" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_DEPCOMPRAAUTO" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM  VARCHAR2(32000);&amp;#10;&#x9;V_CD_AUTORIZADOR VARCHAR2(3);&amp;#10;&#x9;E_GERAL     EXCEPTION;&amp;#10;&#x9;V_COUNT&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;V_CONT&#x9;&#x9;  NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;IF :SYSTEM.TRIGGER_ITEM = :SYSTEM.CURSOR_ITEM THEN&amp;#10;&#x9;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21597, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢'); --O Departamento ¢CD_DEPARTAMENTO¢ não está cadastrado. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;   /* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9;  * valida se o departamento esta cadastrado para o Solicitante no TCO024&amp;#10;&#x9;&#x9;  */&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM SOLICDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;       WHERE SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;         AND SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;         AND SOLICDEPARTCOMPRA.CD_SOLICITANTE  = :GLOBAL.CD_USUARIO;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(22640, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢CD_SOLICITANTE='||:GLOBAL.CD_USUARIO||'¢'); --O Departamento de Compra ¢CD_DEPARTAMENTO¢ não está cadastrado para o Usuário Soliciante ¢CD_SOLICITANTE¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;    V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;IF (:CONTROLE.CD_AUTORIZADOR IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_CONT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONT := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (V_CONT = 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*Autorizador ¢CD_AUTORIZADOR¢ não está liberado para o departamento ¢CD_DEPARTAMENTO¢*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(34196, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;  &#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PERMITEAPROVADORES')    ,'N') = 'S' THEN&#x9; &amp;#10;&#x9;&#x9;  &#x9;&#x9;IF(:CONTROLE.CD_AUTORIZADOR IS NOT NULL)THEN&amp;#10;&#x9;&#x9;  &#x9;  &#x9;V_CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;   &#x9;&#x9;ELSE &#x9;                                        &amp;#10;&#x9;&#x9; &#x9;  &#x9;&#x9;V_CD_AUTORIZADOR := :GLOBAL.CD_USUARIO;&amp;#10;&#x9;&#x9;    &#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;/* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;* valida se o departamento esta cadastrado para o Solicitante no TCO024&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM SOLICDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;       WHERE SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;         AND SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;         AND SOLICDEPARTCOMPRA.CD_SOLICITANTE  = :GLOBAL.CD_USUARIO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(22640, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢CD_SOLICITANTE='||V_CD_AUTORIZADOR||'¢'); --O Departamento de Compra ¢CD_DEPARTAMENTO¢ não está cadastrado para o Usuário Soliciante ¢CD_SOLICITANTE¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;  &#x9;&#x9;BEGIN&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT DISTINCT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO :CONTROLE.DS_DEPARTAMENTO&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO =  DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; /*  AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO IN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;       (SELECT SOLICDEPARTCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          FROM SOLICDEPARTCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;         WHERE SOLICDEPARTCOMPRA.CD_SOLICITANTE = V_CD_AUTORIZADOR  )*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = V_CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'; &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(22640, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢CD_SOLICITANTE='||V_CD_AUTORIZADOR||'¢'); --O Departamento de Compra ¢CD_DEPARTAMENTO¢ não está cadastrado para o Usuário Soliciante ¢CD_SOLICITANTE¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*GBO:20/12/2019:142153*/&amp;#10;&#x9;&#x9;&#x9;IF :CONTROLE.NR_LOTECOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*) &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PROJETOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PROJETOCOMPRA.CD_EMPRESA      = :CONTROLE.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PROJETOCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PROJETOCOMPRA.ST_PROJETO     IN ('A', 'B');&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.CD_PROJETOCOMPRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.CD_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.DS_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAPEX',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.CD_PROJETOCOMPRA := NULL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0),V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(2627, '¢SQLERRM='||SQLERRM||'¢'); --Ocorreu um erro inesperado. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="KEY-LISTVAL" DirtyInfo="true"
                         TriggerText="BEGIN &amp;#10;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PERMITEAPROVADORES')    ,'N') = 'S' THEN&amp;#10; &#x9;  IF SHOW_LOV('LOV_DEPCOMPRAAUTO') THEN&amp;#10; &#x9;    NULL;&amp;#10; &#x9;  END IF;&#x9;&amp;#10;  ELSE&amp;#10;   IF SHOW_LOV('LOV_DEPARTAMENTOCOMPRA') THEN&amp;#10;     NULL;&amp;#10;   END IF;&amp;#10; END IF;&amp;#10;END;&amp;#10;&amp;#10;"/>
            </Item>
            <Item Name="DS_DEPARTAMENTO" Justification="Iniciar" Width="459" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="209" YPosition="114" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição do tipo de compra"
                  CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_TIPOCOMPRA" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="120" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="NR_LOTECOMPRA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="123" YPosition="136" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Número do Lote de Compra" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Lote de Compra"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_COMPRAS" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DT_ANOSAFRA" Justification="Centralizado" Width="54" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="409" YPosition="136" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Ano Safra" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PromptForegroundColor="r0g25b50"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false"
                  FontName="MS Sans Serif" FontSize="1000" FontStyle="Simples" FontWeight="Semiclaro"
                  FontSpacing="Normal" ForegroundColor="black" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="DT_ANOSAFRA"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" Hide="false" ExecuteHierarchy="Sobreposição"
                         FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_INSTRUCAO       VARCHAR2(1000);&amp;#10;&#x9;V_ERRO            NUMBER;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&#x9;&#x9; &amp;#10;&#x9;V_CD_EMPRESA&#x9;&#x9;  ITEMCOMPRA.CD_EMPRESA%TYPE;&amp;#10;&#x9;V_NR_LOTECOMPRA&#x9;&#x9;ITEMCOMPRA.NR_ITEMCOMPRA%TYPE;&#x9;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONTROLE.NR_LOTECOMPRA IS NOT NULL AND :CONTROLE.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.V_DUPLICADO := FALSE; /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;V_NR_LOTECOMPRA := :CONTROLE.NR_LOTECOMPRA;&amp;#10;&#x9;&#x9;V_CD_EMPRESA&#x9;&#x9;:= :CONTROLE.CD_EMPRESA;&amp;#10;    CLEAR_FORM(NO_VALIDATE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;/**KRG:03/06/2008:18311&amp;#10;&#x9;&#x9; * Comentado pois o campo é de fórmula, e na fórmula já faz receber a PACK_GLOBAL.TP_PEDIDO.&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;--:CONTROLE.TP_PEDIDO := PACK_GLOBAL.TP_PEDIDO; &amp;#10;&#x9;&#x9;SET_BLOCK_PROPERTY('ITEMCOMPRA',DEFAULT_WHERE,'     CD_EMPRESA    = '||V_CD_EMPRESA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  ' AND NR_LOTECOMPRA = '||V_NR_LOTECOMPRA);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA'); &amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXECUTE_QUERY;&#x9;&amp;#10;&#x9;&#x9;LAST_RECORD;&#x9;&amp;#10;&#x9;&#x9;:CONTROLE.CD_EMPRESA    := V_CD_EMPRESA;&amp;#10;&#x9;&#x9;:CONTROLE.NR_LOTECOMPRA := V_NR_LOTECOMPRA;   &amp;#10;    V_INSTRUCAO := 'SELECT  ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        ITEMCOMPRACCUSTO.CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;  ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;  ITEMCOMPRACCUSTO.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;  ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.PC_PARTICIPACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9;  ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   FROM ITEMCOMPRACCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;&#x9;ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  WHERE ITEMCOMPRA.CD_EMPRESA&#x9;&#x9; = ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND ITEMCOMPRA.NR_ITEMCOMPRA = ITEMCOMPRACCUSTO.NR_ITEMCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND ITEMCOMPRA.CD_EMPRESA &#x9; = '||V_CD_EMPRESA||'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    AND ITEMCOMPRA.NR_LOTECOMPRA = '||V_NR_LOTECOMPRA; &amp;#10;      -- Removido pois está trazendo as compras apenas status 11 e 2&amp;#10;      -- AND ITEMCOMPRACCUSTO.ST_ITEMCOMPRA  &lt;> 2&amp;#10;&#x9;&#x9;&#x9;--------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;-- CARREGA RECORDGROUP&amp;#10;&#x9;&#x9;&#x9;--------------------------------------------------------------------------&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;CRIA_RECORDGROUP('GRUPO_CC',V_INSTRUCAO,V_ERRO);&amp;#10;    DELETE ITEMCOMPRACCUSTO                              &amp;#10;     WHERE (CD_EMPRESA,NR_ITEMCOMPRA) IN (SELECT CD_EMPRESA,NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9;FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9; WHERE CD_EMPRESA    = V_CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; AND NR_LOTECOMPRA = V_NR_LOTECOMPRA) ;&amp;#10;&#x9;&#x9;&amp;#10;&amp;#10;&#x9;&#x9;PACK_GRAVALIBERACAO.GRAVA_VETOR(:CONTROLE.CD_EMPRESA,     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.CD_AUTORIZADOR, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.CD_TIPOCOMPRA,  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.DT_DESEJADA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.NR_LOTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.DT_INICIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.NR_CONTRATO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      :CONTROLE.CD_DEPARTAMENTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM);    &#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; &amp;#10;&#x9;&#x9;PACK_GRAVALIBERACAO.GRAVA_VETOR_ITENS(V_MENSAGEM);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; &amp;#10;&#x9;ELSE&amp;#10;&#x9;  GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;&#x9;END IF;&#x9;&amp;#10;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9; VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;PACK_PROCEDIMENTOS.VALIDA_ANOSAFRA(V_MENSAGEM);&amp;#10;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="KEY-LISTVAL" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9; VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; EXCEPTION;&amp;#10;&#x9;V_ST_VALIDA_ANOSAFRA VARCHAR2(1);&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;V_ST_VALIDA_ANOSAFRA := PACK_PARMGEN.CONSULTA_PARAMETRO('VFT',4,'MAX',1,'LST_ANOSAFRA');&amp;#10;&amp;#10;&#x9;IF (NVL(V_ST_VALIDA_ANOSAFRA,'N') IN ('S','I')) THEN&amp;#10;&#x9;&#x9;IF SHOW_LOV('LOV_ANOSAFRA') THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="DS_ANOSAFRA" Justification="Iniciar" Width="204" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="464" YPosition="136" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="70" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum"
                  ColumnName="DS_ANOSAFRA" PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="BTN_CAPEX" Enabled="false" Width="28" BackColor="white" XPosition="313" FontName="MS Sans Serif"
                  YPosition="136" FontSize="1000" FontStyle="Simples" FontWeight="Semiclaro" PromptFontName="Tahoma"
                  FontSpacing="Normal" ForegroundColor="black" CanvasName="CAN_ITEMCOMPRA" KeyboardNavigable="true"
                  Height="21" Prompt="CAPEX" Iconic="false" PromptAttachmentOffset="4" PromptAlignOffset="3"
                  PromptFontSize="900" ItemType="Tecla" PromptForegroundColor="r0g25b50" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_SEL" Label=". . ." PromptFontStyle="Simples"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" Visible="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_PARAMPROJETOCOMPRA&#x9;PARAMLIST;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;BEGIN&amp;#10;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;V_PARAMPROJETOCOMPRA := GET_PARAMETER_LIST('V_PARAMPROJETOCOMPRA');&amp;#10;&#x9;  IF ( NOT ID_NULL(V_PARAMPROJETOCOMPRA) ) THEN&amp;#10;&#x9;&#x9;  DESTROY_PARAMETER_LIST(V_PARAMPROJETOCOMPRA);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  V_PARAMPROJETOCOMPRA := CREATE_PARAMETER_LIST('V_PARAMPROJETOCOMPRA');&amp;#10;&#x9;  ADD_PARAMETER(V_PARAMPROJETOCOMPRA,'CD_DEPARTAMENTO' ,TEXT_PARAMETER, :CONTROLE.CD_DEPARTAMENTO );&amp;#10;&#x9;&#x9;V_MENSAGEM := MAX_CALL_FORM('SEL',392, NO_HIDE, NO_REPLACE, NO_QUERY_ONLY, V_PARAMPROJETOCOMPRA);&amp;#10;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM('MAX',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF PACK_PROJETO_COMPRAS.GET_PROJETO_SELECIONADO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;/*Procedimento cancelado pelo usuário.*/&amp;#10;&#x9;    MENSAGEM_PADRAO(588, NULL);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;  :CONTROLE.CD_PROJETOCOMPRA := PACK_PROJETO_COMPRAS.GET_PROJETO_SELECIONADO;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('ITEMCOMPRA.CD_ITEM');"/>
            </Item>
            <Item Name="TP_PEDIDO" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" Formula="PACK_PROCEDIMENTOS.RETORNA_TP_PEDIDO"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="2" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Fórmula"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_OBSCANCEL" Justification="Iniciar" Width="435" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="25" YPosition="279" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  Prompt="Motivo Devolução" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="70" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="500" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="true" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="BT_INCLUIR" Justification="Iniciar" Width="121" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="150" YPosition="407" DatabaseItem="true" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="false" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontName="MS Sans Serif" FontSize="800" FontStyle="Simples" FontWeight="Semiclaro"
                  FontSpacing="Normal" ForegroundColor="black" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="1" Height="22" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Tecla" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" Label="&amp;Incluir Centro de Custo" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9; GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9; SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BT_GRAFICO" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="721" YPosition="342" DatabaseItem="true" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="Gráfico" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&#x9;&amp;#10;&#x9;PARAMETROS PARAMLIST; &amp;#10;&#x9;  &#x9;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;PARAMETROS := GET_PARAMETER_LIST('PARAMETROS');&amp;#10;&#x9;IF NOT ID_NULL(PARAMETROS) THEN&amp;#10;&#x9;&#x9;DESTROY_PARAMETER_LIST('PARAMETROS');&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;PARAMETROS := CREATE_PARAMETER_LIST('PARAMETROS');&amp;#10;&#x9;ADD_PARAMETER(PARAMETROS, 'V_CD_ITEM',      TEXT_PARAMETER,:ITEMCOMPRA.CD_ITEM);&amp;#10;&#x9;ADD_PARAMETER(PARAMETROS, 'DESNAME',        TEXT_PARAMETER,'Gráfico de Cotação Anual');&amp;#10;&#x9;ADD_PARAMETER(PARAMETROS, 'WINDOW_STATE',   TEXT_PARAMETER,'MAXIMIZE');&amp;#10;&#x9;RUN_PRODUCT(GRAPHICS,:GLOBAL.VL_CURRENTPATH||'\COTACAO.OGD',ASYNCHRONOUS,RUNTIME,FILESYSTEM,PARAMETROS,'');&amp;#10;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="LST_AUTOSUGESTAO" Width="216" MaximumLength="1" XPosition="682" Required="true" YPosition="315"
                  FontSize="1000" PromptFontName="Tahoma" CanvasName="CAN_ITEMCOMPRACCUSTO" ListElementCount="5"
                  CaseRestriction="Superior" ItemsDisplay="1" Height="23"
                  Prompt="Opções de auto-sugestão (Quantidade e % Partic.)" PromptAttachmentEdge="Iniciar"
                  TabPageName="" PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0"
                  PromptFontSize="900" ItemType="Item de Lista" DataType="Number" InitializeValue="2" DirtyInfo="true"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptVisualAttributeName="VSA_PROMPT" PromptFontStyle="Simples"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Todos os Registros">
                <ListItemElement Index="1" Name="Sugerir Qtde a partir do %" Value="1"/>
                <ListItemElement Index="2" Name="Sugerir % a partir da Qtde" Value="2"/>
                <ListItemElement Index="3" Name="Considerar apenas %" Value="5"/>
                <ListItemElement Index="4" Name="Ambos" Value="3"/>
                <ListItemElement Index="5" Name="Nenhum" Value="4"/>
                <Trigger Name="WHEN-LIST-CHANGED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;PACK_PARMGEN.AJUSTA_PARAMETRO(I_CD_MODULO &#x9;&#x9;&#x9; => :GLOBAL.CD_MODULO,&amp;#10;                                I_CD_PROGRAMA &#x9;&#x9; => :GLOBAL.CD_PROGRAMA,&amp;#10;                                I_CD_USUARIO &#x9;&#x9;&#x9; => 'MAX',&amp;#10;                                I_CD_VERSAOPARMGEN => :GLOBAL.CD_EMPRESA,&amp;#10;                                I_NM_PARAMETRO &#x9;&#x9; => 'ST_AUTOSUGESTAO',&amp;#10;                                I_VL_PARAMETRO &#x9;&#x9; => :CONTROLE.LST_AUTOSUGESTAO,&amp;#10;                                O_DS_MENSAGEM &#x9;&#x9; => V_MENSAGEM);&amp;#10;&#x9;FAZ_COMMIT;&amp;#10;&amp;#10;&#x9;IF (:CONTROLE.LST_AUTOSUGESTAO = 2) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',NAVIGABLE,PROPERTY_FALSE);&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',NAVIGABLE,PROPERTY_TRUE);&#x9;&amp;#10;&#x9;ELSIF (:CONTROLE.LST_AUTOSUGESTAO = 5) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',NAVIGABLE,PROPERTY_FALSE);&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*ASF:19/02/2020:140506&amp;#10;&#x9;IF (:CONTROLE.LST_AUTOSUGESTAO = 5) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',NAVIGABLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&amp;#10;    SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO', ENABLED, PROPERTY_TRUE);      &amp;#10;    SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO', NAVIGABLE, PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&amp;#10;    SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO', ENABLED, PROPERTY_TRUE);     &amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;&#x9;GO_ITEM('ITEMCOMPRACCUSTO.DS_OBSERVACAO');&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="GO_ITEM('ITEMCOMPRACCUSTO.DS_OBSERVACAO');"/>
            </Item>
            <Item Name="BT_SALVAR" Iconic="false" TabPageName="" PromptAttachmentOffset="0" PromptAlignOffset="0"
                  PromptFontSize="1000" Width="88" ItemType="Tecla" BackColor="white" XPosition="394"
                  FontName="MS Sans Serif" YPosition="162" FontSize="1000" FontStyle="Simples" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_NORMAL" FontWeight="Semiclaro" Label="&amp;Salvar"
                  PromptFontName="Tahoma" FontSpacing="Normal" ForegroundColor="black"
                  CanvasName="CAN_MOTIVOCANCELAMENTO" Height="23">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM                    VARCHAR2(32000);&amp;#10;&#x9;E_GERAL                       EXCEPTION;&#x9;&#x9;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;IF (:ITEMCOMPRA.DS_OBSCANCEL IS NULL) THEN&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(12107, NULL); -- O Campo Descrição da Observação não pode ser nulo!&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.DS_OBSCANCEL');&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF; --IF (:CONTROLE.DS_OBSCANCEL IS NULL) THEN&amp;#10;&#x9;--------------------------------------------------&amp;#10;&#x9;/**FLA:24/02/2020:144838&amp;#10;&#x9; * Adição de condição para não permitir cancelamento de solicitação de compra caso esteja em algum status&amp;#10;&#x9; * além de 'Não Atendido' e 'Parcialmente Atendido'&amp;#10;&#x9; */&amp;#10;&#x9;IF :ITEMCOMPRA.ST_ITEMCOMPRA IN (1, 2) THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;  IF (SHOW_ALERT('EXCLUSAO') = ALERT_BUTTON1) THEN&amp;#10;&#x9;    IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;GO_BLOCK(:GLOBAL.MD_BLOCO);&amp;#10;&#x9;&#x9;&#x9;&#x9;AUDITA_EXCLUSAO;&amp;#10;&#x9;    END IF; --IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;    ----------------------------------------------&amp;#10;&#x9;    &amp;#10;&#x9;&#x9;&#x9;CANCELAR_ITEMCOMPRA (I_NR_ITEMCOMPRA => :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;                       I_CD_EMPRESA    => :ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;                       I_CD_ITEM     &#x9; => :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;                       O_MENSAGEM&#x9;&#x9;&#x9; => V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF; --IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;------------------------------------------&amp;#10;&#x9;    &amp;#10;&#x9;    CLEAR_RECORD;&amp;#10;&#x9;    IF (FORM_SUCCESS) THEN&amp;#10;&#x9;      COMMIT;&amp;#10;&#x9;      GO_ITEM('CONTROLE.NR_LOTECOMPRA'); /*WLV:16/02/2012:40906 - Adicionado para atualizar a janela apos o cancelamento do item*/&amp;#10;&#x9;      EXECUTE_TRIGGER('KEY-NEXT-ITEM');&amp;#10;&#x9;    END IF; --IF (FORM_SUCCESS) THEN&amp;#10;&#x9;  END IF; --IF (V_ALERT = ALERT_BUTTON1) THEN&amp;#10;&#x9;    &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;/*Não foi possível Cancelar a Solicitação Nº ¢NR_ITEMCOMPRA¢, pois ele esta com Status ¢ST_ITEMCOMPRA¢.*/&amp;#10;    V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(12106, '¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||&amp;#10;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢ST_ITEMCOMPRA='||:ITEMCOMPRA.ST_ITEMCOMPRA ||' - '||PACK_COMPRAS.RETORNA_ST_ITEMCOMPRACCUSTO(:ITEMCOMPRA.ST_ITEMCOMPRA)||'¢');&amp;#10;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;FAZ_ROLLBACK;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('CONTROLE.BT_VOLTAR');"/>
                <Trigger Name="KEY-PREV-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('ITEMCOMPRA.DS_OBSCANCEL');"/>
            </Item>
            <Item Name="BT_VOLTAR" Iconic="false" TabPageName="" PromptAttachmentOffset="0" PromptAlignOffset="0"
                  PromptFontSize="1000" Width="88" ItemType="Tecla" BackColor="white" XPosition="488"
                  FontName="MS Sans Serif" YPosition="162" FontSize="1000" FontStyle="Simples" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_NORMAL" FontWeight="Semiclaro" Label="&amp;Voltar"
                  PromptFontName="Tahoma" FontSpacing="Normal" ForegroundColor="black"
                  CanvasName="CAN_MOTIVOCANCELAMENTO" Height="23">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;&#x9;:ITEMCOMPRA.DS_OBSCANCEL := NULL;&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;END;"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('ITEMCOMPRA.DS_OBSCANCEL');"/>
                <Trigger Name="KEY-PREV-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('CONTROLE.BT_SALVAR');"/>
            </Item>
            <Item Name="CD_CONTAORCAMENTO" DirtyInfo="true" Width="110" Height="21"/>
            <Item Name="CD_CONTACONTABIL" DirtyInfo="true" Width="110" Height="21"/>
            <Item Name="BTN_CAMINHOITEM" Justification="Iniciar" Width="27" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray" XPosition="499" YPosition="406" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="true" OleShowTenantTypeType="true"
                  Tooltip="Abrir o Arquivo de Retorno" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif"
                  FontSize="1000" FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal"
                  ForegroundColor="black" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="24"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="true" IconFilename="open" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="30" CompressionQuality="Nenhum" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Manual" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;   V_NOMEARQ       VARCHAR2(255); -- recebe o arquivo texto&amp;#10;   V_NM_ARQRETORNO VARCHAR2(60);&amp;#10;   V_TP_ARQUIVO&#x9;&#x9; LAYOUTARQUIVO.TP_ARQUIVO%TYPE;&amp;#10;   V_DS_EXTENSAO&#x9; VARCHAR2(32000);&amp;#10;   V_MENSAGEM&#x9;&#x9;&#x9; VARCHAR2(32000);&amp;#10;   E_GERAL EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;:CONTROLE.CD_LAYOUT := PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_LAYOUT');&amp;#10;&#x9;IF(:CONTROLE.CD_LAYOUT IS NULL)THEN&#x9;&#x9; &amp;#10;&#x9;--Necessário informar um layout de importação de planilha no REC010, page Compras.&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32845, NULL);&amp;#10;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&#x9;&amp;#10;&#x9;&#x9;SELECT LAYOUTARQUIVO.TP_ARQUIVO&amp;#10;&#x9;&#x9;  INTO V_TP_ARQUIVO&amp;#10;&#x9;&#x9;  FROM LAYOUTARQUIVO&amp;#10;&#x9;&#x9; WHERE LAYOUTARQUIVO.CD_LAYOUT = :CONTROLE.CD_LAYOUT; &amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;V_TP_ARQUIVO := NULL;&amp;#10;&#x9;END ;&amp;#10;&#x9;/*&amp;#10;&#x9;1 - Texto com largura fixa&amp;#10;&#x9;2 - Texto com separadores&amp;#10;&#x9;3 - Excel (XLS ou XLSX)&amp;#10;&#x9;4 - XML;&amp;#10;&#x9;*/&amp;#10;&#x9;IF NVL(V_TP_ARQUIVO, 0) = 1 THEN&amp;#10;&#x9;&#x9;V_DS_EXTENSAO := 'Arquivo de Texto  (*.txt)|*.txt|';&amp;#10;&#x9;ELSIF NVL(V_TP_ARQUIVO, 0) = 2 THEN&amp;#10;&#x9;&#x9;V_DS_EXTENSAO := 'Arquivo CSV  (*.csv)|*.csv|'||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'Arquivo de Texto  (*.txt)|*.txt|';&amp;#10;&#x9;ELSIF NVL(V_TP_ARQUIVO, 0) = 3 THEN&amp;#10;&#x9;&#x9;V_DS_EXTENSAO := 'Arquivo do Excel (*.xlsx)|*.xlsx|'||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'Arquivo do Excel 2003-2007  (*.xls)|*.xls|'||                     &amp;#10;                     'Arquivo CSV  (*.csv)|*.csv|';&amp;#10;  ELSIF NVL(V_TP_ARQUIVO, 0) = 4 THEN&amp;#10;    V_DS_EXTENSAO := 'Arquivo XML  (*.xml)|*.xml|';                 &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;V_DS_EXTENSAO := 'Arquivo de Texto  (*.txt)|*.txt|'||&amp;#10;                     'Arquivo CSV  (*.csv)|*.csv|'||&amp;#10;                     'Arquivo do Excel 2003-2007  (*.xls)|*.xls|'||&amp;#10;                     'Arquivo do Excel (*.xlsx)|*.xlsx|'||&amp;#10;                     'Arquivo XML  (*.xml)|*.xml|';&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;   -- Chama o Arquivo Texto pela Função Open_File&amp;#10;   /*&amp;#10;   V_NOMEARQ := GET_FILE_NAME(V_NM_ARQRETORNO,&amp;#10;                              NULL,&amp;#10;                              'Arquivo de Texto  (*.txt)|*.txt|'||&amp;#10;                              'Arquivo CSV  (*.csv)|*.csv|'||&amp;#10;                              'Arquivo do Excel 2003-2007  (*.xls)|*.xls|'||&amp;#10;                              'Arquivo do Excel (*.xlsx)|*.xlsx|'||&amp;#10;                              'Arquivo XML  (*.xml)|*.xml|'&amp;#10;                              ,NULL,&amp;#10;                              OPEN_FILE,&amp;#10;                              TRUE);&amp;#10;   */                               &amp;#10;   V_NOMEARQ := GET_FILE_NAME(V_NM_ARQRETORNO,&amp;#10;                              NULL,&amp;#10;                              V_DS_EXTENSAO,&amp;#10;                              NULL,&amp;#10;                              OPEN_FILE,&amp;#10;                              TRUE);                      &amp;#10;   :ITEMCOMPRACCUSTO.DS_CAMINHO := V_NOMEARQ;&#x9;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;    RAISE FORM_TRIGGER_FAILURE;   &amp;#10;END;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&amp;#10;&amp;#10;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_LOG" Justification="Iniciar" Width="679" MaximumLength="32676" XPosition="22"
                  FontName="MS Sans Serif" YPosition="34" Bevel="Nenhum" FontSize="1000" FontStyle="Simples"
                  FontWeight="Semiclaro" FontSpacing="Normal" CanvasName="CAN_IMPORTACAO_LOG" MultiLine="true"
                  KeyboardNavigable="false" CaseRestriction="Misto" Height="394" Prompt="" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" TabPageName="" PromptAttachmentOffset="2" PromptAlign="Iniciar"
                  PromptAlignOffset="0" InsertAllowed="false" UpdateAllowed="false" DirtyInfo="true"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" PromptVisualAttributeName="VSA_PROMPT"
                  PromptDisplayStyle="Todos os Registros"/>
            <Item Name="BTN_VOLTARLOG" Iconic="false" TabPageName="" Width="96" ItemType="Tecla" BackColor="gray4"
                  XPosition="598" FontName="Tahoma" YPosition="438" FontSize="800" FontStyle="Simples" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_NORMAL" FontWeight="Semiclaro" Label="&amp;Voltar" FontSpacing="Normal"
                  ForegroundColor="black" CanvasName="CAN_IMPORTACAO_LOG" KeyboardNavigable="false" Height="22">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true" TriggerText="GO_BLOCK('ITEMCOMPRACCUSTO');"/>
            </Item>
            <Item Name="CD_LAYOUT" DatabaseItem="false" DirtyInfo="true" Width="110" MaximumLength="5" Visible="false"
                  DataType="Number" Height="21"/>
            <Item Name="ST_MUDAUTORIZADOR" DatabaseItem="false" DirtyInfo="true" Width="110" MaximumLength="1"
                  Visible="false" InitializeValue="S" Height="21"/>
            <Item Name="CD_PROJETOCOMPRA" DirtyInfo="true" Width="110" MaximumLength="7" Visible="false"
                  DataType="Number" KeyboardNavigable="false" Height="21"/>
            <Item Name="CHK_MARCARTODOS" Enabled="true" Width="14" MaximumLength="1"
                  RecordVisualAttributeGroupName="VSA_CHECKBOX" XPosition="27" FontName="Tahoma" YPosition="492"
                  DatabaseItem="false" FontSize="900" AutoHint="false" ForegroundColor="r0g25b50" Tooltip=""
                  CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1" CheckBoxOtherValues="Desmarcado" Height="22" Hint=""
                  Prompt="Marcar Todos" CheckedValue="1" PromptJustification="Iniciar" PromptAttachmentEdge="Final"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="-1"
                  ItemType="Caixa de Seleção" DataType="Number" InitializeValue="N" UncheckedValue="0" DirtyInfo="true"
                  VisualAttributeName="VSA_CHECKBOX" Label="" PromptVisualAttributeName="VSA_PROMPT">
                <Trigger Name="WHEN-CHECKBOX-CHANGED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_REG_ATUAL&#x9;&#x9;&#x9;NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;V_REG_ATUAL &#x9;:= :SYSTEM.CURSOR_RECORD;&amp;#10;&#x9;GO_BLOCK('PREITEMCOMPRA');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;IF (GET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS', PROMPT_TEXT) = 'Marcar Todos') THEN&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.ST_MARCADO := 1;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.ST_MARCADO := 0;&amp;#10;&#x9;&#x9;END IF; --IF (GET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS',PROMPT_TEXT) = 'Marcar Todos') THEN&amp;#10;&amp;#10;&#x9;&#x9;EXIT WHEN (:SYSTEM.LAST_RECORD =  'TRUE');&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END LOOP;&amp;#10;&amp;#10; &#x9;GO_RECORD(V_REG_ATUAL);&amp;#10;&amp;#10;&#x9;IF (GET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS', PROMPT_TEXT) = 'Marcar Todos') THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS', PROMPT_TEXT, 'Desmarcar Todos');&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS', PROMPT_TEXT, 'Marcar Todos');&amp;#10;&#x9;END IF; --IF (GET_ITEM_PROPERTY('CONTROLE.CHK_MARCARTODOS',PROMPT_TEXT) = 'Marcar Todos') THEN&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA, 3, 0)||' - Erro', SQLERRM, 1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
        </Block>
        <Block Name="ITEMCOMPRA" RecordsBufferedCount="0" RecordsDisplayCount="9" RecordsFetchedCount="0"
               EnforcedPrimaryKey="false" RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0"
               MaximumRecordsFetched="0" ScrollbarCanvasName="CAN_ITEMCOMPRA" ScrollbarOrientation="Vertical"
               ScrollbarWidth="16" ScrollbarXPosition="981" PrecompSummary="false" ScrollbarYPosition="241"
               NavigationStyle="Mesmo Registro" ShowScrollbar="true" ScrollbarLength="190"
               NextNavigationBlockName="CONTROLE" IncludeRefitem="false" EnforcedColumnSecurity="false"
               InsertAllowed="true" DMLReturnValue="false" SingleRecord="false" UpdateAllowed="true"
               UpdateChangedColumns="false" PersistentClientInfoLength="0" DMLDataName="ITEMCOMPRA" DeleteAllowed="true"
               QueryDataSourceName="ITEMCOMPRA" DirtyInfo="true" VisualAttributeName="DEFAULT" KeyMode="Atualizável"
               PreviousNavigationBlockName="CONTROLE" LanguageDirection="Padrão" DatabaseBlock="true"
               ScrollbarTabPageName="" QueryDataSourceType="Tabela" QueryAllowed="true" LockMode="Demorado"
               QueryAllRecords="false" DMLDataType="Nenhum" DMLArraySize="1">
            <Item Name="NR_REGBLOCO" DatabaseItem="false" DirtyInfo="true" Width="120" DataType="Number" Height="21"/>
            <Item Name="CD_EMPRESA" Justification="Centralizado" Width="53" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="370" YPosition="281" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código da Empresa"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="17" PromptAlign="Centralizado" PromptAlignOffset="1"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18" Hint="Código da Empresa"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" CopyValueFromItem="CONTROLE.CD_EMPRESA" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" InitializeValue="150" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_EMPRESA" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="5" CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="true" PromptFontName="Tahoma" ConcealData="false"
                  SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false"
                  ShowVolume="true" ShowTime="true" PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptFontStyle="Sublinhado" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ColumnName="CD_EMPRESA" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;&#x9;I_CD_EMPRESA USUARIOEMPRESA.CD_EMPRESA%TYPE;&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;SELECT USUARIOEMPRESA.CD_EMPRESA &amp;#10;&#x9;&#x9;  INTO I_CD_EMPRESA &amp;#10;&#x9;&#x9;  FROM USUARIOEMPRESA&amp;#10;&#x9;&#x9; WHERE (USUARIOEMPRESA.CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA) &amp;#10;&#x9;&#x9;   AND (USUARIOEMPRESA.CD_USUARIO = :GLOBAL.CD_USUARIO);&amp;#10;     &#x9;&#x9; &amp;#10;&#x9;&#x9;IF I_CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;SELECT EMPRESA.NM_EMPRESA &amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.NM_EMPRESA&amp;#10;&#x9;&#x9;&#x9;  FROM EMPRESA&amp;#10;&#x9;&#x9;&#x9; WHERE EMPRESA.CD_EMPRESA = I_CD_EMPRESA;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_EMPRESAITEM   := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_EMPRESAUTORIZ := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;END IF;&amp;#10; &#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10; &#x9;&#x9;:ITEMCOMPRA.NM_EMPRESA := NULL;&amp;#10; &#x9;&#x9;--Empresa ¢CD_EMPRESA¢ não cadastrada ou Usuário não tem acesso à Empresa.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(278,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10; &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10; &#x9;&#x9;:ITEMCOMPRA.NM_EMPRESA := NULL;&amp;#10; &#x9;&#x9;--A consulta retornou mais de um resultado ao tentar localizar os dados da empresa ¢CD_EMPRESA¢. Verifique o programa TCB012.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(216,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10; &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;  &amp;#10; &#x9;WHEN OTHERS THEN   &#x9;&#x9;&amp;#10; &#x9;&#x9;--Erro ao buscar os dados da empresa  ¢CD_EMPRESA¢. Erro: ¢SQLERRM¢.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(35,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10; &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE; &amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="NM_EMPRESA" Justification="Iniciar" Width="305" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="171" YPosition="54" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Nome da Empresa"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="5" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif"
                  FontSize="800" FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal"
                  ForegroundColor="r0g25b50" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  InitializeValue=":GLOBAL.DS_EMPRESA" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="800"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="243" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Item" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Item"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" Hint="Código do Item" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_ITEM" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PreviousNavigationItemName="NR_SUBLOCARMAZ4" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID" ParentFilename="BIB004.OLB"
                  PromptFontStyle="Sublinhado" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ColumnName="CD_ITEM" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0"
                         DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true"
                         TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;&#x9;I_CD_UNIDMED       UNIDMEDIDA.CD_UNIDMED%TYPE;&amp;#10;&#x9;&#x9;I_DT_CANCELAMENTO  ITEMEMPRESA.DT_CANCELAMENTO%TYPE;&amp;#10;&#x9;&#x9;I_MENSAGEM         VARCHAR2(2000);&amp;#10;&#x9;&#x9;E_GERAL            EXCEPTION;&amp;#10;&#x9;&#x9;V_CD_GRUPO&#x9;&#x9;&#x9;&#x9; GRUPO.CD_GRUPO%TYPE;&amp;#10;&#x9;&#x9;V_CD_SUBGRUPO&#x9;&#x9;&#x9; SUBGRUPO.CD_SUBGRUPO%TYPE;&amp;#10;&#x9;&#x9;V_CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9; ITEMNF.CD_ITEM%TYPE; &amp;#10;&#x9;&#x9;V_TP_ITEM&#x9;&#x9;&#x9;&#x9;&#x9; VARCHAR2(2);&amp;#10;&#x9;&#x9;V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NUMBER; &amp;#10;&#x9;&#x9;V_TAB_PRECO&#x9;&#x9;&#x9;&#x9; TABPRECO.CD_TABPRECO%TYPE;/*ATR:71810:29/01/2016*/&amp;#10;&#x9;&#x9;V_EXISTE&#x9;&#x9;&#x9;&#x9;&#x9; VARCHAR2(1);/*ATR:71810:29/01/2016*/&amp;#10;&#x9;&#x9;V_NR_SEQ&#x9;&#x9;&#x9;&#x9;&#x9; ITEMREGRAPARMOV.NR_SEQUENCIAL%TYPE;--AUG:127526:03/01/2019&amp;#10;&#x9;&#x9;&amp;#10;BEGIN&amp;#10;&#x9;/*WLV:08/08/2012:41514 - Consulta para pegar os dados gravados no TIT001*/&amp;#10;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; SELECT ITEM.CD_GRUPO, ITEM.CD_SUBGRUPO, ITEM.TP_ITEM, ITEM.CD_ITEM&amp;#10;&#x9;&#x9;&#x9; &#x9; INTO V_CD_GRUPO, V_CD_SUBGRUPO, V_TP_ITEM, V_CD_ITEM&amp;#10;&#x9;&#x9;&#x9;   FROM ITEM&amp;#10;&#x9;&#x9;&#x9;  WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;  &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;  &#x9;  --A consulta fez com que nenhum registro fosse recuperado.&#x9;&#x9;&amp;#10;&#x9;  &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3129, NULL);&amp;#10;&#x9;  &#x9;  RAISE E_GERAL;&amp;#10;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;  --Ocorreu um erro não esperado ao efetuar a consulta. Erro: ¢NR_ERRO¢.&amp;#10;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(13778, '¢NR_ERRO='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;/*WLV:08/08/2012:41514 - Consulta para verificar se tem alguma regra no TCO002 para o usuário/empresa logados */&amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9; INTO V_COUNT&amp;#10;&#x9;     FROM SOLICITANTE&amp;#10;&#x9;    WHERE SOLICITANTE.CD_EMPRESA &#x9;&#x9; = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;      AND SOLICITANTE.CD_USUARIO &#x9;&#x9; = :GLOBAL.CD_USUARIO&amp;#10;&#x9;      AND SOLICITANTE.ST_SOLICITANTE = 'S'&amp;#10;&#x9;      AND (SOLICITANTE.CD_GRUPO    &#x9; = V_CD_GRUPO OR SOLICITANTE.CD_GRUPO IS NULL)&amp;#10;&#x9;      AND (SOLICITANTE.CD_SUBGRUPO   = V_CD_SUBGRUPO OR SOLICITANTE.CD_SUBGRUPO IS NULL)&amp;#10;&#x9;      AND (SOLICITANTE.TP_ITEM     &#x9; = V_TP_ITEM OR SOLICITANTE.TP_ITEM IS NULL)&amp;#10;&#x9;      AND (SOLICITANTE.CD_ITEM     &#x9; = :ITEMCOMPRA.CD_ITEM OR SOLICITANTE.CD_ITEM IS NULL); &amp;#10;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;&#x9;--Ocorreu um erro não esperado ao efetuar a consulta. Erro: ¢NR_ERRO¢.&amp;#10;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(13778, '¢NR_ERRO='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/*WLV:08/08/2012:41514 - Caso o resultado do select acima for maior que 0 significa que existe uma regra para o usuário/empresa*/&amp;#10;&#x9;&#x9;IF V_COUNT = 0 THEN&amp;#10;&#x9;&#x9;&#x9;--O item ¢CD_ITEM¢ não possui regra no TCO002 relacionado para o usuário ¢CD_USUARIO¢ para empresa ¢CD_EMPRESA¢. Verfique o TCO002.&amp;#10;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(17811, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEM := NULL;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_UNIDMED := NULL;&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;--IF V_COUNT = 0 THEN&#x9;&#x9;&amp;#10;&#x9;END IF;--IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN &amp;#10;&#x9;------------------------------------------------------------------------------------&amp;#10;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT TP_ITEM, &amp;#10;&#x9;&#x9;&#x9;       DS_ITEM, &amp;#10;&#x9;&#x9;&#x9;       CD_UNIDMED &amp;#10;&#x9;  &#x9;&#x9;INTO PACK_GLOBAL.TP_ITEM,&#x9;&amp;#10;&#x9;  &#x9;&#x9;     :ITEMCOMPRA.DS_ITEM,&#x9;&amp;#10;&#x9;  &#x9;&#x9;     I_CD_UNIDMED&amp;#10;&#x9;  &#x9;&#x9;FROM ITEM&amp;#10;&#x9; &#x9;&#x9; WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--O item ¢CD_ITEM¢ não está cadastrado. Verifique o programa TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(27,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DT_CANCELAMENTO &amp;#10;&#x9;&#x9;&#x9;&#x9;INTO I_DT_CANCELAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;FROM ITEMEMPRESA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;   AND CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;/*AUG:121710:11/06/2018 Adicionada condição para verificar se a data de cancelamento é menor ou igual a data atual*/&amp;#10;&#x9;&#x9;&#x9;IF I_DT_CANCELAMENTO IS NOT NULL AND  &amp;#10;&#x9;&#x9;&#x9;&#x9; I_DT_CANCELAMENTO &lt;= SYSDATE THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--O Item ¢CD_ITEM¢ está cancelado para a empresa ¢CD_EMPRESA¢. Verifique TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(184,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--O Item ¢CD_ITEM¢ não está cadastrado ou está cancelado. Verifique o programa TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3662,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT CD_ITEM &amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;  FROM PLANEJITEM&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9; AND CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;    &#x9;  --Planejamento de item não cadastrado para o Item ¢CD_ITEM¢ e Empresa ¢CD_EMPRESA¢. Verifique o programa TIT001.&amp;#10;    &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20051, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;    &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;    &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20052, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;    &#x9;WHEN OTHERS THEN&amp;#10;    &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20053, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢SQLERR='||SQLERRM||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/*AUG:127526:03/01/2019*/&amp;#10;&#x9;&#x9;V_NR_SEQ := PACK_TCB054.RETORNA_SEQ_ITEMPARMOV(:ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_PROGRAMA);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;IF V_NR_SEQ IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;  &#x9;INTO :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;  &#x9;FROM ITEMPARMOV&amp;#10;&#x9;&#x9;&#x9; &#x9; WHERE ITEMPARMOV.NR_SEQUENCIAL = V_NR_SEQ;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;:ITEMCOMPRA.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF SHOW_LOV('LOV_ITEMPARMOV') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys', SQLERRM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;END;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSE-----&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9; /*FJC:02/07/2018:121705&amp;#10;&#x9;&#x9;&#x9;  busca a ultima movimentação utilizada para o item em lançamento de recebimento valido.&amp;#10;&#x9;&#x9;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_MOVIMENTACAO IS NULL AND &amp;#10;&#x9;&#x9;&#x9;   NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',NVL(:ITEMCOMPRA.CD_EMPRESA, :GLOBAL.CD_EMPRESA),'ST_ULTIMAMOVIMENTACAO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_MOVIMENTACAO := PACK_COMPRAS.RETORNA_ULTIMAMOVIMENTACAO(I_CD_EMPRESA => NVL(:ITEMCOMPRA.CD_EMPRESA, :GLOBAL.CD_EMPRESA), &amp;#10;&#x9; &#x9;&#x9;&#x9;                                                                       I_CD_ITEM    => :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9; &#x9;&#x9;&#x9;                                                                       I_CD_CLIFOR  => NULL);&amp;#10;&#x9; &#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;--IF V_NR_SEQ IS NOT NULL THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/*ATR:71810:29/01/2016*/&amp;#10;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTROLEORC051'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_TABELAPRECORC051') IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_TAB_PRECO := PACK_PARMGEN.CONSULTA_PARAMETRO('COM',009,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_TABELAPRECORC051');&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT 'S'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_EXISTE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PRECOVENDA, TABPRECO &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE (PRECOVENDA.CD_TABPRECO = TABPRECO.CD_TABPRECO)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND (PRECOVENDA.CD_TABPRECO = V_TAB_PRECO)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND (PRECOVENDA.CD_ITEM = :ITEMCOMPRA.CD_ITEM)&amp;#10;             AND (PRECOVENDA.DT_EMVIGOR IS NULL OR&amp;#10;                 TRUNC(PRECOVENDA.DT_EMVIGOR) &lt;= TRUNC(SYSDATE)) &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND (PRECOVENDA.DT_CANCELAMENTO IS NULL OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;       TRUNC(PRECOVENDA.DT_CANCELAMENTO) > TRUNC(SYSDATE))&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND (PRECOVENDA.DT_VENCIMENTO IS NULL OR &amp;#10;&#x9;&#x9;       &#x9;&#x9;&#x9; TRUNC(PRECOVENDA.DT_VENCIMENTO) > TRUNC(SYSDATE));&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O Item Informado ¢CD_ITEM¢ não está cadastrado para a Tabela de Preços ¢CD_TABPRECO¢ ou o preço está cancelado, vencido, ou não está em vigor. Favor verificar TVE003&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(27044, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_TABPRECO='||V_TAB_PRECO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--Erro ao consultar a Tabela de Preço ¢CD_CD_TABPRECO¢ para o Item ¢CD_ITEM¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(27026, '¢CD_CD_TABPRECO='||V_TAB_PRECO||'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;--O Controle por Orçamento está ativo porém a tabela de preço não foi informada. Favor verificar COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(27043, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END IF; --IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM',009,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_TABELAPRECORC051') IS NOT NULL THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF; --IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTROLEORC051'),'N') = 'S' THEN&amp;#10;&amp;#10;&#x9;&#x9;:ITEMCOMPRA.DS_UNIDMED := I_CD_UNIDMED;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRA.DS_ITEM:= NULL;&amp;#10;&#x9;&#x9;:ITEMCOMPRA.DS_UNIDMED := NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;------------------------------------------------------------------------------------&amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;MENSAGEM('Maxys COM001',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;&#x9;I_CD_UNIDMED  VARCHAR2(2);&amp;#10;&#x9;&#x9;I_TP_ITEM     VARCHAR2(1); &amp;#10;&#x9;&#x9;I_MENSAGEM    VARCHAR2(2000);&amp;#10;&#x9;&#x9;E_GERAL       EXCEPTION;&amp;#10;&#x9;  V_COUNTPEDIDO NUMBER; /*ATR:88023:24/06/2015*/&amp;#10;&#x9;  E_REMOVE&#x9;&#x9;&#x9;EXCEPTION; /*ATR:88023:24/06/2015*/&amp;#10;&#x9;------------------------------------------------------------------------------------&amp;#10;&#x9;CURSOR CUR_QT_CCUSTO IS&amp;#10;&#x9;SELECT ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL&amp;#10;&#x9;  FROM ITEMCOMPRACCUSTO&amp;#10;&#x9; WHERE :ITEMCOMPRA.NR_ITEMCOMPRA = ITEMCOMPRACCUSTO.NR_ITEMCOMPRA&amp;#10;&#x9;   AND :ITEMCOMPRA.CD_EMPRESA    = ITEMCOMPRACCUSTO.CD_EMPRESA;&amp;#10;BEGIN  &amp;#10;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;  IF NOT FORM_SUCCESS THEN&amp;#10;  &#x9;RETURN;&amp;#10;  END IF;&amp;#10;  &amp;#10;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;IF :SYSTEM.RECORD_STATUS = 'INSERT' THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT DISTINCT ITEMCOMPRA.CD_ITEM &amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE ITEMCOMPRA.CD_ITEM    &#x9;&#x9;&#x9;= :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND ITEMCOMPRA.CD_EMPRESA &#x9;&#x9;&#x9;= :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND (ITEMCOMPRA.ST_ITEMCOMPRA &#x9;= 1 OR ITEMCOMPRA.ST_ITEMCOMPRA IS NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; /*WLV:15/08/2012:41514 - Adicionado para que mostre a msg padrão em vez do alerta normal*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; SET_ALERT_PROPERTY('INCLUIPEDIDO',ALERT_MESSAGE_TEXT,PACK_MENSAGEM.MENS_ALERTA(17882, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢'));&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; IF SHOW_ALERT('INCLUIPEDIDO') &#x9;= ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;/*CSL:22059:05/06/09&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; *Se  houver alguma  solicitação  em aberto com o item que o usuário  digitou/selecionou e o mesmo &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; *desejar  incluir o  item em uma  das solicitações em  aberto, o programa exibe uma LOV  com a(s) &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; *solicitação(ões) em aberto para que o usuário possa adicionar o ítem que ia pedir  na quantidade &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; *da solicitação selecionada .&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;--MENSAGEM('Maxys COM001 - Aviso','Já existe uma solicitação de compra para este item.'||CHR(10)||CHR(10)||'Inclua a quantidade desejada na mesma solicitação.',3);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;--SET_BLOCK_PROPERTY('ITEMCOMPRA', DEFAULT_WHERE, ' CD_ITEM = '||:ITEMCOMPRA.CD_ITEM||' AND CD_EMPRESA = '||:ITEMCOMPRA.CD_EMPRESA||' AND ( ST_ITEMCOMPRA &lt; 4 OR ST_ITEMCOMPRA IS NULL ) AND ROWNUM = 1 ');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;--EXECUTE_QUERY(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;IF SHOW_LOV('LOV_COMPRAS') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;GO_ITEM('CONTROLE.NR_LOTECOMPRA');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;Execute_Trigger ('KEY-NEXT-ITEM'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; IF :ITEMCOMPRA.QT_PREVISTA = 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; FOR I IN CUR_QT_CCUSTO LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRA.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA + I.QT_PEDIDAUNIDSOL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_ITEM := NULL;&amp;#10;&#x9;    END;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;-------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;    &amp;#10;&#x9;&#x9;&#x9;SELECT ITEMEMPRESA.CD_ITEM &amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;  FROM ITEMEMPRESA&amp;#10;&#x9;&#x9;&#x9; WHERE ITEMEMPRESA.CD_ITEM    = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;   AND ITEMEMPRESA.CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESAITEM;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT ITEM.TP_ITEM,&amp;#10;&#x9;&#x9;&#x9;   &#x9;   ITEM.DS_ITEM,&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;   &#x9;   ITEM.CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;  INTO I_TP_ITEM,&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;       :ITEMCOMPRA.DS_ITEM,&#x9;&amp;#10;&#x9;&#x9;&#x9;       I_CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;  FROM ITEM&amp;#10;&#x9;&#x9;&#x9; WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;IF I_TP_ITEM = 'A' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);&#x9;&#x9;&#x9;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEMSERVICO &#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO &#x9;&#x9;&#x9;&#x9;:= NULL;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;ELSIF I_TP_ITEM = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','A');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_UNDERLINE);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMC OMPRA.DS_ITEMSERVICO',REQUIRED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',REQUIRED,PROPERTY_TRUE);&amp;#10;&amp;#10;&#x9;&#x9;&#x9;ELSIF I_TP_ITEM IN ('P','I') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEMSERVICO &#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO &#x9;&#x9;&#x9;&#x9;:= NULL;&amp;#10;&amp;#10;--&#x9;&#x9;&#x9;ELSIF I_TP_ITEM = 'I' THEN&amp;#10;&#x9;--&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITE MCOMPRA.DS_ITEMSERVICO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEM COMPRA.DS_ITEMSERVICO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEM COMPRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEM COMPRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;--&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEMSERVICO &#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;--SET_ITEM_PROPERTY ('ITEMCOMPRA.DT_INICIO',REQUIRED,PROPERTY_FALSE);&amp;#10;--&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO &#x9;&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;SELECT UNIDMEDIDA.DS_UNIDMEDIDA &amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.DS_UNIDMED&amp;#10;&#x9;&#x9;&#x9;  FROM UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9; WHERE UNIDMEDIDA.CD_UNIDMED = I_CD_UNIDMED;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Item ¢CD_ITEM¢ não cadastrado, não associado a empresa ¢CD_EMPRESA¢, sem Item Similar ou sem movimentação.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(250,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;  END IF; &amp;#10;&#x9;  &amp;#10;&#x9;/*ATR:88023:24/06/2015*/&amp;#10;&#x9;IF :CONTROLE.CD_EMPRESA IS NOT NULL AND :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;  INTO V_COUNTPEDIDO&amp;#10;&#x9;&#x9;&#x9;  FROM ITEMPEDIDOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE ITEMPEDIDOCOMPRA.ST_ITEMPEDIDO IN ('1','2')&amp;#10;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.CD_EMPRESA = :CONTROLE.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_COUNTPEDIDO := 0;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(V_COUNTPEDIDO,0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;SET_ALERT_PROPERTY('ALR_EXISTEPEDIDO',ALERT_MESSAGE_TEXT,'O Item '||(:ITEMCOMPRA.CD_ITEM)||' possui pedido em aberto para a Empresa '||(:CONTROLE.CD_EMPRESA)||'. Deseja prosseguir com lançamento ou remover o item?');&amp;#10;&#x9;&#x9;&#x9;IF SHOW_ALERT('ALR_EXISTEPEDIDO') &#x9;= ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_REMOVE;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;--IF NVL(V_COUNTPEDIDO,0) > 0 THEN&#x9;&amp;#10;&#x9;END IF; --IF :CONTROLE.CD_EMPRESA IS NOT NULL AND :ITEMCOMPRA.CD_ITEM THEN &#x9;  &amp;#10;&amp;#10;&#x9;NEXT_ITEM;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Aviso',I_MENSAGEM,3);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;/*ATR:88023:24/06/2015*/&amp;#10;&#x9;WHEN E_REMOVE THEN&amp;#10;&#x9;  CLEAR_RECORD;&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_ITEM" Width="330" WrapStyle="Palavra" AutoSkip="false" XPosition="91" YPosition="243"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do Item" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_ITEMCOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="false" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="NM_USUAUTORIZ" Justification="Iniciar" Width="305" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="171" YPosition="92" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Nome do Autorizador"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="5" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif"
                  FontSize="800" FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal"
                  ForegroundColor="r0g25b50" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_SOLICAUTORIZ" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="TP_APROVSOLIC" Justification="Iniciar" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="TP_APROVSOLIC"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_UNIDMED" Justification="Centralizado" Width="59" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="422" YPosition="243" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Unidade de Medida do Item" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="false"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="482" YPosition="243" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Somente Movimentações do Tipo de Pedido do Programa COM004"
                  CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Moviment." PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_ITEMPARMOV" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID" ParentFilename="BIB004.OLB"
                  PromptFontStyle="Sublinhado" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ColumnName="CD_MOVIMENTACAO" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0"
                         DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true"
                         TriggerStyle="PL/SQL"
                         TriggerText="DECLARE &amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;&#x9;&#x9;  VARCHAR2(32000);&amp;#10;&#x9;V_CD_OPERESTOQUE    CMI.CD_OPERESTOQUE%TYPE;&amp;#10;  V_DS_MOVIMENTACAO   VARCHAR2(60);&amp;#10;  V_ST_ATIVO&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(01);&amp;#10;  E_GERAL             EXCEPTION;&amp;#10;&#x9;V_NR_SEQ&#x9;&#x9;&#x9;&#x9;&#x9;ITEMREGRAPARMOV.NR_SEQUENCIAL%TYPE;--AUG:127526:03/01/2019&amp;#10;&#x9;V_ST_OBRIGATORIO &#x9;BOOLEAN;--AUG:127526:03/01/2019&amp;#10;&#x9;&amp;#10;&#x9;CURSOR CUR_ITEMPARMOV(C_NR_SEQ IN NUMBER) IS&amp;#10;&#x9;  SELECT ST_OBRIGATORIO,&amp;#10;&#x9;  &#x9;&#x9;&#x9; CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;  FROM ITEMPARMOV&amp;#10;&#x9;&#x9; WHERE ITEMPARMOV.NR_SEQUENCIAL = C_NR_SEQ;   &#x9;&amp;#10;BEGIN&amp;#10;  IF :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL THEN &amp;#10;  &#x9;&amp;#10;  &#x9;/*AUG:127526:03/01/2019*/&amp;#10;  &#x9;V_NR_SEQ := PACK_TCB054.RETORNA_SEQ_ITEMPARMOV(:ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_PROGRAMA);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF V_NR_SEQ IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;V_ST_OBRIGATORIO := FALSE;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/* Verifico se existe pelo menos uma movimentação obrigatória&amp;#10;&#x9;&#x9;&#x9; * pois se possuir, deverá obrigatóriamente informar alguma movimentação&amp;#10;&#x9;&#x9;&#x9; * cadastrada no TCB054. Caso não possua, o usuário terá a opção de &amp;#10;&#x9;&#x9;&#x9; * apertar o esc e o processo segue como era antes.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;FOR I IN CUR_ITEMPARMOV(V_NR_SEQ) LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(I.ST_OBRIGATORIO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_ST_OBRIGATORIO := TRUE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF V_ST_OBRIGATORIO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;FOR I IN CUR_ITEMPARMOV(V_NR_SEQ) LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF I.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ST_OBRIGATORIO := FALSE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;/*Se a variavel ainda for verdadeira, quer dizer que a movimentacao n existe no TCB054*/&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_ST_OBRIGATORIO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT STRING_AGG(CD_MOVIMENTACAO)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_DS_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMPARMOV&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMPARMOV.NR_SEQUENCIAL = V_NR_SEQ;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Como existe pelo menos uma movimentação parametrizada para o item ¢CD_ITEM¢ como obrigatória no TCB054, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--é necessário informar um das seguintes movimentações ¢DS_MOVIMENTACOES¢&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32020, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢DS_MOVIMENTACOES='||V_DS_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--GO_ITEM('ITEMPEDIDO.CD_ITEM');&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;  &#x9;&amp;#10;   &#x9;IF PACK_GLOBAL.TP_SELECAOCONTA = 'O' THEN&amp;#10;   &#x9;&#x9;/*MVP:72940:02/07/2014 - Alterado para voltar a mensagem padrão da função VALIDA_SELECAOCONTA quando for 'CO'*/&amp;#10;   &#x9;&#x9;V_MENSAGEM := VALIDA_SELECAOCONTA (:CONTROLE.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_MOVIMENTACAO, &amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NULL, 'CO');&amp;#10;      IF (V_MENSAGEM IS NOT NULL) AND (V_MENSAGEM &lt;> 'S') THEN&amp;#10;      &#x9;RAISE E_GERAL;&amp;#10;      END IF;                          &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;  &#x9;END IF;&amp;#10;  &#x9;/* DCS:05/04/2012:34604&amp;#10;&#x9;&#x9; * Alterado para chamar o procedimento VALIDA_CONTABIL_PLANO, ao inves do VALIDA_CONTABIL&amp;#10;&#x9;&#x9; * este possui validação para não permitir realizar lançamentos em contas, &amp;#10;&#x9;&#x9; * que não pertencem a versão do plano de contas da empresa do lançamento&amp;#10;&#x9;&#x9; */&amp;#10;  &#x9;--PACK_VALIDA.VALIDA_CONTABIL(:ITEMCOMPRA.CD_MOVIMENTACAO,NULL,TRUNC(SYSDATE),I_MENSAGEM);&amp;#10;  &#x9;PACK_VALIDA.VALIDA_CONTABIL_PLANO(:ITEMCOMPRA.CD_MOVIMENTACAO, NULL, TRUNC(SYSDATE), NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA), V_MENSAGEM);&amp;#10;  &#x9;&amp;#10;  &#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;  &#x9;END IF;&amp;#10;&amp;#10;    BEGIN&amp;#10;&#x9;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT CMI.CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;&#x9;       PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;       PLANOCONTABIL.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;  &#x9;INTO V_CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;  &#x9;     V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;  &#x9;FROM PARMOVIMENT, &amp;#10;&#x9;&#x9;&#x9;  &#x9;     CMI,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_CMI          = CMI.CD_CMI&amp;#10;&#x9;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CMI.TP_FATES                = '0';&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT CMI.CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;&#x9;       PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;       PLANOCONTABILVERSAO.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;  &#x9;INTO V_CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;  &#x9;     V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;  &#x9;FROM PARMOVIMENT, &amp;#10;&#x9;&#x9;&#x9;  &#x9;     CMI,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;&#x9;  &#x9;     PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_CMI          = CMI.CD_CMI&amp;#10;&#x9;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABILVERSAO.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9; &#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE))&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CMI.TP_FATES                = '0';&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&amp;#10;    EXCEPTION&amp;#10;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;    &#x9;  /*CSL:22115:10/06/09&amp;#10;    &#x9;   *Alterada a mensagem: 'Caracteristicas da movimentação :ITEMCOMPRA.CD_MOVIMENTACAO não encontrados.' &amp;#10;    &#x9;   */&amp;#10;    &#x9;  --Movimentação ¢CD_MOVIMENTACAO¢ inválida para esta operação. Verifique se o CMI desta movimentação é do tipo ENTRADA. Verifique TCB008/TCB002. &amp;#10;    &#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4723,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;    &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;    &#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ está cadastrada várias vezes. Verifique TCB008.&amp;#10;    &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(47,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;    &#x9;WHEN OTHERS THEN&amp;#10;    &#x9;&#x9;--Erro ao Pesquisar a Movimentação ¢CD_MOVIMENTACAO¢. Verifique TCB008. Erro ¢SQLERRM¢.&amp;#10;    &#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(48,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;    &#x9;  RAISE E_GERAL;&amp;#10;    END;&amp;#10;&#x9;&#x9;&#x9;IF V_CD_OPERESTOQUE IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;VALIDA_MOVIMENTACAO(V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF NVL(:ITEMCOMPRA.TP_CONTACONTABIL,'XXX') &lt;> 'CC' THEN&amp;#10;&#x9;&#x9;&#x9;  VALIDA_CONTA_ORCAMENTO('ITEMCOMPRA.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, NULL);&amp;#10;&#x9;&#x9;&#x9;END IF;  &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;-----------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;--VALIDA SE A MOVIMENTAÇÃO POSSUI RESTRIÇÃO PARA O CENTRO DE CUSTO (TCB053)&amp;#10;&#x9;--AUG:122414:24/05/2018&amp;#10;&#x9;-----------------------------------------------------------------------------------------------------------------&#x9;&#x9;  &amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.CD_MOVIMENTACAO &#x9;&#x9;&#x9;IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/*RETORNO: S = POSSUI RESTRIÇÃO&amp;#10;&#x9;&#x9; *&#x9;&#x9;&#x9;&#x9;&#x9;N = NÃO POSSUI RESTRIÇÃO CADASTRADA NO TCB053 TABELA **RESTRINGIRMOV** &amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(31068, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='|| :ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;PACK_PROCEDIMENTOS.VALIDA_LOCALARMAZ(V_MENSAGEM);&#x9;--eml:25/05/2020:148401&amp;#10;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&#x9;&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-LISTVAL" TriggerInternalType="0" PersistentClientInfoLength="0" DirtyInfo="true"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_NR_SEQ&#x9;&#x9;&#x9;&#x9;&#x9;ITEMREGRAPARMOV.NR_SEQUENCIAL%TYPE;--AUG:127526:03/01/2019&amp;#10;&#x9;V_ST_OBRIGATORIO &#x9;BOOLEAN;--AUG:127526:03/01/2019&amp;#10;&#x9;&amp;#10;&#x9;CURSOR CUR_ITEMPARMOV(C_NR_SEQ IN NUMBER) IS&amp;#10;&#x9;  SELECT ST_OBRIGATORIO,&amp;#10;&#x9;  &#x9;&#x9;&#x9; CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;  FROM ITEMPARMOV&amp;#10;&#x9;&#x9; WHERE ITEMPARMOV.NR_SEQUENCIAL = C_NR_SEQ;&amp;#10;BEGIN&amp;#10;&#x9;&#x9;/*AUG:127526:03/01/2019*/&amp;#10;&#x9;V_NR_SEQ := PACK_TCB054.RETORNA_SEQ_ITEMPARMOV(:ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_PROGRAMA);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&amp;#10;&#x9;/* Verifico se existe pelo menos uma movimentação obrigatória&amp;#10;&#x9; * pois se possuir, deverá obrigatóriamente informar alguma movimentação&amp;#10;&#x9; * cadastrada no TCB054. Caso não possua, o usuário terá a opção de &amp;#10;&#x9; * apertar o esc e o processo segue como era antes.&amp;#10;&#x9; */&amp;#10;&#x9;FOR I IN CUR_ITEMPARMOV(V_NR_SEQ) LOOP&amp;#10;&#x9;&#x9;IF NVL(I.ST_OBRIGATORIO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;V_ST_OBRIGATORIO := TRUE;&amp;#10;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END LOOP;&amp;#10;&#x9;&amp;#10;&#x9;IF V_ST_OBRIGATORIO THEN&amp;#10;&#x9;&#x9;SET_LOV_PROPERTY('LOV_ITEMPARMOV',GROUP_NAME,'LOV_ITEMPARMOV');&#x9;&#x9;&amp;#10;&#x9; &#x9;IF SHOW_LOV('LOV_ITEMPARMOV') THEN&amp;#10;&#x9; &#x9;     NULL;&amp;#10;&#x9; &#x9;END IF;&amp;#10;&#x9; &#x9;ELSE--&amp;#10;&amp;#10;&#x9; SET_LOV_PROPERTY('LOV_MOVIMENTACAO1',GROUP_NAME, 'LOV_MOVIMENTACAO1');&#x9;    &#x9; &amp;#10;&#x9;  IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'X') IN ('O','S') &amp;#10;&#x9; &#x9; AND SHOW_LOV('LOV_MOVIMENTACAO1') THEN&amp;#10;&#x9;     NULL; &amp;#10;&#x9;  ELSE&#x9;  &#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9; SET_LOV_PROPERTY('LOV_MOVIMENTACAO',GROUP_NAME, 'LOV_MOVIMENTACAO');&amp;#10;&#x9;&#x9; &#x9; IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'S')= 'S' &amp;#10;&#x9;&#x9; &#x9;   AND SHOW_LOV('LOV_MOVIMENTACAO') THEN&amp;#10;&#x9;&#x9;       NULL;&amp;#10;&#x9;&#x9;   END IF;&amp;#10;&#x9; END IF;&amp;#10;&#x9;END IF;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;  IF NOT FORM_SUCCESS THEN&amp;#10;  &#x9;RETURN;&amp;#10;  END IF;&amp;#10;  NEXT_ITEM;&amp;#10;END;"/>
            </Item>
            <Item Name="QT_PREVISTA" Justification="Final" Width="100" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="548" YPosition="243" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true"
                  Tooltip="Quantidade a Solicitar.Somente será aceito casas decimais para este campo se o tipo de cálculo do Item for Peso."
                  CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Quantidade" PromptReadingOrder="Padrão" PromptJustification="Final" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G999D000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21"
                  Hint="Quantidade a Solicitar. Somente será aceito casas decimais para este campo se o tipo de cálculo do Item for Peso."
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="17" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" PromptFontStyle="Sublinhado" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="QT_PREVISTA"
                  ShowVerticalScrollbar="false">
                <Trigger Name="PRE-TEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" DirtyInfo="true"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;&#x9;V_TP_UNIDMED   TIPOCALCULOPRECO.TP_UNIDMED%TYPE;&#x9;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.CD_EMPRESA IS NOT NULL AND :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT TIPOCALCULOPRECO.TP_UNIDMED&amp;#10;&#x9;&#x9;  &#x9;&#x9;INTO V_TP_UNIDMED&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;FROM TIPOCALCULOPRECO, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     ITEMEMPRESA&amp;#10;&#x9;&#x9; &#x9;&#x9; WHERE TIPOCALCULOPRECO.CD_TIPOCALCULO = ITEMEMPRESA.CD_TIPOCALCULO&amp;#10;&#x9;&#x9;   &#x9;&#x9; AND ITEMEMPRESA.CD_EMPRESA          = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;   &#x9;&#x9; AND ITEMEMPRESA.CD_ITEM             = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;--O item ¢CD_ITEM¢ na empresa ¢CD_EMPRESA¢ não possui tipo de cálculo cadastrado. Verifique TIT001, page Empresas.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(2886, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--O item ¢CD_ITEM¢ na empresa ¢CD_EMPRESA¢ possui vários tipos de cálculo cadastrado. Verifique TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(4487, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Ocorreu erro ao pesquisar tipo de cálculo para o item ¢CD_ITEM¢ na empresa ¢CD_EMPRESA¢ possui vários tipo de cálculo cadastrado. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(4488, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;PACK_GLOBAL.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;PACK_GLOBAL.VALIDA_QUANTIDADE := TRUE;&amp;#10;&#x9;&#x9;SYNCHRONIZE;&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0"
                         DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true"
                         TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;V_ST_UNIDADEITENS&#x9;VARCHAR2(1);&amp;#10;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;--Foi modificado este conceito do compras&amp;#10;&#x9;--Pois na Averama pode diminuir uma quantidade Solicitada&amp;#10;&#x9;IF :ITEMCOMPRA.QT_PREVISTA IS NOT NULL THEN &amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.QT_PREVISTA &lt; PACK_GLOBAL.QT_PREVISTA AND PACK_GLOBAL.VALIDA_QUANTIDADE THEN&amp;#10;&#x9;&#x9;&#x9;IF SHOW_ALERT('ALR_DIMINUIR')&#x9;= ALERT_BUTTON2 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA&#x9;:=&#x9;PACK_GLOBAL.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;PACK_GLOBAL.VALIDA_QUANTIDADE := FALSE;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;/**FLA:26/11/2019:141242&amp;#10;&#x9;&#x9; * Lógica do Parâmetro que permite informar mais de uma unidade para Item de serviço&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;V_ST_UNIDADEITENS := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_UNIDADEITENS'), 'N');&amp;#10;&#x9;&#x9;IF PACK_GLOBAL.TP_ITEM = 'S' AND V_ST_UNIDADEITENS = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA := 1;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF (:ITEMCOMPRA.QT_PREVISTA IS NULL) OR  (:ITEMCOMPRA.QT_PREVISTA = 0)THEN &amp;#10;&#x9;&#x9;&#x9;--A quantidade deve ser informada.&amp;#10;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(1827,'');&amp;#10;&#x9;&#x9;/** WLV:13/08/2012:41514&amp;#10;&#x9;&#x9;  * Comentado o GO_ITEM abaixo pois não há a necessidade, e estava errado com os dois pontos na frente do nome do bloco&amp;#10;&#x9;&#x9;  */   &amp;#10;&#x9;&#x9;&#x9;--GO_ITEM(':ITEMCOMPRA.QT_PREVISTA');&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA := NULL;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" DirtyInfo="true"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_DS_MOVIMENTACAO VARCHAR2(60);&amp;#10;&#x9;VL_ESTIMADO       NUMBER;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;VALIDATE (ITEM_SCOPE);&amp;#10;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;VALIDATE (RECORD_SCOPE);&amp;#10;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF (:ITEMCOMPRA.QT_PREVISTA > 0) THEN&amp;#10;&#x9;&#x9;/*MGK:52401:03/12/12 - Adicionada verificação para que itens de quantidade tenham a QT_PREVISTA arredondada.*/&amp;#10;&#x9;&#x9;DEFINIR_ROUND(I_CD_ITEM  => :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM => V_MENSAGEM);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;--IF (:ITEMCOMPRA.QT_PREVISTA > 0) THEN&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;       PLANOCONTABIL.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;INTO V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;FROM PARMOVIMENT,&amp;#10;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;  &#x9;     PLANOCONTABIL&amp;#10;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;       PLANOCONTABILVERSAO.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;INTO V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;FROM PARMOVIMENT,&amp;#10;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;  &#x9;     PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABILVERSAO.CD_CONTACONTABIL&amp;#10;&#x9;&#x9; &#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE));&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;  EXCEPTION &amp;#10;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;    NULL;&amp;#10;&#x9;END;  &amp;#10;&#x9;/* GDG: 22978 : 13/11/2009 &amp;#10;&#x9; * Quando for realizado o pedido de um novo item(item este em que não há registro de compra na empresa)&amp;#10;&#x9; * o programa abrirá uma janela para que o usuário que está abrindo a solicitação de compra informe&amp;#10;&#x9; * um valor estimado de quanto vai custar cada unidade do referido item.&amp;#10;&#x9; * Quando esse item já tiver um registro de compra, o programa pegará automaticamente o ultimo valor&amp;#10;&#x9; * negociado para o item (valor unitário da ultima compra).&amp;#10;&#x9; * Esses valores serão gravados somente se o parâmetro do COM009 estiver marcado ('Permitir inserir valor estimado (COM009)').&amp;#10;&#x9; * Quando essa informação ser gravada, será possivel visualizá-la no COM002, em datelhes da solicitação.&amp;#10;&#x9; */&amp;#10;&#x9;IF :ITEMCOMPRA.QT_PREVISTA > 0 &amp;#10;&#x9; AND :ITEMCOMPRA.VL_ESTIMADO IS NULL &amp;#10;&#x9; AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'CHK_VLESTIMADO_COM001'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  SELECT ITEMPEDIDOCOMPRA.VL_UNITITEM&amp;#10;&#x9;&#x9;    INTO VL_ESTIMADO&amp;#10; &#x9;&#x9;&#x9;  FROM ITEMPEDIDOCOMPRA&amp;#10; &#x9;&#x9;   WHERE ITEMPEDIDOCOMPRA.CD_ITEM    = :ITEMCOMPRA.CD_ITEM&amp;#10;   &#x9;&#x9;&#x9; AND ITEMPEDIDOCOMPRA.CD_EMPRESA = :CONTROLE.CD_EMPRESA&amp;#10;   &#x9;&#x9;&#x9; AND ITEMPEDIDOCOMPRA.NR_PEDIDO  = (SELECT MAX(ITEMPEDIDOCOMPRA.NR_PEDIDO)&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMPEDIDOCOMPRA&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMPEDIDOCOMPRA.CD_EMPRESA = :CONTROLE.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND ITEMPEDIDOCOMPRA.CD_ITEM    = :ITEMCOMPRA.CD_ITEM);&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;     VL_ESTIMADO := NULL;&amp;#10;&#x9;&#x9;END;&#x9;&amp;#10;&#x9;&#x9;IF VL_ESTIMADO IS NULL THEN&amp;#10;&#x9;    CENTRALIZA_FORM('WIN_ITEMCOMPRA', 'WIN_VLESTIMADO');&amp;#10;&#x9;    GO_ITEM('ITEMCOMPRA_AUX.VL_ESTIMADO_AUX');&amp;#10;&#x9;&#x9;ELSE&#x9;&#x9;&#x9;&amp;#10;&#x9;  &#x9;:ITEMCOMPRA.VL_ESTIMADO := VL_ESTIMADO;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;ELSE&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.TP_CONTACONTABIL = 'CC'  THEN&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.QT_PREVISTA > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  --Preenche o bloco com os dados do grupo para as linhas com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;&#x9;&#x9;&#x9;  GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;&#x9;    SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;    PACK_GRUPO.CARREGA_DADOS_CC(:ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--O campo Quantidade deve ser informado.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(3654,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;  &amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_OBRIGARATEIONEGOCIO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;-- TRATAMENTO DE RATEIO POR NEGOCIO&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;  &#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;      PACK_GRUPO_NEGOCIO.CARREGA_DADOS_NEGOCIO(:ITEMCOMPRA.CD_ITEM); &#x9;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;--&#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9; -- GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;&#x9;&#x9; GO_ITEM('ITEMCOMPRA.CD_TIPOLOCALARMAZ');&amp;#10;&#x9;&#x9;END IF;&amp;#10;  END IF;&amp;#10;  :CONTROLE.ST_MUDAUTORIZADOR := 'S';&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="POST-TEXT-ITEM" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF (:ITEMCOMPRA.QT_PREVISTA > 0) THEN&amp;#10;&#x9;&#x9;/*MGK:52401:07/12/12 - Adicionada verificação para que itens de quantidade tenham a QT_PREVISTA arredondada.*/&amp;#10;&#x9;&#x9;DEFINIR_ROUND(I_CD_ITEM  => :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM => V_MENSAGEM);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;--IF (:ITEMCOMPRA.QT_PREVISTA > 0) THEN&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="VL_ESTIMADO" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="VL_ESTIMADO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="BTN_CENTROCUSTO" Justification="Iniciar" Width="28" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="649" YPosition="243" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Tecla" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" Label=". . ." LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="false"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_SEL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE &amp;#10;&#x9;V_CD_OPERESTOQUE    CMI.CD_OPERESTOQUE%TYPE;&amp;#10;  V_DS_MOVIMENTACAO   VARCHAR2(60);&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;&#x9;&#x9;  VARCHAR2(32000);&amp;#10;  E_GERAL             EXCEPTION;&amp;#10;&#x9;V_ST_LANCAMOV VARCHAR2(10);&amp;#10;&#x9;V_ALERT       NUMBER;&amp;#10;&#x9;V_TP_INFORME  VARCHAR2(10);&amp;#10;BEGIN  &amp;#10;&#x9;VALIDATE(RECORD_SCOPE);&amp;#10;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;SELECT CMI.CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;       PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;       PLANOCONTABIL.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;INTO V_CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;  &#x9;     V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;FROM PARMOVIMENT, &amp;#10;&#x9;&#x9;  &#x9;     CMI,&amp;#10;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;  &#x9;     PLANOCONTABIL&amp;#10;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_CMI          = CMI.CD_CMI&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;   AND CMI.TP_FATES                = '0';&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;SELECT CMI.CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;&#x9;       PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;       PLANOCONTABILVERSAO.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;INTO V_CD_OPERESTOQUE, &amp;#10;&#x9;&#x9;  &#x9;     V_DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;  &#x9;     :ITEMCOMPRA.TP_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;FROM PARMOVIMENT, &amp;#10;&#x9;&#x9;  &#x9;     CMI,&amp;#10;&#x9;&#x9;  &#x9;     HISTCONTB,&amp;#10;&#x9;&#x9;  &#x9;     PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9; &#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_CMI          = CMI.CD_CMI&amp;#10;&#x9;&#x9; &#x9; &#x9; AND PARMOVIMENT.CD_HISTCONTB    = HISTCONTB.CD_HISTCONTB&amp;#10;&#x9;&#x9; &#x9;   AND HISTCONTB.CD_CONTACONTABIL  = PLANOCONTABILVERSAO.CD_CONTACONTABIL&amp;#10;&#x9;&#x9; &#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE))&amp;#10;&#x9;&#x9;&#x9;   AND CMI.TP_FATES                = '0';&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;  /*CSL:22115:10/06/09&amp;#10;  &#x9;   *Alterada a mensagem: 'Caracteristicas da movimentação :ITEMCOMPRA.CD_MOVIMENTACAO não encontrados.' &amp;#10;  &#x9;   */&amp;#10;  &#x9;  --Movimentação ¢CD_MOVIMENTACAO¢ inválida para esta operação. Verifique se o CMI desta movimentação é do tipo ENTRADA. Verifique TCB008/TCB002. &amp;#10;  &#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4723,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;  &#x9;  RAISE E_GERAL;&amp;#10;  &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;  &#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ está cadastrada várias vezes. Verifique TCB008.&amp;#10;  &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(47,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;  &#x9;  RAISE E_GERAL;&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;--Erro ao Pesquisar a Movimentação ¢CD_MOVIMENTACAO¢. Verifique TCB008. Erro ¢SQLERRM¢.&amp;#10;  &#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(48,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;  RAISE E_GERAL;&amp;#10;  END;&amp;#10;  &amp;#10;&#x9;SELECT NVL(ST_LANCAMOV,'N') &amp;#10;&#x9;  INTO V_ST_LANCAMOV&amp;#10;&#x9;  FROM PARMCOMPRA&amp;#10;&#x9; WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&amp;#10;&#x9;--- IF PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' AND &amp;#10;  ---&#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO ('ORC',50,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTAORCCOMPRAS'),'N') = 'S' THEN   &#x9; &amp;#10;&#x9;V_TP_INFORME := 'S';&amp;#10;&#x9;FOR I IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT LOOP&amp;#10;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.EXISTS(I) AND PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(I).CD_ITEM = :ITEMCOMPRA.CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;V_TP_INFORME := 'C';&amp;#10;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;END LOOP;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;IF V_TP_INFORME = 'S' THEN&amp;#10;&#x9;&#x9;FOR I IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO.EXISTS(I) AND PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(I).CD_ITEM = :ITEMCOMPRA.CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_TP_INFORME := 'N';&amp;#10;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;END LOOP;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF V_TP_INFORME = 'C' THEN&amp;#10;&#x9;  --Preenche o bloco com os dados do grupo para as linhas com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;  &#x9;PACK_GRUPO.CARREGA_DADOS_CC(:ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;ELSIF V_TP_INFORME = 'N' THEN&amp;#10;&#x9;  -- TRATAMENTO DE RATEIO POR NEGOCIO&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;  &amp;#10;  &#x9;PACK_GRUPO_NEGOCIO.CARREGA_DADOS_NEGOCIO(:ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF V_ST_LANCAMOV = 'S' OR :ITEMCOMPRA.TP_CONTACONTABIL = 'CC' OR &amp;#10;&#x9;&#x9;&#x9;PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' THEN  &amp;#10;&#x9;  &#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.QT_PREVISTA > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.TP_CONTACONTABIL &lt;> 'CC' &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND (PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' AND  V_ST_LANCAMOV = 'S' ) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ALERT := SHOW_ALERT('ALERTA_TIPORATEIO');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_ALERT = ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;-- TRATAMENTO DE RATEIO POR NEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;      &#x9;PACK_GRUPO_NEGOCIO.CARREGA_DADOS_NEGOCIO(:ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;       &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSIF V_ALERT = ALERT_BUTTON2 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    --Preenche o bloco com os dados do grupo para as linhas com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;      &#x9;PACK_GRUPO.CARREGA_DADOS_CC(:ITEMCOMPRA.CD_ITEM); &#x9;       &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSIF :ITEMCOMPRA.TP_CONTACONTABIL &lt;> 'CC' &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND (PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' AND  V_ST_LANCAMOV = 'N' ) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;-- TRATAMENTO DE RATEIO POR NEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;&#x9;    &#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;        PACK_GRUPO_NEGOCIO.CARREGA_DADOS_NEGOCIO(:ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--Preenche o bloco com os dados do grupo para as linhas com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;    &#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;      &#x9;PACK_GRUPO.CARREGA_DADOS_CC(:ITEMCOMPRA.CD_ITEM); &#x9;       &amp;#10;&#x9;        END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A quantidade deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(1827,'');&amp;#10;&#x9;&#x9;&#x9;  &#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;  &amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN &amp;#10;&#x9;&#x9;NULL;&#x9;&amp;#10;  WHEN E_GERAL THEN&amp;#10;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&#x9;&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BTN_SEL_ANEXO" Iconic="false" Width="28" ItemType="Tecla" BackColor="white" XPosition="676"
                  FontName="MS Sans Serif" YPosition="243" FontSize="1000" FontStyle="Simples" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_SEL" FontWeight="Semiclaro" Label=". . ." FontSpacing="Normal"
                  ForegroundColor="black" CanvasName="CAN_ITEMCOMPRA" KeyboardNavigable="false" Height="21">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_ANEXO     ARQUIVO.DS_ARQUIVO%TYPE;&amp;#10;&#x9;V_MENSAGEM  VARCHAR2(32000);&amp;#10;&#x9;E_GERAL     EXCEPTION;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NOT PACK_PROCEDIMENTOS.EXISTE_ARQUIVOS(:ITEMCOMPRA.CD_EMPRESA,:SYSTEM.CURSOR_RECORD) THEN&amp;#10;&#x9;&#x9;&#x9;V_ANEXO := GET_FILE_NAME(NULL, NULL, NULL, 'Arquivo para Anexo', OPEN_FILE, TRUE);&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--:ITEMCOMPRA.DS_ARQUIVO := V_ANEXO;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.GRAVA_ARQUIVOS_VETOR(:ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              :SYSTEM.CURSOR_RECORD, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              V_ANEXO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;IF NOT MSG_CONFIRMACAO('Essa solicitação já tem um anexo salvo, deseja cadastrar mais um?') THEN&amp;#10;&#x9;&#x9;&#x9;  RETURN;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  V_ANEXO := GET_FILE_NAME(NULL, NULL, NULL, 'Arquivo para Anexo', OPEN_FILE, TRUE);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.GRAVA_ARQUIVOS_VETOR(:ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              :SYSTEM.CURSOR_RECORD, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              V_ANEXO,&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;              &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                V_MENSAGEM);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;-- Só é possível verificar se o anexo é permitido após ser informado o número da empresa, &amp;#10;&#x9;&#x9;-- portanto se for nulo alertar o usuário&amp;#10;&#x9;&#x9;/*O campo ¢NM_CAMPO¢ deve ser informado.*/&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1545, '¢NM_CAMPO='||'Empresa'||'¢');&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Observação', V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro', SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="CD_TIPOLOCALARMAZ" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0"
                  Width="55" MaximumLength="5" RecordVisualAttributeGroupName="VSA_SELECIONADO" AutoSkip="true"
                  XPosition="705" Required="false" YPosition="243" DatabaseItem="true" Bevel="Nenhum"
                  CanvasName="CAN_ITEMCOMPRA" CaseRestriction="Superior" ItemsDisplay="0" Height="21"
                  Prompt="Tipo Local" PromptAttachmentEdge="Superior" PromptAttachmentOffset="1"
                  PromptAlign="Centralizado" PromptAlignOffset="2" ItemType="Item de Texto" DataType="Number"
                  UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="CD_TIPOLOCALARMAZ"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.CD_TIPOLOCALARMAZ IS NOT NULL THEN    &amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ&amp;#10;      INTO :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ &amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;       &amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM;         &amp;#10;  END IF;  &amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O Tipo de Local de Armazenagem ¢CD_TIPOLOCALARMAZ¢ não está cadastrado. Verifique TES001.&amp;#10;    MENSAGEM_PADRAO(123,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ||'¢');    &amp;#10;    :ITEMCOMPRA.CD_TIPOLOCALARMAZ := NULL;&amp;#10;    RAISE FORM_TRIGGER_FAILURE; &amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados tipo de local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;  &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');  &#x9;&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="WHEN-MOUSE-DOUBLECLICK" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM   VARCHAR2(32000);&amp;#10;BEGIN&#x9;&amp;#10;  PACK_PROCEDIMENTOS.VALIDA_LOCALARMAZ(V_MENSAGEM);&#x9;--eml:25/05/2020:148401&amp;#10;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;END IF;&amp;#10;END;&#x9;"/>
            </Item>
            <Item Name="CD_LOCALARMAZ" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0" Width="55"
                  MaximumLength="10" RecordVisualAttributeGroupName="VSA_SELECIONADO" XPosition="761" Required="false"
                  YPosition="243" DatabaseItem="true" Bevel="Nenhum" CanvasName="CAN_ITEMCOMPRA"
                  CaseRestriction="Superior" ItemsDisplay="0" Height="21" Prompt="Local" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="0" ItemType="Item de Texto"
                  DataType="Number" UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="CD_LOCALARMAZ"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.CD_LOCALARMAZ IS NOT NULL THEN&amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.CD_LOCALARMAZ&amp;#10;      INTO :ITEMCOMPRA.CD_LOCALARMAZ&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ   &amp;#10;       AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ &amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA; &amp;#10; &amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM;     &amp;#10;  END IF;    &amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O local de armazenagem (Tipo: ¢CD_TIPOLOCALARMAZ¢, ¢CD_LOCALARMAZ¢) não está cadastrado. Verifique TES002.&amp;#10;    MENSAGEM_PADRAO(233,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢');&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados do local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;   &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="NR_SUBLOCARMAZ1" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0"
                  Width="40" MaximumLength="8" RecordVisualAttributeGroupName="VSA_SELECIONADO" XPosition="817"
                  Required="false" YPosition="243" DatabaseItem="true" Bevel="Nenhum" CanvasName="CAN_ITEMCOMPRA"
                  CaseRestriction="Superior" ItemsDisplay="0" Height="21" Prompt="Sub 1" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="-1" ItemType="Item de Texto"
                  DataType="Char" UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="NR_SUBLOCARMAZ1"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.NR_SUBLOCARMAZ1 IS NOT NULL THEN&amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.NR_SUBLOCARMAZ1&amp;#10;      INTO :ITEMCOMPRA.NR_SUBLOCARMAZ1&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ    &amp;#10;       AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1  &amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA;    &amp;#10;  &amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM;&amp;#10;    &amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O local de armazenagem (Tipo: ¢CD_TIPOLOCALARMAZ¢, ¢CD_LOCALARMAZ¢) não está cadastrado. Verifique TES002.&amp;#10;    MENSAGEM_PADRAO(233,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢');&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados do local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;   &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;    &amp;#10;END;"/>
            </Item>
            <Item Name="NR_SUBLOCARMAZ2" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0"
                  Width="40" MaximumLength="7" RecordVisualAttributeGroupName="VSA_SELECIONADO" XPosition="858"
                  Required="false" YPosition="243" DatabaseItem="true" Bevel="Nenhum" CanvasName="CAN_ITEMCOMPRA"
                  CaseRestriction="Superior" ItemsDisplay="0" Height="21" Prompt="Sub 2" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="0" ItemType="Item de Texto"
                  UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="NR_SUBLOCARMAZ2"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.NR_SUBLOCARMAZ2 IS NOT NULL THEN&amp;#10;&amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.NR_SUBLOCARMAZ2&amp;#10;      INTO :ITEMCOMPRA.NR_SUBLOCARMAZ2&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ    &amp;#10;       AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ2   = :ITEMCOMPRA.NR_SUBLOCARMAZ2  &amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA;  &amp;#10;&amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM;&amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O local de armazenagem (Tipo: ¢CD_TIPOLOCALARMAZ¢, ¢CD_LOCALARMAZ¢) não está cadastrado. Verifique TES002.&amp;#10;    MENSAGEM_PADRAO(233,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢');&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados do local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;   &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="NR_SUBLOCARMAZ3" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0"
                  Width="40" MaximumLength="2" RecordVisualAttributeGroupName="VSA_SELECIONADO" XPosition="899"
                  Required="false" YPosition="243" DatabaseItem="true" Bevel="Nenhum" CanvasName="CAN_ITEMCOMPRA"
                  CaseRestriction="Superior" ItemsDisplay="0" Height="21" Prompt="Sub 3" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="0" ItemType="Item de Texto"
                  UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="NR_SUBLOCARMAZ3"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.NR_SUBLOCARMAZ3 IS NOT NULL THEN&amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.NR_SUBLOCARMAZ3&amp;#10;      INTO :ITEMCOMPRA.NR_SUBLOCARMAZ3&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ     &amp;#10;       AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ2   = :ITEMCOMPRA.NR_SUBLOCARMAZ2  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ3   = :ITEMCOMPRA.NR_SUBLOCARMAZ3  &amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA;      &amp;#10;  &amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM; &amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O local de armazenagem (Tipo: ¢CD_TIPOLOCALARMAZ¢, ¢CD_LOCALARMAZ¢) não está cadastrado. Verifique TES002.&amp;#10;    MENSAGEM_PADRAO(233,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢');&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados do local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;   &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="NR_SUBLOCARMAZ4" Justification="Centralizado" Enabled="true" DistanceBetweenRecords="0"
                  Width="40" MaximumLength="3" RecordVisualAttributeGroupName="VSA_SELECIONADO" XPosition="940"
                  Required="false" YPosition="243" DatabaseItem="true" Bevel="Nenhum" CanvasName="CAN_ITEMCOMPRA"
                  CaseRestriction="Superior" ItemsDisplay="0" Height="21" Prompt="Sub 4" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Centralizado" PromptAlignOffset="0" ItemType="Item de Texto"
                  UpdateAllowed="true" DirtyInfo="true" VisualAttributeName="VSA_CAMPOTEXTO"
                  PromptVisualAttributeName="VSA_PROMPT" ColumnName="NR_SUBLOCARMAZ4"
                  PromptDisplayStyle="Primeiro Registro" LovName="LOV_LOCALORIGEM">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRA.NR_SUBLOCARMAZ4 IS NOT NULL THEN&amp;#10;    SELECT DISTINCT LOCALARMAZENAGEM.NR_SUBLOCARMAZ4&amp;#10;      INTO :ITEMCOMPRA.NR_SUBLOCARMAZ4&amp;#10;      FROM LOCALARMAZENAGEM&amp;#10;     WHERE LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ     &amp;#10;       AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ2   = :ITEMCOMPRA.NR_SUBLOCARMAZ2  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ3   = :ITEMCOMPRA.NR_SUBLOCARMAZ3  &amp;#10;       AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ4   = :ITEMCOMPRA.NR_SUBLOCARMAZ4&amp;#10;       AND LOCALARMAZENAGEM.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA; &amp;#10;       &amp;#10;    PACK_PROCEDIMENTOS.CONSULTA_NM_LOCALARMAZENAGEM;    &amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    --O local de armazenagem (Tipo: ¢CD_TIPOLOCALARMAZ¢, ¢CD_LOCALARMAZ¢) não está cadastrado. Verifique TES002.&amp;#10;    MENSAGEM_PADRAO(233,'¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢');&amp;#10;    RAISE FORM_TRIGGER_FAILURE;&amp;#10;  WHEN OTHERS THEN&amp;#10;    --Ocorreu um erro inesperado ao buscar dados do local de armazenagem. Erro: ¢SQLERRM¢.&amp;#10;   &#x9;MENSAGEM_PADRAO(3120,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="NEXT_RECORD;                          &amp;#10;GO_ITEM('ITEMCOMPRA.CD_ITEM');        "/>
            </Item>
            <Item Name="NM_LOCALARMAZENAGEM" Justification="Iniciar" Width="275" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="705" YPosition="433" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_HISTCONTB" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="60" CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_CAMPOEXIBICAO" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DT_INICIO" Justification="Centralizado" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="473" YPosition="124" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Data de Início dos Serviços" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Data Início" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="1"
                  PromptAlign="Iniciar" PromptAlignOffset="-18" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18"
                  Hint="Data de Início dos Serviços" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto"
                  CopyValueFromItem="CONTROLE.DT_INICIO" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="800"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="DT_INICIO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  IF (:ITEMCOMPRA.DT_DESEJADA IS NOT NULL) AND (:ITEMCOMPRA.DT_INICIO IS NOT NULL) THEN&amp;#10;&#x9;  IF :ITEMCOMPRA.DT_INICIO > :ITEMCOMPRA.DT_DESEJADA THEN&amp;#10;&#x9;  &#x9; --Data de início da obra deve ser menor que data desejada.&amp;#10;&#x9;&#x9;&#x9; MENSAGEM_PADRAO(4698,'');&amp;#10;&#x9;     :ITEMCOMPRA.DT_INICIO := :ITEMCOMPRA.DT_DESEJADA;&amp;#10;&#x9;     RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  END IF;&amp;#10;  END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_OBSERVACAOEXT" Justification="Iniciar" Width="293" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="23" YPosition="471" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Observação Externa" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Observação Externa" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="-198" PromptAlign="Centralizado"
                  PromptAlignOffset="-46" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="70" Hint="Observação Externa" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="150" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="true" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ColumnName="DS_OBSERVACAOEXT" PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="DS_OBSERVACAO" Justification="Iniciar" Width="293" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="317" YPosition="471" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Observação Interna" CanvasName="CAN_ITEMCOMPRA"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Observação Interna"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="-194"
                  PromptAlignOffset="-46" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="70" Hint="Observação Interna"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="150" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="true" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB"
                  PromptFontStyle="Sublinhado" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ColumnName="DS_OBSERVACAO" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF PACK_GLOBAL.TP_ITEM = 'S' THEN&amp;#10;&#x9;&#x9;NEXT_ITEM;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;&#x9;END IF;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_ITEMSERVICO" Width="293" WrapStyle="Palavra" AutoSkip="false" XPosition="611" YPosition="471"
                  DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição dos Serviços" CanvasName="CAN_ITEMCOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Descrição Serviço"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="2" PromptAlignOffset="4" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditName="EDITDS_ITEMSERVICO" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false"
                  FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="70"
                  Hint="Descrição dos Serviços" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="1000"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="true" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ColumnName="DS_ITEMSERVICO" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;  I_TP_ITEM VARCHAR2(01);&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;  SELECT ITEM.TP_ITEM &amp;#10;&#x9;&#x9;    INTO I_TP_ITEM &amp;#10;&#x9;&#x9;    FROM ITEM &amp;#10;&#x9;&#x9;   WHERE (ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM); &amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;  &#x9;WHEN OTHERS THEN &amp;#10;&#x9;  &#x9;&#x9;NULL;&amp;#10;&#x9;  END;&amp;#10;  &amp;#10;&#x9;&#x9;IF I_TP_ITEM = 'S' THEN&amp;#10;    &#x9;IF  :ITEMCOMPRA.DS_ITEMSERVICO IS NULL THEN&amp;#10;    &#x9;&#x9; --A descrição do serviço deve ser informada.&amp;#10;    &#x9;&#x9; MENSAGEM_PADRAO(4688,'');&amp;#10;&#x9;&#x9;&#x9;&#x9; RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;    &#x9;--GO_BLOCK ('ITEMCOMPRACCUSTO');&amp;#10;    &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;    END IF;&amp;#10;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;  /*IF PACK_GLOBAL.TP_ITEM IS NOT NULL THEN &amp;#10;    IF PACK_GLOBAL.TP_ITEM = 'S' THEN&amp;#10;       GO_BLOCK ('ITEMCOMPRACCUSTO');   &amp;#10;    END IF;&amp;#10;  ELSIF PACK_GLOBAL.TP_ITEM IS NULL THEN&amp;#10;    IF (:ITEMCOMPRA.CD_ITEM IS NOT NULL) THEN&amp;#10;        &amp;#10;        IF I_TP_ITEM = 'S' THEN&amp;#10;          GO_BLOCK ('ITEMCOMPRACCUSTO');   &amp;#10;        END IF;&amp;#10;    END IF;&amp;#10;  END IF;*/&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_EMPRESAITEM" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresaitem" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" CopyValueFromItem="CONTROLE.CD_EMPRESA"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESAITEM"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESAUTORIZ" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresaautoriz" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  InitializeValue=":ITEMCOMPRA.CD_EMPRESA" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESAUTORIZ"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_SOLICITANTE" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Usuasolicita" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  InitializeValue=":GLOBAL.CD_USUARIO" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_SOLICITANTE"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESASOLIC" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" InitializeValue=":ITEMCOMPRA.CD_EMPRESA"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESASOLIC"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_SOLICITACAO" Justification="Iniciar" Width="80" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="97" YPosition="185" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Data Solicitação" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="7"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date"
                  UpdateQuery="true" InitializeValue="$$DATE$$" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="168" Rendered="true" Required="false" ConcealData="false"
                  SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false"
                  ShowVolume="true" ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_SOLICITACAO"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="DT_CONSOLIDACAO" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Consolidacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_CONSOLIDACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="QT_NEGOCIADA" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Qt Negociada" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="17" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="QT_NEGOCIADA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ENDERENTREGA" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Enderentrega" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_ENDERENTREGA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="ST_ITEMCOMPRA" Justification="Iniciar" Width="32" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="706" YPosition="181" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="St Itemcompra" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="-48"
                  PromptAlign="Iniciar" PromptAlignOffset="-20" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  InitializeValue="0" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="ST_ITEMCOMPRA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="ST_CRONOGRAMACOMPRA" Justification="Iniciar" Width="32" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="706" YPosition="181" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="St Itemcompra" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="-48"
                  PromptAlign="Iniciar" PromptAlignOffset="-20" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" InitializeValue="" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="1"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="ST_CRONOGRAMACOMPRA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_ALTERACAO" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Alteracao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_ALTERACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_LIBERACAO" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Liberacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_LIBERACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="ST_EMISSAONF" Justification="Iniciar" Width="12" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="St Emissaonf" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="ST_EMISSAONF"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMPRORIGEM" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Nr Itemprorigem" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="NR_ITEMPRORIGEM"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="NR_NEGOCIACAO" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Nr Negociacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="NR_NEGOCIACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_RECORD" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Date"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_RECORD"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="HR_RECORD" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Hr Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="HR_RECORD"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_OBSCANCEL" Justification="Iniciar" Width="493" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="36" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_MOTIVOCANCELAMENTO" CaseInsensitiveQuery="false"
                  ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Informe o Motivo do Cancelamento"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="94" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="500"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="true" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_TEXTO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ColumnName="DS_OBSCANCEL" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('CONTROLE.BT_SALVAR');"/>
                <Trigger Name="KEY-PREV-ITEM" DirtyInfo="true" TriggerText="GO_ITEM('CONTROLE.BT_VOLTAR');"/>
            </Item>
            <Item Name="NR_ITEMCOMPRA" Justification="Centralizado" Width="53" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="695" YPosition="25" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="4"
                  PromptAlign="Iniciar" PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" ForegroundColor="r0g25b50" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="9"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Verdana"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="800"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="NR_ITEMCOMPRA"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_ST_ITEMCOMPRA&#x9;&#x9;ITEMCOMPRA.ST_ITEMCOMPRA%TYPE;&#x9;&amp;#10;BEGIN&amp;#10;&amp;#10;IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NOT NULL THEN&amp;#10; &#x9;&#x9;&amp;#10; &#x9;&#x9;SELECT CD_EMPRESA,&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_EMPRESA,&#x9;V_ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;  FROM ITEMCOMPRA&amp;#10;&#x9;&#x9; WHERE CD_EMPRESA    &#x9;&#x9;= &#x9;:GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND CD_SOLICITANTE&#x9;&#x9;=&#x9;&#x9;:GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9;   AND NR_ITEMCOMPRA &#x9;&#x9;= &#x9;:ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9; --Cancelado&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA    = &#x9;99 THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Solicitação de compra, CANCELADA  não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Aguardando Liberação&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;0  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Aguardando Liberação  não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Recusada&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;2  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Recusada não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Cotação&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;3  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Cotação não é possível atualizar... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Negociação ...&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;4  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Negociação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Aprovação ... &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 5  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Aprovação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Aprovação ...&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 6  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Aprovação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; --Solicitação, Pedido Gerado ... &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 7  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Pedido foi Gerado não é possível atualizar, aguardando chegada  ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9; &#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; -- Cotação &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   IN (1,11)  THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; SET_BLOCK_PROPERTY('ITEMCOMPRA',DEFAULT_WHERE,'NR_ITEMCOMPRA = '||:ITEMCOMPRA.NR_ITEMCOMPRA);&amp;#10;&#x9;&#x9;&#x9;&#x9; EXECUTE_QUERY(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;---Atualiza para aguandando solicitaçao a solicitação devolvida &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;IF V_ST_ITEMCOMPRA = 11 THEN &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;  :ITEMCOMPRA.ST_ITEMCOMPRA:=0;&#x9;          &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;END IF; &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;NEXT_ITEM;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9; BEGIN  &amp;#10;&#x9;&#x9;    SELECT CD_EMPRESA,&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;     INTO :ITEMCOMPRA.CD_EMPRESA,&#x9;V_ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;     FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;    WHERE CD_EMPRESA    &#x9;&#x9;= &#x9;:GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;      AND NR_ITEMCOMPRA &#x9;&#x9;= &#x9;:ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;mensagem('Maxys','Solicitação de compra pertence a outro Solicitante !',2);&#x9;&#x9;&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;       &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;          mensagem('Maxys','Solicitação de compra não cadastrada !',2);&#x9;&#x9;&amp;#10;&#x9;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_DEPARTAMENTO" Justification="Centralizado" Width="53" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="695" YPosition="25" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="4"
                  PromptAlign="Iniciar" PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" ForegroundColor="r0g25b50" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Verdana"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="800"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="CD_DEPARTAMENTO"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_ST_ITEMCOMPRA&#x9;&#x9;ITEMCOMPRA.ST_ITEMCOMPRA%TYPE;&#x9;&amp;#10;BEGIN&amp;#10;&amp;#10;IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NOT NULL THEN&amp;#10; &#x9;&#x9;&amp;#10; &#x9;&#x9;SELECT CD_EMPRESA,&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_EMPRESA,&#x9;V_ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;  FROM ITEMCOMPRA&amp;#10;&#x9;&#x9; WHERE CD_EMPRESA    &#x9;&#x9;= &#x9;:GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND CD_SOLICITANTE&#x9;&#x9;=&#x9;&#x9;:GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9;   AND NR_ITEMCOMPRA &#x9;&#x9;= &#x9;:ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9; --Cancelado&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA    = &#x9;99 THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Solicitação de compra, CANCELADA  não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Aguardando Liberação&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;0  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Aguardando Liberação  não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Recusada&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;2  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Recusada não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Cotação&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;3  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Cotação não é possível atualizar... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Negociação ...&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = &#x9;4  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Negociação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Em Aprovação ... &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 5  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Em Aprovação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; --Solicitação, Aprovação ...&amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 6  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Aprovação não é possível atualizar ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; --Solicitação, Pedido Gerado ... &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   = 7  THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;mensagem('Maxys','Status, Pedido foi Gerado não é possível atualizar, aguardando chegada  ... Solicitação número  '||:ITEMCOMPRA.NR_ITEMCOMPRA,2);&amp;#10;&#x9;&#x9;&#x9; &#x9;CLEAR_FORM(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; -- Cotação &amp;#10;&#x9;&#x9;&#x9; IF V_ST_ITEMCOMPRA   IN (1,11)  THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; SET_BLOCK_PROPERTY('ITEMCOMPRA',DEFAULT_WHERE,'NR_ITEMCOMPRA = '||:ITEMCOMPRA.NR_ITEMCOMPRA);&amp;#10;&#x9;&#x9;&#x9;&#x9; EXECUTE_QUERY(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;---Atualiza para aguandando solicitaçao a solicitação devolvida &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;IF V_ST_ITEMCOMPRA = 11 THEN &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;  :ITEMCOMPRA.ST_ITEMCOMPRA:=0;&#x9;          &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;END IF; &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;NEXT_ITEM;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9; BEGIN  &amp;#10;&#x9;&#x9;    SELECT CD_EMPRESA,&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;     INTO :ITEMCOMPRA.CD_EMPRESA,&#x9;V_ST_ITEMCOMPRA&amp;#10;&#x9;&#x9;     FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;    WHERE CD_EMPRESA    &#x9;&#x9;= &#x9;:GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;      AND NR_ITEMCOMPRA &#x9;&#x9;= &#x9;:ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;mensagem('Maxys','Solicitação de compra pertence a outro Solicitante !',2);&#x9;&#x9;&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;       &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;          mensagem('Maxys','Solicitação de compra não cadastrada !',2);&#x9;&#x9;&amp;#10;&#x9;&#x9;      RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_AUTORIZADOR" Justification="Centralizado" Width="53" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="619" YPosition="13" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Autorizador"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Autorizador" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="5" PromptAlign="Centralizado"
                  PromptAlignOffset="1" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18" Hint="Código do Autorizador"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" CopyValueFromItem="" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_SOLICAUTORIZ" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ColumnName="CD_AUTORIZADOR" PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-NEW-ITEM-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;&#x9;I_CD_AUTORIZADOR VARCHAR2(03);&amp;#10;  &#x9;MOSTRA_LOV       BOOLEAN;&amp;#10;  &#x9;&amp;#10;BEGIN&amp;#10;&#x9;IF :SYSTEM.RECORD_STATUS = 'INSERT' THEN -- ok                              &amp;#10;&#x9;&#x9;IF PACK_GLOBAL.ST_APROVSOLIC = 'S' THEN --OK&amp;#10; &#x9;&#x9;&#x9;IF (:ITEMCOMPRA.CD_EMPRESAUTORIZ IS NOT NULL) AND (:ITEMCOMPRA.CD_EMPRESASOLIC IS NOT NULL) &amp;#10; &#x9;&#x9;&#x9;&#x9;                                            AND (:ITEMCOMPRA.CD_SOLICITANTE  IS NOT NULL) THEN&amp;#10;     &#x9;&#x9;  &amp;#10;   &#x9;&#x9;  I_CD_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;MOSTRA_LOV := SHOW_LOV('LOV_AUTORIZADOR');         &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10; &#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;ELSE&amp;#10; &#x9;&#x9;&#x9;:ITEMCOMPRA.CD_SOLICITANTE := NULL;  &amp;#10; &#x9;&#x9;&#x9;:ITEMCOMPRA.NM_USUAUTORIZ  := NULL;&#x9;&amp;#10;&#x9;&#x9;END IF;     &amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="null;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="TP_CONTACONTABIL" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="2" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_TIPOCOMPRA" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto"
                  CopyValueFromItem="CONTROLE.CD_TIPOCOMPRA" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_TIPOCOMPRA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_TIPOCOMPRA" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="5"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="NR_REGISTRO" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="18" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="LOV_GRUPOCC"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMCOMPRA_AUX" DatabaseItem="false" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="CD_EMPRESA_AUX" DatabaseItem="false" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="CD_CONTAORCAMENTO" DirtyInfo="true" Width="110" MaximumLength="8" ColumnName="CD_CONTAORCAMENTO"
                  DataType="Number" Height="21"/>
            <Item Name="DT_DESEJADA" Justification="Centralizado" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="402" YPosition="124" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Data Desejada"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Data Desejada" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="1" PromptAlign="Iniciar"
                  PromptAlignOffset="-18" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="800"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  FormatMask="DD/MM/RRRR" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="18"
                  Hint="Data Desejada" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" CopyValueFromItem="CONTROLE.DT_DESEJADA"
                  UpdateCommit="true" DataType="Date" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ColumnName="DT_DESEJADA" PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM THEN&amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.DT_DESEJADA IS NOT NULL THEN     &amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.DT_DESEJADA &lt; SYSDATE - 1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Data Desejada deve ser maior que a data atual!&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(4686,'');&amp;#10;&#x9;  &#x9;&#x9;:ITEMCOMPRA.DT_DESEJADA := SYSDATE;&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_ESTUDOMONI" DatabaseItem="true" DirtyInfo="true" Width="100" MaximumLength="10"
                  ColumnName="CD_ESTUDOMONI" DataType="Number" Height="21"/>
            <Item Name="CD_PROJETOMONI" DatabaseItem="true" DirtyInfo="true" Width="100" MaximumLength="10"
                  ColumnName="CD_PROJETOMONI" DataType="Number" Height="21"/>
            <Item Name="NR_VERSAOMONI" DatabaseItem="true" DirtyInfo="true" Width="100" MaximumLength="10"
                  ColumnName="NR_VERSAOMONI" DataType="Number" Height="21"/>
            <Item Name="CD_ETAPAMONI" DirtyInfo="true" Width="110" MaximumLength="10" ColumnName="CD_ETAPAMONI"
                  DataType="Number" Height="21"/>
            <Item Name="ST_PROJETOMONI" DatabaseItem="false" DirtyInfo="true" Width="110" MaximumLength="1"
                  ColumnName="" DataType="Char" Height="21"/>
            <Item Name="CD_PROJETOCOMPRA" DirtyInfo="true" Width="110" MaximumLength="7" Visible="false"
                  ColumnName="CD_PROJETOCOMPRA" CopyValueFromItem="" DataType="Number" KeyboardNavigable="false"
                  Height="21"/>
            <Item Name="NR_PREITEMCOMPRA" TabPageName="" Width="120" MaximumLength="8" DataType="Number"
                  ParentModule="BIB004" XPosition="168" ParentModuleType="25" YPosition="217" DatabaseItem="false"
                  ParentName="OBRIG_ITEM_EXIB_NORM" ParentFilename="BIB004.OLB" DirtyInfo="true" CanvasName=""
                  ItemsDisplay="1" ParentType="29"/>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_AUTORIZADOR" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="7" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_BEMPAT" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="4"
                              DSCName="CD_EMPRESA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESAITEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESASOLIC" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESAUTORIZ" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="2"
                              DSCName="CD_ENDERENTREGA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="7"
                              DSCName="CD_ITEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_MOVIMENTACAO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="7" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_PROJETO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_SOLICITANTE" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="1000" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_ITEMSERVICO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="150" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_OBSERVACAO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_ALTERACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_CONSOLIDACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_DESEJADA" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_INICIO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_LIBERACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_RECORD" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_SOLICITACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="5" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="HR_RECORD" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="8"
                              DSCName="NR_ITEMCOMPRA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="8"
                              DSCName="NR_ITEMPRORIGEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="8"
                              DSCName="NR_NEGOCIACAO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="15"
                              DSCName="QT_NEGOCIADA" DSCScale="3" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="15"
                              DSCName="QT_PREVISTA" DSCScale="3" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="ST_EMISSAONF" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="2"
                              DSCName="ST_ITEMCOMPRA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="TP_ITEMCOMPRA" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="500" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_OBSCANCEL" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_CANCELAMENTO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="TP_APROVSOLIC" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <Trigger Name="POST-QUERY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="DECLARE&amp;#10;&#x9;I_CD_UNIDMED       UNIDMEDIDA.CD_UNIDMED%TYPE;&amp;#10;&#x9;I_TP_ITEM          VARCHAR2(1);&amp;#10;&#x9;V_DS_MOVIMENTACAO  VARCHAR2(60);&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT ITEM.TP_ITEM,&amp;#10;&#x9;&#x9;       ITEM.DS_ITEM,&amp;#10;&#x9;&#x9;       ITEM.CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;INTO PACK_GLOBAL.TP_ITEM,&amp;#10;&#x9;&#x9;&#x9;     :ITEMCOMPRA.DS_ITEM,&amp;#10;&#x9;&#x9;&#x9;     I_CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;FROM ITEM&amp;#10;&#x9;&#x9; WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;END;&amp;#10;  &amp;#10;&#x9;IF I_TP_ITEM = 'A' THEN&amp;#10;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO' ,ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO' ,REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;IF PACK_GLOBAL.TP_ITEM = 'S' THEN&amp;#10;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','A');&amp;#10;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMC OMPRA.DS_ITEMSERVICO' ,ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_UNDERLINE);*/&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;IF PACK_GLOBAL.TP_ITEM = 'P' THEN&amp;#10;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO' ,ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO' ,REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);&#x9;&#x9;*/&amp;#10;&#x9;END IF;&amp;#10;&#x9;IF PACK_GLOBAL.TP_ITEM = 'I' THEN&amp;#10;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCOMPRA.D S_ITEMSERVICO' ,ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRA.DS _ITEMSERVICO' ,REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRA.D S_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRA.DS _ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);&#x9;&#x9;*/&amp;#10;&#x9;END IF;            &amp;#10;  &amp;#10;  /* RBM: 09/09/2008: 19299&amp;#10;   * Alteração da forma de tratamento de solicitacoes.&amp;#10;   */&amp;#10;  IF :ITEMCOMPRA.ST_ITEMCOMPRA IN (1,3,4,5,7,9,99) THEN&amp;#10;    SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.CD_ITEM',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_NEGOCIAR');&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.DS_ITEM',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_NEGOCIAR');&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.DS_UNIDMED',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_NEGOCIAR');&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.CD_MOVIMENTACAO',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_NEGOCIAR');&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.QT_PREVISTA',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_NEGOCIAR');&amp;#10;&#x9;  &amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.CD_ITEM',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.CD_MOVIMENTACAO',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;  SET_ITEM_INSTANCE_PROPERTY('ITEMCOMPRA.QT_PREVISTA',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;  &amp;#10;&#x9;  PACK_TELA.DESABILITA_ITEM('ITEMCOMPRA.DS_OBSERVACAOEXT', CURRENT_RECORD);&amp;#10;&#x9;  PACK_TELA.DESABILITA_ITEM('ITEMCOMPRA.DS_OBSERVACAO', CURRENT_RECORD);&amp;#10;  END IF;&amp;#10;  :ITEMCOMPRA.DS_UNIDMED := I_CD_UNIDMED;&amp;#10;&#x9;&amp;#10;&#x9;--[ Descrição da Empresa ]--&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT NM_EMPRESA &amp;#10;&#x9;&#x9;  INTO :ITEMCOMPRA.NM_EMPRESA&amp;#10;&#x9;&#x9;  FROM EMPRESA&amp;#10;&#x9;&#x9; WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.NM_EMPRESA := NULL;&amp;#10;&#x9;END;&amp;#10;&#x9;--[ Descrição do Autorizador ]--&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9; INTO :ITEMCOMPRA.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;  FROM USUARIO,AUTORIZADOR&amp;#10;&#x9;&#x9; WHERE USUARIO.CD_USUARIO     = AUTORIZADOR.CD_USUARIO&amp;#10;&#x9;&#x9;   AND AUTORIZADOR.CD_USUARIO = :ITEMCOMPRA.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;   AND AUTORIZADOR.CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.NM_USUAUTORIZ := NULL;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.NM_USUAUTORIZ := NULL;&amp;#10;&#x9;END;&amp;#10;&#x9;--[ Descrição da Movimentação ]--&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT DS_MOVIMENTACAO &amp;#10;&#x9;&#x9;  INTO V_DS_MOVIMENTACAO&amp;#10;&#x9;&#x9;  FROM PARMOVIMENT&amp;#10;&#x9;&#x9; WHERE CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END;&amp;#10;  /**KRG:29/05/08:18311&amp;#10;   * Alterada a comparação :CONTROLE.TP_ITEMCOMPRA  := :ITEMCOMPRA.TP_ITEMCOMPRA&amp;#10;   * para :CONTROLE.CD_TIPOCOMPRA  := :ITEMCOMPRA.CD_TIPOCOMPRA.&amp;#10;   */&amp;#10;  :CONTROLE.ST_MUDAUTORIZADOR := 'N'; &amp;#10;&#x9;:CONTROLE.CD_AUTORIZADOR  := :ITEMCOMPRA.CD_AUTORIZADOR;&amp;#10;&#x9;:CONTROLE.DT_DESEJADA     := :ITEMCOMPRA.DT_DESEJADA;&amp;#10;&#x9;:CONTROLE.CD_TIPOCOMPRA   := :ITEMCOMPRA.CD_TIPOCOMPRA; --KRG:29/05/08:18311&amp;#10;&#x9;:CONTROLE.CD_DEPARTAMENTO := :ITEMCOMPRA.CD_DEPARTAMENTO;&amp;#10;&#x9;:CONTROLE.ST_MUDAUTORIZADOR := 'S';&amp;#10;/** WLV:16/01/2012:40906&amp;#10;  * Corrigido erro paralelo encontrado quando o usuário digitava o 'NR_LOTECOMPRA' e dava um enter,&amp;#10;  * ele preenchia apenas o 'CD_AUTORIZADOR' deixando o campo 'NM_USUAUTORIZ' em branco.&amp;#10;  */&amp;#10;&#x9;IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;INTO :CONTROLE.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;FROM USUARIO&amp;#10;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9; &#x9;  :CONTROLE.NM_USUAUTORIZ := NULL;&amp;#10;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.NM_USUAUTORIZ := NULL;&amp;#10;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;:CONTROLE.NM_USUAUTORIZ := NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;IF :CONTROLE.CD_TIPOCOMPRA IS NOT NULL THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DS_TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9; &#x9;FROM TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_TIPOCOMPRA  = :CONTROLE.CD_TIPOCOMPRA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;  FROM DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;  :CONTROLE.DS_DEPARTAMENTO := NULL;&amp;#10;&#x9;  END;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;:CONTROLE.DT_INICIO := NVL(:CONTROLE.DT_INICIO,:ITEMCOMPRA.DT_INICIO);&amp;#10;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="POST-RECORD" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="DECLARE&amp;#10;  CURSOR CUR_QT_CCUSTO IS&amp;#10;    SELECT ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL &amp;#10;      FROM ITEMCOMPRACCUSTO&amp;#10;     WHERE :ITEMCOMPRA.NR_ITEMCOMPRA = ITEMCOMPRACCUSTO.NR_ITEMCOMPRA &amp;#10;       AND :ITEMCOMPRA.CD_EMPRESA    = ITEMCOMPRACCUSTO.CD_EMPRESA;&amp;#10;BEGIN&amp;#10;  IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN      &amp;#10;    IF :ITEMCOMPRA.QT_PREVISTA = 0 THEN    &amp;#10;      :GLOBAL.QT_PEDIDA := 0;&amp;#10;      FOR I IN CUR_QT_CCUSTO LOOP&amp;#10;        :GLOBAL.QT_PEDIDA:= :GLOBAL.QT_PEDIDA+I.QT_PEDIDAUNIDSOL;&amp;#10;      END LOOP;        &amp;#10;      :ITEMCOMPRA.QT_PREVISTA := :GLOBAL.QT_PEDIDA;          &amp;#10;    END IF;&amp;#10;  END IF;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-UPDATE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="DECLARE&amp;#10;&#x9;I_DS_EVENTO         VARCHAR2(2000);             &#x9;&amp;#10;&#x9;V_QT_PREVISTA      ITEMCOMPRA.QT_PREVISTA%TYPE;&amp;#10;&#x9;V_DT_DESEJADA      ITEMCOMPRA.DT_DESEJADA%TYPE;&amp;#10;&#x9;V_DT_INICIO        ITEMCOMPRA.DT_INICIO%TYPE;  &amp;#10;&#x9;V_DS_ITEM          VARCHAR2(60);&amp;#10;&#x9;V_CD_ITEM          ITEMCOMPRA.CD_ITEM%TYPE;           &amp;#10;BEGIN&amp;#10;  BEGIN&amp;#10;&#x9;  ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  --Monta Log&amp;#10;&#x9;  ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  SELECT QT_PREVISTA,&amp;#10;&#x9;         DT_DESEJADA,&amp;#10;&#x9;         DT_INICIO,&amp;#10;&#x9;         CD_ITEM&amp;#10;&#x9;    INTO V_QT_PREVISTA,&amp;#10;&#x9;         V_DT_DESEJADA,&amp;#10;&#x9;         V_DT_INICIO,&amp;#10;&#x9;         V_CD_ITEM&amp;#10;&#x9;    FROM ITEMCOMPRA&amp;#10;&#x9;   WHERE NR_ITEMCOMPRA = :DEVOLUCAO.NR_ITEMCOMPRA&amp;#10;&#x9;     AND CD_EMPRESA    = :DEVOLUCAO.CD_EMPRESA;&amp;#10;&#x9; &amp;#10;    I_DS_EVENTO:= 'Modificado a Solicitação Número:'||:ITEMCOMPRA.NR_ITEMCOMPRA; &amp;#10;   &amp;#10;&#x9;  IF :CONTROLE.DS_OBSCANCEL IS NOT NULL THEN&amp;#10;&#x9;    I_DS_EVENTO := I_DS_EVENTO||', Motivo da Devolução do Solicitante &quot;'||:CONTROLE.DS_OBSCANCEL||'&quot; ';&amp;#10;&#x9;   &#x9;:ITEMCOMPRA.DS_OBSCANCEL:=NULL;&amp;#10;&#x9;   &#x9;:CONTROLE.DS_OBSCANCEL:=NULL;&amp;#10;&#x9;  END IF;&amp;#10;   &amp;#10;    IF V_CD_ITEM &lt;> :ITEMCOMPRA.CD_ITEM THEN&amp;#10;   &#x9;  BEGIN&amp;#10;   &#x9;    SELECT DS_ITEM &amp;#10;   &#x9;      INTO V_DS_ITEM &amp;#10;   &#x9;      FROM ITEM &amp;#10;   &#x9;     WHERE CD_ITEM=:ITEMCOMPRA.CD_ITEM; &amp;#10;     &amp;#10;      I_DS_EVENTO:=I_DS_EVENTO||', o Item '|| V_CD_ITEM ||' - '||V_DS_ITEM||' modificado  para '||:ITEMCOMPRA.CD_ITEM||' - '|| :ITEMCOMPRA.DS_ITEM;&amp;#10;     &amp;#10;      EXCEPTION&amp;#10;        WHEN NO_DATA_FOUND THEN&amp;#10;             NULL;&amp;#10;      END;&amp;#10;    END IF;&amp;#10;   &amp;#10;    IF V_QT_PREVISTA &lt;> :ITEMCOMPRA.QT_PREVISTA THEN&amp;#10;      I_DS_EVENTO:=I_DS_EVENTO||', a Quantidade '||TO_CHAR( V_QT_PREVISTA,'FM9G999G999G990D00')||' modificado para '||TO_CHAR(:ITEMCOMPRA.QT_PREVISTA,'FM9G999G999G990D00');&amp;#10;    END IF;&amp;#10;    &amp;#10;    IF V_DT_DESEJADA &lt;> :ITEMCOMPRA.DT_DESEJADA THEN&amp;#10;    &#x9; I_DS_EVENTO:=I_DS_EVENTO|| ', a Data Desejada de '||V_DT_DESEJADA||' modificada para '||:ITEMCOMPRA.DT_DESEJADA;&amp;#10;    END IF;&amp;#10;    &amp;#10;    IF V_DT_INICIO &lt;> :ITEMCOMPRA.DT_INICIO THEN&amp;#10;    &#x9; I_DS_EVENTO:=I_DS_EVENTO||', a Data de Inicio, de '||V_DT_DESEJADA||' modificado para '||:ITEMCOMPRA.DT_DESEJADA;&amp;#10;    END IF;&amp;#10;  &amp;#10;    ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  --grava log&amp;#10;&#x9;  ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;    IF I_DS_EVENTO IS NOT NULL THEN&amp;#10;      INSERT INTO LOGUSUARIO &amp;#10;            (CD_EMPRESA,&amp;#10;             CD_USUARIO,&amp;#10;             CD_MODULO,&amp;#10;             CD_PROGRAMA,&amp;#10;             DT_EVENTO,&amp;#10;             SQ_EVENTO,&amp;#10;             HR_EVENTO,&amp;#10;             DS_EVENTO,&amp;#10;             TP_EVENTO,&amp;#10;             DS_DML)&amp;#10;      VALUES&amp;#10;            (:GLOBAL.CD_EMPRESA,&amp;#10;             :GLOBAL.CD_USUARIO,&amp;#10;             :GLOBAL.CD_MODULO,&amp;#10;             :GLOBAL.CD_PROGRAMA,&amp;#10;             SYSDATE,&amp;#10;             SEQ_AUDITORIA.NEXTVAL,&amp;#10;             TO_CHAR(SYSDATE,'HH24:MI'),&amp;#10;             I_DS_EVENTO,&amp;#10;             'U',&amp;#10;             NULL);&amp;#10;    END IF;&amp;#10;  &amp;#10;    ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  ----------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;    --atualiza&amp;#10;    ---------------------------------------------------------------------------------------------------------------------&amp;#10;    UPDATE ITEMCOMPRACCUSTO &amp;#10;       SET DS_OBSCANCEL =''  &amp;#10;     WHERE NR_ITEMCOMPRA = :ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;       AND CD_EMPRESA&#x9;&#x9;= :ITEMCOMPRA.CD_EMPRESA;&amp;#10;    &amp;#10;  END;&amp;#10;   &amp;#10;EXCEPTION&amp;#10;  WHEN NO_DATA_FOUND THEN&amp;#10;    NULL;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="&#x9;DECLARE&amp;#10;&#x9;&#x9;I_CD_UNIDMED  VARCHAR2(2);&amp;#10;&#x9;&#x9;I_TP_ITEM     VARCHAR2(1); &amp;#10;&#x9;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  &#x9;&amp;#10;&#x9;  &#x9;SELECT ITEMEMPRESA.CD_ITEM &amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;  FROM ITEMEMPRESA&amp;#10;&#x9;&#x9;&#x9; WHERE ITEMEMPRESA.CD_ITEM    = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;   AND ITEMEMPRESA.CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESAITEM;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT ITEM.TP_ITEM,&#x9;&amp;#10;&#x9;&#x9;&#x9;       ITEM.DS_ITEM,&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;       ITEM.CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;  INTO I_TP_ITEM,&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;       :ITEMCOMPRA.DS_ITEM,&#x9;&amp;#10;&#x9;&#x9;&#x9;       I_CD_UNIDMED&amp;#10;&#x9;&#x9;&#x9;  FROM ITEM&amp;#10;&#x9;&#x9;&#x9; WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&#x9; &amp;#10;&amp;#10;&#x9;&#x9;&#x9;IF I_TP_ITEM = 'A' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCO MPRA.DS_ITEMSERVICO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEMSERVICO &#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO &#x9;&#x9;&#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;ELSIF I_TP_ITEM = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','A');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_UNDERLINE);&#x9;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;ELSIF I_TP_ITEM IN ('P','I') THEN&amp;#10;&#x9;&#x9;&#x9;  MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DS_ITEMSERVICO &#x9;&#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO &#x9;&#x9;&#x9;&#x9;:= NULL;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-VALIDATE-RECORD" DirtyInfo="true"
                     TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_TP_UNIDMED&#x9;&#x9;&#x9;&#x9;TIPOCALCULOPRECO.TP_UNIDMED%TYPE;&amp;#10;&#x9;V_QT_ESTOQUEFISICO  NUMBER;&amp;#10;&#x9;V_QT_SALDO&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;V_PERMITE_COMPRA&#x9;&#x9;BOOLEAN;&amp;#10;&#x9;V_QT_ESTOQUEMAX&#x9;&#x9;&#x9;PLANEJITEM.QT_ESTOQUEMAX%TYPE;&amp;#10;&#x9;V_CD_EMPRCENTRALIZ&#x9;EMPRESA.CD_EMPRESA%TYPE;&amp;#10;&#x9;V_ST_GERENCIA_QTDEMAX_ESTOQUE VARCHAR2(1);&amp;#10;&#x9;CURSOR CUR_MOVIMENTACOES IS&amp;#10;&#x9;&#x9;SELECT PARMGENERICO.VL_PARAMETRO&amp;#10;&#x9;&#x9;  FROM PARMGENERICO&amp;#10;&#x9;&#x9; WHERE PARMGENERICO.CD_MODULO&#x9;&#x9;&#x9;&#x9; = 'COM'&amp;#10;&#x9;&#x9;   AND PARMGENERICO.CD_PROGRAMA&#x9;&#x9;&#x9; = 9&amp;#10;&#x9;&#x9;   AND PARMGENERICO.CD_USUARIO&#x9;&#x9;&#x9; = 'MAX'&amp;#10;&#x9;&#x9;   AND PARMGENERICO.CD_VERSAOPARMGEN = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND PARMGENERICO.NM_PARAMETRO &#x9;&#x9; = 'CD_MOVIMENTVALIDESTOQUE';&amp;#10;&#x9;&#x9;     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                      &amp;#10;BEGIN&amp;#10;&#x9;&#x9;&#x9;V_ST_GERENCIA_QTDEMAX_ESTOQUE :=&#x9;PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;&#x9;&#x9;&#x9;                                                                      9,&amp;#10;&#x9;&#x9;&#x9;                                                                      'MAX',&amp;#10;&#x9;&#x9;&#x9;                                                                      :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                      'ST_GERENCIA_QTDEMAX_ESTOQUE');&amp;#10;&#x9;--MGK:60876:14/08/2013 - Alterado para validar o estoque máximo de acordo com a movimentação.&amp;#10;&#x9;IF (NVL(V_ST_GERENCIA_QTDEMAX_ESTOQUE,'N') = 'S') THEN&amp;#10;&#x9;&#x9;FOR I IN CUR_MOVIMENTACOES LOOP&amp;#10;&#x9;&#x9;&#x9;IF (I.VL_PARAMETRO = :ITEMCOMPRA.CD_MOVIMENTACAO) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;---------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--CAPTURA A EMPRESA CENTRALIZADORA DE COMPRAS&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;  &#x9;SELECT NVL(CD_EMPRCENTRALIZ,:GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;    INTO V_CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;    FROM PARMCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9;   WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;--Parâmetros de Compra não cadastrados para a empresa ¢CD_EMPRESA¢. Verifique o Programa COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2586,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;--Parâmetros de Compra cadastrado em duplicidade para empresa ¢CD_EMPRESA¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2587,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    --Erro ao pesquisar Parâmetros de Compra para a empresa ¢CD_EMPRESA¢. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3769,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--CAPTURA O TIPO DE UNIDADE DE MEDIDA (1 = PESO, 2 = QTDE)&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT TIPOCALCULOPRECO.TP_UNIDMED&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_TP_UNIDMED&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMEMPRESA, TIPOCALCULOPRECO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMEMPRESA.CD_TIPOCALCULO = TIPOCALCULOPRECO.CD_TIPOCALCULO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMEMPRESA.CD_EMPRESA &#x9;&#x9;= V_CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMEMPRESA.CD_ITEM &#x9;&#x9;&#x9;&#x9;= :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_TP_UNIDMED := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;   &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--CAPTURA A QTDE. MÁXIMA PLANEJADA PARA O ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT NVL(PLANEJITEM.QT_ESTOQUEMAX,0)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_QT_ESTOQUEMAX&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PLANEJITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PLANEJITEM.CD_ITEM &#x9; = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANEJITEM.CD_EMPRESA = V_CD_EMPRCENTRALIZ;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_QT_ESTOQUEMAX := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;--------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--RETORNA A QTDE EM ESTOQUE PARA O ITEM NA EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;V_QT_ESTOQUEFISICO := NVL(PACK_ESTOQUE.CONSULTA_ESTOQUE(V_CD_EMPRCENTRALIZ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;TRUNC(SYSDATE),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'F',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'QT'),0);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--CAPTURA O SALDO DOS PEDIDOS QUE AINDA NÃO FORAM RECEBIDOS PELO REC001&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT SUM(DECODE(TIPOCALCULOPRECO.TP_UNIDMED,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                  '1',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                  NVL(ITEMPEDIDOCOMPRA.PS_PEDIDO, 0) - NVL(ITEMPEDIDOCOMPRA.PS_ATENDIDO, 0),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                  '2',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                  NVL(ITEMPEDIDOCOMPRA.QT_PEDIDA, 0) - NVL(ITEMPEDIDOCOMPRA.QT_ATENDIDA, 0))) QT_SALDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_QT_SALDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMPEDIDOCOMPRA, ITEMEMPRESA, TIPOCALCULOPRECO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMPEDIDOCOMPRA.CD_EMPRESA &#x9;= ITEMEMPRESA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.CD_ITEM &#x9;&#x9;= ITEMEMPRESA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMEMPRESA.CD_TIPOCALCULO &#x9;= TIPOCALCULOPRECO.CD_TIPOCALCULO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.CD_ITEM &#x9;&#x9;= :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.CD_EMPRESA &#x9;= V_CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMPEDIDOCOMPRA.ST_ITEMPEDIDO IN (1, 2);&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_QT_SALDO := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;   &#x9;&#x9;&#x9;-------------------------------------------------&amp;#10;   &#x9;&#x9;&#x9;--SE O ITEM FOR DE PESO, CONVERTE TUDO PARA QTDE.&amp;#10;   &#x9;&#x9;&#x9;IF (NVL(V_TP_UNIDMED,'2') = '1') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_VALIDA.VAL_CALC_PESOQTDA(I_CD_EMPRESA => V_CD_EMPRCENTRALIZ,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                I_CD_ITEM &#x9; => :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                T_PS_PEDIDO  => V_QT_SALDO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                T_QT_PEDIDA  => V_QT_SALDO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                I_TIPO &#x9;&#x9;&#x9; => 'Q',&amp;#10;&#x9;&#x9;&#x9;&#x9;                                O_MENSAGEM &#x9; => V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;   &#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (NVL(V_QT_ESTOQUEMAX,0) = 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20967, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--VERIFICA SE O ITEM PODERÁ SER ADICIONADO, DE ACORDO COM A QUANTIDADE MÁXIMA E O FUTURO SALDO.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_PERMITE_COMPRA := PACK_PROCEDIMENTOS.PERMITE_COMPRA(I_QT_ESTOQUEMAX&#x9;=> NVL(V_QT_ESTOQUEMAX,0),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_QT_SALDO&#x9;&#x9;&#x9;=> NVL(V_QT_SALDO,0),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_QT_ESTOQUE&#x9;&#x9;=> NVL(V_QT_ESTOQUEFISICO,0),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_QT_PEDIDA&#x9;&#x9;&#x9;=> NVL(:ITEMCOMPRA.QT_PREVISTA,0));&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NOT (V_PERMITE_COMPRA) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF ((NVL(V_QT_ESTOQUEMAX,0) - (NVL(V_QT_ESTOQUEFISICO,0) + NVL(V_QT_SALDO,0))) &lt; 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20966, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢QT_ESTOQUE_ATUAL='||TO_CHAR(NVL(V_QT_ESTOQUEFISICO,0),'FM999G999G999G990D00')||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢QT_ESTOQUE_MAX='||TO_CHAR(NVL(V_QT_ESTOQUEMAX,0),'FM999G999G999G990D00')||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20825, '¢QT_PEDIDA='||TO_CHAR(NVL(:ITEMCOMPRA.QT_PREVISTA,0),'FM999G999G999G990D00')||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢QT_ESTOQUEMAX='||TO_CHAR(NVL(V_QT_ESTOQUEMAX,0),'FM999G999G999G990D00')||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢QT_SUGESTAO='||TO_CHAR((NVL(V_QT_ESTOQUEMAX,0) - (NVL(V_QT_ESTOQUEFISICO,0) + NVL(V_QT_SALDO,0))),'FM999G999G999G990D00')||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
        </Block>
        <Block Name="ITEMCOMPRACCUSTO" RecordsBufferedCount="0" RecordsDisplayCount="10" RecordsFetchedCount="0"
               EnforcedPrimaryKey="false" RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0"
               MaximumRecordsFetched="0" ScrollbarCanvasName="CAN_ITEMCOMPRACCUSTO" ScrollbarOrientation="Vertical"
               ScrollbarWidth="16" ScrollbarXPosition="896" PrecompSummary="false" ScrollbarYPosition="82"
               NavigationStyle="Alterar Registro" ShowScrollbar="true" ScrollbarLength="211" IncludeRefitem="false"
               EnforcedColumnSecurity="false" InsertAllowed="true" DMLReturnValue="false" SingleRecord="false"
               UpdateAllowed="true" UpdateChangedColumns="false" PersistentClientInfoLength="0"
               DMLDataName="ITEMCOMPRACCUSTO" DeleteAllowed="true" QueryDataSourceName="ITEMCOMPRACCUSTO"
               DirtyInfo="true" VisualAttributeName="DEFAULT" KeyMode="Automático" LanguageDirection="Padrão"
               DatabaseBlock="false" ScrollbarTabPageName="" QueryDataSourceType="Tabela" QueryAllowed="true"
               LockMode="Automático" QueryAllRecords="true" DMLDataType="Tabela" DMLArraySize="1">
            <Item Name="CD_EMPRCCUSTODEST" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="47" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Empresa&amp;#10;dest. custo" PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="1" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_EMPRCCUSTODEST" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE &amp;#10;&#x9;V_CD_AUTORICCUSTO  ITEMCOMPRACCUSTO.CD_AUTORIZADOR%TYPE;&amp;#10;&#x9;V_CD_AUTORICCUSTO2 ITEMCOMPRACCUSTO.CD_AUTORIZADOR%TYPE;&amp;#10;--&#x9;V_MENSAGEM VARCHAR2(32000);&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST IS NOT NULL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.NM_EMPRESADEST := PACK_VALIDATE.RETORNA_NM_EMPRESA(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN --EML:13/01/2020:139947&#x9;  &#x9; &#x9;  &#x9;&amp;#10;&#x9; &#x9;  BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;  SELECT MAX(AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR)&#x9; &#x9;&#x9;&#x9;&#x9; &#x9;   &#x9;       &#x9; &#x9;  &#x9;     &amp;#10;&#x9;&#x9;&#x9;      INTO V_CD_AUTORICCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;    FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;&#x9;&#x9;   WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO--EMLLL&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;   AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;     AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9; EXCEPTION &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;WHEN OTHERS THEN&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_CD_AUTORICCUSTO := NULL;&#x9;&#x9;&#x9; &#x9;      &#x9;&#x9; &#x9;     &#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; END;&#x9;&#x9; &#x9;  &#x9;&amp;#10;&#x9;      IF V_CD_AUTORICCUSTO IS NOT NULL THEN       &#x9;&#x9;&amp;#10;&#x9;      &#x9;IF :CONTROLE.CD_AUTORIZADOR IS NULL THEN        &#x9; &#x9;&#x9;&#x9;        &#x9;           &#x9;&#x9;&#x9; &amp;#10;&#x9;      &#x9;/*O autorizador da tela principal deve ser informado.*/&amp;#10;&#x9;          MENSAGEM_PADRAO(33735, NULL);&amp;#10;&#x9;          RAISE FORM_TRIGGER_FAILURE;&#x9;        &#x9;&#x9;&#x9; &amp;#10;&#x9;      &#x9;END IF;&amp;#10;&#x9;      &#x9;&amp;#10;      &#x9;BEGIN&#x9; &#x9;    &#x9;&amp;#10;&#x9;&#x9;      SELECT AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;    &#x9;  INTO V_CD_AUTORICCUSTO2&amp;#10;&#x9;&#x9;        FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;       WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;    AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  &#x9;&#x9;= NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.ST_REGISTRO &#x9;&#x9;= 'S';&#x9;&#x9;  &#x9; &#x9;  &amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;MENSAGEM_PADRAO(33731, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&#x9;&amp;#10;&#x9;&#x9;      &#x9;RAISE FORM_TRIGGER_FAILURE;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;    END;&#x9;&amp;#10;&#x9; &#x9;  END IF;    &amp;#10;&#x9;  END IF; --IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN &#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.NM_EMPRESADEST := NULL;&amp;#10;&#x9;END IF;&#x9;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-NEW-ITEM-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  :ITEMCOMPRACCUSTO.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;  :ITEMCOMPRACCUSTO.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;  :ITEMCOMPRACCUSTO.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;  :ITEMCOMPRACCUSTO.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;  :ITEMCOMPRACCUSTO.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_CENTROCUSTO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="113" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Centro Custo"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="1"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-NEW-ITEM-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  :ITEMCOMPRACCUSTO.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;  :ITEMCOMPRACCUSTO.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;  :ITEMCOMPRACCUSTO.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;  :ITEMCOMPRACCUSTO.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;  :ITEMCOMPRACCUSTO.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="/**FZA:15/02/2011:33648&amp;#10;*** Ajustado tratamento de erros, as validacoes estavam aparecendo mais de uma vez.&amp;#10;**/&amp;#10;DECLARE&amp;#10;&#x9;V_ST_VALIDACCUSTO  PARMCOMPRA.ST_VALIDACCUSTO%TYPE;&amp;#10;&#x9;V_CD_AUTORIZADOR   CCUSTOAUTORIZ.CD_USUARIO%TYPE;&amp;#10;&#x9;V_CD_USUARIO       CCUSTOAUTORIZ.CD_USUARIO%TYPE;&amp;#10;&#x9;V_ST_ATIVO&#x9;&#x9;&#x9;&#x9; RESTRINGIRMOV.ST_ATIVO%TYPE;    &amp;#10;&#x9;V_CD_MOVIMENTACAO&#x9; NUMBER;&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; EXCEPTION;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9; VARCHAR2(2000);&amp;#10;--&#x9;V_CD_EMPRESA       AUTORIZCCUSTORESTRITO.CD_EMPRESA%TYPE;&amp;#10;&#x9;V_CD_AUTORICCUSTO  AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;--&#x9;V_CD_AUTORICCUSTO3 AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;&#x9;V_CD_AUTORICCUSTO2 AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;--&#x9;V_CD_CENTROCUSTO   AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO%TYPE;&amp;#10;--&#x9;V_ST_REGISTRO      AUTORIZCCUSTORESTRITO.ST_REGISTRO%TYPE;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;  IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;--FJC:05/07/2018:121701&amp;#10;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CC_USUARIO'),'N') = 'S'  THEN&#x9;  &amp;#10;     &#x9;BEGIN&amp;#10;&#x9;    &#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;  INTO V_CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;  FROM CENTROCUSTO, CCUSTOAUTORIZ&amp;#10;&#x9;&#x9; &#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO    = CCUSTOAUTORIZ.CD_CENTROCUSTO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_USUARIO      = :GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND NVL(CENTROCUSTO.ST_CENTROCUSTO, 'A') = 'A';&#x9;&#x9;    &#x9;&amp;#10;&#x9;    EXCEPTION&amp;#10;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&#x9;      &#x9;&amp;#10;&#x9;      &#x9;--O Usuário ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9; &#x9;&#x9;  MENSAGEM_PADRAO(3771,'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9; &#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9; &#x9; &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;  V_CD_USUARIO := NULL;&amp;#10;&#x9;   &#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;   &#x9; &#x9;&#x9;--Ocorreu um erro inesperado na busca dos dados do usuário autorizador. Erro: ¢SQLERRM¢.&amp;#10;&#x9;   &#x9;&#x9;&#x9;MENSAGEM_PADRAO(3958,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;   &#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;      END;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;  &amp;#10;&#x9;  DECLARE&amp;#10;&#x9;&#x9;  V_ST_CENTROCUSTO&#x9;CENTROCUSTO.ST_CENTROCUSTO%TYPE;&amp;#10;&#x9;&#x9;  E_GERAL EXCEPTION;&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/**GRA:13783:27/12/2006&amp;#10;&#x9;&#x9;&#x9; * O PROCEDIMENTO ABAIXO VERIFICA SE O CENTRO DE&amp;#10;&#x9;&#x9;&#x9; * CUSTO ESTÁ CADASTRADO PARA A EMPRESA INFORMADA.&amp;#10;&#x9;&#x9;&#x9; */ &amp;#10;&#x9;&#x9;&#x9;PACK_VALIDA.VAL_CCUSTOEMPR(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRACCUSTO.CD_EMPRESA),--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.DS_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_MENSAGEM); &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9; /* CSL:22264:30/06/09 - As duas consultas foram substituidas por uma.*/&amp;#10;&#x9;&#x9;/*SELECT CENTROCUSTO.ST_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  FROM CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;SELECT CENTROCUSTO.DS_CENTROCUSTO ,CENTROCUSTO.ST_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.DS_CENTROCUSTO,V_ST_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  FROM CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;*/&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT ST_CENTROCUSTO, DS_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_CENTROCUSTO, :ITEMCOMPRACCUSTO.DS_CENTROCUSTO &amp;#10;&#x9;&#x9;&#x9;  FROM CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;&amp;#10;&#x9;&#x9;&#x9; IF NVL(V_ST_CENTROCUSTO,'A') = 'I' THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;--O centro de custo ¢CD_CENTROCUSTO¢ encontra-se inativo e não pode ser usado. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1509,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;:ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  --O Centro de Custo ¢CD_CENTROCUSTO¢ não está cadastrado. Verifique o programa TCB007.&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(254,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9;  MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&#x9; &#x9;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;--Ocorreu um erro inesperado ao consultar os dados do centro de custo ¢CD_CENTROCUSTO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;  &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(999,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢SQLERREM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&#x9; &#x9;&amp;#10;&#x9;&#x9;END;&amp;#10; &amp;#10; -----------------------------------------------------------------------------------------------------------------&amp;#10; --VALIDA CENTRO DE CUSTO&amp;#10; -----------------------------------------------------------------------------------------------------------------&amp;#10;&#x9; IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;  DECLARE&amp;#10;&#x9;  &#x9;E_GERAL  EXCEPTION;&amp;#10;&#x9;  BEGIN &#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT NVL(ST_VALIDACCUSTO,'N')&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_VALIDACCUSTO&amp;#10;&#x9;&#x9;  &#x9;FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9; &#x9;   /* CSL:22264:30/06/09 - COMPARAÇÃO INADEQUADA */&amp;#10;&#x9; &#x9;   --IF V_ST_VALIDACCUSTO = 'S' THEN&amp;#10;&#x9; &#x9;   IF V_ST_VALIDACCUSTO = 'C' THEN&#x9;&#x9;    &amp;#10;&#x9;     &#x9;BEGIN&amp;#10;&#x9;&#x9;    &#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  INTO V_CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  FROM CCUSTOAUTORIZ&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9; WHERE CCUSTOAUTORIZ.CD_USUARIO      = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;         AND CCUSTOAUTORIZ.TP_AUTORIZADOR  IN ('A','S','T');&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;      &#x9;--O Usuário ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3771,'¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR ||' - '||:CONTROLE.NM_USUAUTORIZ||&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9; &#x9; &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9; :ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;   &#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;   &#x9; &#x9;&#x9;--Ocorreu um erro inesperado na busca dos dados do usuário autorizador. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3958,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;      END;&amp;#10;&#x9; &#x9;   END IF;&amp;#10; &amp;#10;&#x9; &#x9;  IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN --EML:13/01/2020:139947&#x9;  &#x9; &#x9;  &#x9;&amp;#10;&#x9; &#x9;  &#x9;&#x9;BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;  SELECT MAX(AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR)&#x9; &#x9;&#x9;&#x9;&#x9; &#x9;   &#x9;       &#x9; &#x9;  &#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    INTO V_CD_AUTORICCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;   AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9; &#x9;  EXCEPTION &amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;      V_CD_AUTORICCUSTO := NULL;&#x9;&#x9;&#x9; &#x9;      &#x9;&#x9; &#x9;     &#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9; &#x9;  END;&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;&#x9; &#x9; &#x9; &#x9;   &amp;#10;        IF V_CD_AUTORICCUSTO IS NOT NULL THEN       &#x9;&#x9;&amp;#10;        &#x9;IF :CONTROLE.CD_AUTORIZADOR IS NULL THEN        &#x9; &#x9;&#x9;&#x9;        &#x9;           &#x9;&#x9;&#x9; &amp;#10;        &#x9;/*O autorizador da tela principal deve ser informado.*/&amp;#10;            V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33735, NULL);&amp;#10;            RAISE E_GERAL;        &#x9;&#x9;&#x9; &amp;#10;        &#x9;END IF;&amp;#10;        &#x9;&amp;#10;        &#x9;BEGIN&#x9; &#x9;    &#x9;&amp;#10;&#x9;&#x9; &#x9;      SELECT AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9; &#x9;    &#x9;  INTO V_CD_AUTORICCUSTO2&amp;#10;&#x9;&#x9;          FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;         WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  &#x9;&#x9;= NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.ST_REGISTRO &#x9;&#x9;= 'S';&#x9;&#x9;&#x9;  &#x9; &#x9;  &amp;#10;&#x9;&#x9; &#x9;    EXCEPTION&amp;#10;&#x9;&#x9; &#x9;    &#x9;WHEN NO_DATA_FOUND THEN&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;  &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33731, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&#x9;&amp;#10;&#x9;&#x9;&#x9;      &#x9;RAISE E_GERAL;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9; &#x9;    END;&#x9;&amp;#10;&#x9; &#x9;    END IF;    &amp;#10;&#x9;   &#x9;END IF; --IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN &#x9;  &amp;#10;&#x9;  EXCEPTION &#x9;   &amp;#10;&#x9;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&#x9; &#x9;&amp;#10;&#x9;&#x9; &#x9;WHEN NO_DATA_FOUND THEN &amp;#10;&#x9;&#x9; &#x9;&#x9;NULL;&#x9;&amp;#10;&#x9; &#x9;  /* CSL:22264:30/06/09&amp;#10;&#x9;&#x9;&#x9; * Tratamentos de exceção &amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9; &#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys','A consulta retornou mais de uma empresa para esta condição.',1);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;MENSAGEM('Maxys','Erro inesperado: '||SQLERRM,1);&amp;#10;&#x9;&#x9;  &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END;&#x9;&amp;#10;&#x9; END IF; --IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&#x9;&amp;#10;&#x9; &amp;#10;&#x9;&#x9;/**CSL:21/12/2010:30317&amp;#10;&#x9;&#x9; * Adicionado campo cd_negocio para permitir ou não que o usuário altere o negócio para o qual &amp;#10;&#x9;&#x9; * vai ser destinado o valor do centro de custo, de acordo com o status do parametro ST_NEGOCIOCCUSTO (N - Negado, S - Permitido) do CTI010.&amp;#10;&#x9;&#x9; */&#x9;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;IF(&#x9;NVL(:ITEMCOMPRACCUSTO.CD_NEGOCIOCENTRO,0) = 0) AND NVL(:ITEMCOMPRACCUSTO.ST_NEGOCIOPLANILHA,'N')  = 'N' THEN &amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT CENTROCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NEGOCIO.DS_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; :ITEMCOMPRACCUSTO.DS_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM CENTROCUSTO, NEGOCIO&amp;#10;&#x9;&#x9;&#x9;   WHERE CENTROCUSTO.CD_NEGOCIO     = NEGOCIO.CD_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CENTROCUSTO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('CTI',10,'MAX',100,'ST_NEGOCIOCCUSTO'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');  &amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');  &amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(5243,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');--Nenhum negócio associado ao centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(6306,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');--Existe mais de um negócio associado ao centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(6307,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢SQLERRM='||SQLERRM||'¢');--Ocorreu um erro inesperado ao tentar localizar o código de negócio associado ao Centro de Custo ¢CD_CENTROCUSTO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9; END IF;&amp;#10;&#x9; &amp;#10;&#x9;  IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_CONTA_ORCAMENTO('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&amp;#10;  ELSE &amp;#10;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO := NULL;&amp;#10;  END IF;&amp;#10;&amp;#10;-----------------------------------------------------------------------------------------------------------------&amp;#10;--VALIDA SE A MOVIMENTAÇÃO POSSUI RESTRIÇÃO PARA O CENTRO DE CUSTO (TCB053)&amp;#10;--AUG:122414:24/05/2018&amp;#10;-----------------------------------------------------------------------------------------------------------------&#x9;&#x9;  &amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO  IS NOT NULL THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*RETORNO: S = POSSUI RESTRIÇÃO&amp;#10;&#x9;&#x9;&#x9; *&#x9;&#x9;&#x9;&#x9;&#x9;N = NÃO POSSUI RESTRIÇÃO CADASTRADA NO TCB053 TABELA **RESTRINGIRMOV** &amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO := :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO  IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_MOVIMENTACAO  &#x9;&#x9; IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO&#x9;:= :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;&#x9;&#x9; &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;--A movimentação ¢CD_MOVIMENTACAO¢ possui restrição para o centro de custo ¢CD_CENTROCUSTO¢. Verifique o programa TCB053.&amp;#10;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(31068, '¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='|| :ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;END;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="--RYT:06/06/2012:45340&amp;#10;DECLARE&amp;#10;  V_ST_VALIDAUTCCUSTOCOM001 VARCHAR2(1);&amp;#10;BEGIN&amp;#10;    &amp;#10;    V_ST_VALIDAUTCCUSTOCOM001 := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;                                                                     9,&amp;#10;                                                                     :GLOBAL.CD_USUARIO,&amp;#10;                                                                     NVL(:CONTROLE.CD_EMPRESA, :GLOBAL.CD_EMPRESA),&amp;#10;                                                                     'ST_VALIDAUTCCUSTOCOM001'),'N');  &amp;#10;                                                                 &amp;#10;    -- VALIDAÇÕES    &amp;#10;    IF V_ST_VALIDAUTCCUSTOCOM001 = 'A' THEN&amp;#10;      IF :ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NULL OR (:ITEMCOMPRACCUSTO.CD_AUTORIZADOR &lt;> :CONTROLE.CD_AUTORIZADOR) THEN&amp;#10;        SET_ALERT_PROPERTY('MENSAGEM_MUDAR',ALERT_MESSAGE_TEXT,'Pressione (Continuar) para incluir manualmente o Autorizador. Para mudar o Autorizador para o mesmo da Compra pressione (Mudar).');&amp;#10;        IF NOT SHOW_ALERT('MENSAGEM_MUDAR') = 88 THEN&amp;#10;          :ITEMCOMPRACCUSTO.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&amp;#10;          &amp;#10;          IF PACK_GLOBAL.ST_APROVSOLIC = 'S' AND NVL (PACK_GLOBAL.ST_VALIDACCUSTO,'N') IN ('C','A') &amp;#10;          &#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRESAUTORIZ := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/**GRA:09/03/2007:15399&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; * Inclusa a validação para não deixar passar&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; * se não autorizador para o centro de custo informado.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NULL) THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  --MENSAGEM('Maxys', 'O autorizador do centro de custo deve ser informado',2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO,USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.CD_AUTORIZADOR,:ITEMCOMPRACCUSTO.NM_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM CCUSTOAUTORIZ,USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO            = CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND USUARIO.CD_USUARIO            = :ITEMCOMPRACCUSTO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = :ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.TP_AUTORIZADOR IN ('A','T');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O Usuário/Autorizador ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(3771,'¢CD_USUARIO='||:ITEMCOMPRACCUSTO.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRACCUSTO.CD_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRACCUSTO.NM_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF SHOW_LOV('LOV_AUTORIZADOR') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys',SQLERRM,1);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;        &#x9;END IF;&amp;#10;        &amp;#10;        END IF;  &amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;      GO_ITEM('ITEMCOMPRACCUSTO.CD_NEGOCIO');                                                                      &amp;#10;END;"/>
                <Trigger Name="KEY-LISTVAL" DirtyInfo="true"
                         TriggerText="BEGIN&#x9;&amp;#10;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CC_USUARIO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NOT SHOW_LOV('LOV_CENTROCUSTOUSUARIO') THEN&amp;#10;&#x9;    NULL;&amp;#10;&#x9;  END IF;&amp;#10;  ELSIF SHOW_LOV('LOV_CENTROCUSTO') THEN&amp;#10;&#x9;  &amp;#10;&#x9;  NULL;&amp;#10;  END IF;&amp;#10;  &amp;#10;END;"/>
            </Item>
            <Item Name="DS_CENTROCUSTO" Justification="Iniciar" Width="175" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="179" YPosition="83" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do Centro de Custo" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="2"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_NEGOCIO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="355" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Negócio" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="1" PromptAlign="Iniciar" PromptAlignOffset="9"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_NEGOCIO" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="/**CSL:21/12/2010:30317*/&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;SELECT DS_NEGOCIO&amp;#10;&#x9;    INTO :ITEMCOMPRACCUSTO.DS_NEGOCIO&amp;#10;&#x9;    FROM NEGOCIO&amp;#10;&#x9;   WHERE NEGOCIO.CD_NEGOCIO = :ITEMCOMPRACCUSTO.CD_NEGOCIO;&#x9;   &amp;#10;&#x9;  IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_CONTA_ORCAMENTO('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;  END IF; &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_NEGOCIO := NULL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(147,'¢CD_NEGOCIO='||:ITEMCOMPRACCUSTO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ não está cadastrado. Verifique o programa TCB001.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(148,'¢CD_NEGOCIO='||:ITEMCOMPRACCUSTO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ está cadastrado várias vezes. Verifique o programa TCB001.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(149,'¢CD_NEGOCIO='||:ITEMCOMPRACCUSTO.CD_NEGOCIO||'¢SQLERRM='||SQLERRM||'¢');--Ocorreu um erro inesperado ao consultar os dados do código de Negócio ¢CD_NEGOCIO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_NEGOCIO" Width="270" WrapStyle="Palavra" AutoSkip="false" XPosition="113" YPosition="316"
                  DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" Prompt="Negócio" PromptReadingOrder="Padrão"
                  PromptJustification="Direita" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="2"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="421" YPosition="83" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Movimentação" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Cód. Mov."
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="1"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" Hint="Código da Movimentação" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_PARMOVIMENT" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0"
                         DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true"
                         TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_TP_PEDIDO    PARMOVIMENT.TP_PEDIDO%TYPE; --PHS:60051:11/07/2013&amp;#10;&#x9;I_CD_NATUREZA  PLANOCONTABIL.CD_NATUREZA%TYPE;&amp;#10;&#x9;I_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;I_RETORNO    &#x9; VARCHAR2(01);&amp;#10;&#x9;V_ST_ATIVO&#x9;&#x9; RESTRINGIRMOV.ST_ATIVO%TYPE;&amp;#10;&#x9;E_GERAL        EXCEPTION;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;IF PACK_GLOBAL.TP_SELECAOCONTA = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*MVP:72940:02/07/2014 - Alterado para voltar a mensagem padrão da função VALIDA_SELECAOCONTA quando for 'CO'*/&amp;#10;        I_MENSAGEM := VALIDA_SELECAOCONTA (NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:CONTROLE.CD_EMPRESA),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, &amp;#10;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NULL, 'CO');&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (I_MENSAGEM IS NOT NULL) AND (I_MENSAGEM &lt;> 'S') THEN&amp;#10;&#x9;      &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/* CSL:02/12/2013:64869&amp;#10;&#x9;&#x9;&#x9; * Alterado para chamar o procedimento VALIDA_CONTABIL_PLANO para não permitir realizar lançamentos em contas, &amp;#10;&#x9;&#x9;&#x9; * que não pertencem a versão do plano de contas da empresa do lançamento.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;PACK_VALIDA.VALIDA_CONTABIL_PLANO(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, NULL, TRUNC(SYSDATE), NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:GLOBAL.CD_EMPRESA), I_MENSAGEM);&amp;#10;  &#x9;&amp;#10;&#x9;  &#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABIL.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT,HISTCONTB,PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO    = :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC';&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABILVERSAO.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO           = :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         &#x9;&#x9;&#x9; = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_CONTACONTABIL  = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.TP_CONTACONTABIL  = 'CC'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:ITEMCOMPRA.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE));&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Movimentação ¢CD_MOVIMENTACAO¢ não cadastrada, não é de compra ou não é de Centro de Custo. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3775,'¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;IF V_TP_PEDIDO &lt;> PACK_GLOBAL.TP_PEDIDO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A movimentação ¢CD_MOVIMENTACAO¢ possui o tipo de pedido ¢TP_PEDIDO¢ diferente do tipo de pedido ¢TP_CADPEDIDO¢ cadastrado para o programa. Verificar os programas TCB008 e ANV008.&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(20737,'¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢TP_PEDIDO='||V_TP_PEDIDO||'¢TP_CADPEDIDO='||PACK_GLOBAL.TP_PEDIDO||'¢'); &amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*CLM:22/08/2014:76468 &amp;#10;&#x9;&#x9;&#x9;IF NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO) &lt;> I_CD_NATUREZA THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ não é compatível com o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3776,'¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;*/&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;I_RETORNO := RETORNA_NATUREZA (:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO,:GLOBAL.CD_EMPRESA); /*CSL:03/10/2013:62738*/&amp;#10;&#x9;&#x9;&#x9;IF I_RETORNO = 'I' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A natureza do Centro de Custo ¢CD_CENTROCUSTO¢ é incompatível com a natureza da Movimentação ¢CD_MOVIMENTACAO¢. Verifique TCB007 e TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20318, '¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_CONTA_ORCAMENTO('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END IF;&amp;#10;-----------------------------------------------------------------------------------------------------------------&amp;#10;--VALIDA SE A MOVIMENTAÇÃO POSSUI RESTRIÇÃO PARA O CENTRO DE CUSTO (TCB053)&amp;#10;--AUG:122414:24/05/2018&amp;#10;-----------------------------------------------------------------------------------------------------------------&#x9;&#x9;  &amp;#10;&#x9;&#x9;  IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9; /*RETORNO: S = POSSUI RESTRIÇÃO&amp;#10;&#x9;&#x9;&#x9;  *&#x9;&#x9;&#x9;&#x9;&#x9;N = NÃO POSSUI RESTRIÇÃO CADASTRADA NO TCB053 TABELA **RESTRINGIRMOV** &amp;#10;&#x9;&#x9;&#x9;  */&amp;#10;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;  &#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;  IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(31068, '¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='|| :ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-LISTVAL" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN &amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENT',GROUP_NAME, 'LOV_PARMOVIMENT1');&#x9; &amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'X') IN ('O','S') &amp;#10;&#x9;&#x9;&#x9;  AND SHOW_LOV('LOV_PARMOVIMENT') THEN&amp;#10;&#x9;&#x9;  NULL; &amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9; &#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENT',GROUP_NAME, 'LOV_PARMOVIMENT');&amp;#10;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9; &#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'S')= 'S' &amp;#10;&#x9;&#x9; &#x9;   AND SHOW_LOV('LOV_PARMOVIMENT') THEN&amp;#10;&#x9;&#x9;       NULL;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;ELSE--IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENTVERSAO',GROUP_NAME, 'LOV_PARMOVIMENT1VERSAO');&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'X') IN ('O','S') &amp;#10;&#x9;&#x9;&#x9;  AND SHOW_LOV('LOV_PARMOVIMENTVERSAO') THEN&amp;#10;&#x9;&#x9;  NULL; &amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9; &#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENTVERSAO',GROUP_NAME, 'LOV_PARMOVIMENTVERSAO');&amp;#10;&#x9;&#x9; &#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'S')= 'S' &amp;#10;&#x9;&#x9; &#x9;   AND SHOW_LOV('LOV_PARMOVIMENTVERSAO') THEN&amp;#10;&#x9;&#x9;       NULL;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;--IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="PRE-TEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO := :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_MOVIMENTACAO" Width="175" WrapStyle="Palavra" AutoSkip="false" XPosition="487" YPosition="83"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição da Movimentação" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_AUTORIZADOR" Justification="Centralizado" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="663" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Autorizador" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Autorizador"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="1"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" Hint="Código do Autorizador" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_AUTORIZADOR" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-NEW-ITEM-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0"
                         Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="&amp;#10;BEGIN&amp;#10;&#x9;&#x9;IF PACK_GLOBAL.ST_APROVSOLIC = 'S' AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL) AND (:ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NULL)&amp;#10;&#x9;&#x9;&#x9;&#x9;AND (:ITEMCOMPRA.CD_AUTORIZADOR IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO,USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.CD_AUTORIZADOR,:ITEMCOMPRACCUSTO.NM_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM CCUSTOAUTORIZ,USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO            = CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND USUARIO.CD_USUARIO            = :ITEMCOMPRA.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = :ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.TP_AUTORIZADOR IN ('A','T');&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;IF SHOW_LOV('LOV_AUTORIZADOR') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="/*DECLARE&#x9;&amp;#10;&#x9;--I_MENSAGEM  VARCHAR2(2000);&amp;#10;&#x9;--E_GERAL     EXCEPTION;*/&amp;#10;--DECLARE &amp;#10;--&#x9;V_MENSAGEM VARCHAR2(32000);&amp;#10;--&#x9;V_CD_AUTORICCUSTO ITEMCOMPRACCUSTO.CD_AUTORIZADOR%TYPE;&#x9;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;/**RSS:21/12/2007:17745&amp;#10;&#x9; * FOI ALTERADA A O IF DA VALIDAÇÃO, POIS A MANEIRA QUE ESTAVA NAO ATENDIA A VALIDAÇÃO &amp;#10;&#x9; * NA QUAL FOI REQUISITADA, OU SEJA, NAO ACONTECIA A VALIDAÇÃO QUANDO ERA NECESSÁRIA.&amp;#10;&#x9; */&amp;#10;&#x9;:ITEMCOMPRACCUSTO.CD_SOLICITANTE   := :GLOBAL.CD_USUARIO;&amp;#10;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRESA       := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRESASOLIC  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&amp;#10;&#x9;IF PACK_GLOBAL.ST_APROVSOLIC = 'S' AND NVL (PACK_GLOBAL.ST_VALIDACCUSTO,'N') IN ('C','A') &amp;#10;&#x9;&#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRESAUTORIZ := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;/**GRA:09/03/2007:15399&amp;#10;&#x9; * Inclusa a validação para não deixar passar&amp;#10;&#x9; * se não autorizador para o centro de custo informado.&amp;#10;&#x9; */&amp;#10;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NULL) THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;&#x9;  --MENSAGEM('Maxys', 'O autorizador do centro de custo deve ser informado',2);&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO,USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.CD_AUTORIZADOR,:ITEMCOMPRACCUSTO.NM_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM CCUSTOAUTORIZ,USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO            = CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND USUARIO.CD_USUARIO            = :ITEMCOMPRACCUSTO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = :ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.TP_AUTORIZADOR IN ('A','T');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O Usuário/Autorizador ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(3771,'¢CD_USUARIO='||:ITEMCOMPRACCUSTO.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRACCUSTO.CD_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRACCUSTO.NM_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF SHOW_LOV('LOV_AUTORIZADOR') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys',SQLERRM,1);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;   IF PACK_GLOBAL.TP_ITEM = 'S' THEN&amp;#10;      --:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL:=0;&amp;#10;      SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO', ENABLED, PROPERTY_TRUE);      &amp;#10;      SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO', NAVIGABLE, PROPERTY_TRUE);&amp;#10;      GO_ITEM('ITEMCOMPRACCUSTO.PC_PARTICIPACAO');    &amp;#10;   ELSE&amp;#10;      NEXT_ITEM;&amp;#10;   END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="NM_AUTORIZADOR" Width="262" WrapStyle="Palavra" AutoSkip="false" XPosition="456" YPosition="294"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Nome do Autorizador" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Autorizador"
                  PromptReadingOrder="Padrão" PromptJustification="Esquerda" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="2" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ShowVerticalScrollbar="false"/>
            <Item Name="NM_EMPRESADEST" Width="270" WrapStyle="Palavra" AutoSkip="false" XPosition="113" YPosition="294"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Nome do Autorizador" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Empresa"
                  PromptReadingOrder="Padrão" PromptJustification="Esquerda" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="2" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ShowVerticalScrollbar="false"/>
            <Item Name="QT_PEDIDAUNIDSOL" Justification="Final" Width="94" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="730" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Quantidade do Centro de Custo" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Quantidade"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="1"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G990D00"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21"
                  Hint="Quantidade do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="17"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NOT NULL THEN  &#x9;&#x9; &amp;#10;  &#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL  THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&#x9;&amp;#10;       --A movimentação deve ser informada.&amp;#10;       MENSAGEM_PADRAO(298,'');&amp;#10;       GO_ITEM('ITEMCOMPRACCUSTO.CD_MOVIMENTACAO');&amp;#10;    ELSIF:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL THEN&amp;#10;     &#x9; SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;     &#x9; --O centro de custo deve ser informado.&amp;#10;     &#x9; MENSAGEM_PADRAO(292,'');&amp;#10;     &#x9; GO_ITEM('ITEMCOMPRACCUSTO.CD_CENTROCUSTO');&amp;#10;    ELSE&#x9; &amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL &lt; 0 THEN--AUG:126984:29/10/2018&amp;#10;&#x9;  &#x9;&#x9;--O Peso ou Quantidade do item do pedido não pode ser negativo.&amp;#10;&#x9;  &#x9;&#x9;MENSAGEM_PADRAO(3282, NULL);&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  &#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF (:CONTROLE.LST_AUTOSUGESTAO = 2) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;&#x9;        SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;        SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;       &#x9;GO_ITEM('ITEMCOMPRACCUSTO.BTN_OK');&amp;#10;&#x9;&#x9;&#x9;  ELSE &amp;#10;&#x9;      &#x9;IF GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED) = 'TRUE' THEN&amp;#10;&#x9;        &#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;     &#x9;&#x9;END IF;&amp;#10;&#x9;     &#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;     &#x9;&#x9;GO_ITEM('ITEMCOMPRACCUSTO.CD_CENTROCUSTO');&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;NEXT_ITEM;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;  ELSE&amp;#10;  &#x9;NEXT_ITEM;&#x9;  &#x9;&amp;#10;  END IF; &#x9;  &amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN   &amp;#10;&#x9;&amp;#10;&#x9;IF :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL'  AND :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;DECLARE&amp;#10;&#x9;&#x9;&#x9;V_ST_UNIDMEDIDA UNIDMEDIDA.ST_UNIDMEDIDA%TYPE;&amp;#10;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;SELECT UNIDMEDIDA.ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;  FROM ITEM, UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9; WHERE UNIDMEDIDA.CD_UNIDMED = ITEM.CD_UNIDMED &amp;#10;&#x9;&#x9;&#x9;   AND ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;IF ( V_ST_UNIDMEDIDA = 'U' AND (:CONTROLE.LST_AUTOSUGESTAO IN (1,3)) ) THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NOT NULL) AND (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL &lt;> 0) THEN&amp;#10;&#x9;&#x9;  :ITEMCOMPRACCUSTO.PC_PARTICIPACAO := :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL * (100 / ZVL(:ITEMCOMPRACCUSTO.QT_PREVISTA, 1));&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;&amp;#10;    IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL,2) > ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA,2)THEN&amp;#10;    &#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL - (ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL,2) - ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA,2));&amp;#10;&#x9;  END IF;&amp;#10;  &#x9;&amp;#10;  &#x9;IF :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL &lt; 0 THEN--AUG:126984:29/10/2018&amp;#10;  &#x9;&#x9;--O Peso ou Quantidade do item do pedido não pode ser negativo.&amp;#10;  &#x9;&#x9;MENSAGEM_PADRAO(3282, NULL);&amp;#10;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;  &#x9;END IF;&amp;#10;  &#x9;&amp;#10;  &#x9;IF (:CONTROLE.LST_AUTOSUGESTAO IN (2,3)) THEN&amp;#10;&#x9;    IF (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NOT NULL) AND (:ITEMCOMPRACCUSTO.PC_PARTICIPACAO IS NULL) THEN&amp;#10;&#x9;    &#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO := ROUND(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL * 100 /&amp;#10;&#x9;      &#x9;                                         :ITEMCOMPRACCUSTO.QT_PREVISTA,3);&amp;#10;&#x9;                                              &amp;#10;&#x9;      IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;&#x9;         SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;         SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;      ELSE &amp;#10;&#x9;        IF (GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED) = 'TRUE') THEN&amp;#10;&#x9;          SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;      &#x9;END IF;&amp;#10;&#x9;      END IF;&#x9;      &amp;#10;&#x9;      &amp;#10;&#x9;      /* DCS:19/12/2013:67379 &amp;#10;&#x9;       * faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade d&amp;#10;&#x9;       * o centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;       */&amp;#10;&#x9;      IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) AND&amp;#10;&#x9;      &#x9; NVL(:ITEMCOMPRACCUSTO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;      &#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO := :ITEMCOMPRACCUSTO.PC_PARTICIPACAO - (:ITEMCOMPRACCUSTO.PC_TOTAL - 100);&amp;#10;&#x9;      END IF;&amp;#10;&#x9;      &amp;#10;&#x9;    ELSIF (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NOT NULL) AND (:ITEMCOMPRACCUSTO.PC_PARTICIPACAO IS NOT NULL) THEN&amp;#10;&#x9;    &#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO := ROUND(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL * 100 /&amp;#10;&#x9;                                                 :ITEMCOMPRACCUSTO.QT_PREVISTA,3);&amp;#10;&#x9;      &amp;#10;&#x9;      /* DCS:19/12/2013:67379 &amp;#10;&#x9;       * faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade do&amp;#10;&#x9;       * centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;       */&amp;#10;&#x9;      IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) AND&amp;#10;&#x9;      &#x9; NVL(:ITEMCOMPRACCUSTO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;      &#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO := :ITEMCOMPRACCUSTO.PC_PARTICIPACAO - (:ITEMCOMPRACCUSTO.PC_TOTAL - 100);&amp;#10;&#x9;      END IF;&#x9;      &amp;#10;&#x9;      &amp;#10;&#x9;    ELSIF (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NULL) THEN&amp;#10;&#x9;    &#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.PC_PARTICIPACAO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;    END IF;&amp;#10;  &#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="POST-TEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;   IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) &lt; ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;   ELSIF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) > ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;   &#x9;&#x9;--A soma dos valores lançados em Centro de Custo ¢VL_CCUSTO¢ para o item ¢CD_ITEM¢ deve corresponder ao valor lançados no pedido ¢VL_TOTITEM¢.&amp;#10;      MENSAGEM_PADRAO(4526,'¢VL_CCUSTO=' ||ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL)||&amp;#10;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_ITEM='   ||:ITEMCOMPRACCUSTO.CD_ITEM||&amp;#10;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢VL_TOTITEM='||ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA)||'¢');&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;   ELSIF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;   END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="ON-ERROR" DirtyInfo="true"
                         TriggerText="BEGIN&#x9;&amp;#10;&#x9;IF (ERROR_TYPE = 'FRM') AND (ERROR_CODE = 40209) THEN&amp;#10;&#x9;&#x9;MENSAGEM('','Os caracteres válidos são 0-9 - e +.',4);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;VALIDA_ERROS;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Item Name="PC_PARTICIPACAO" Justification="Final" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="825" YPosition="83" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Percentual de Participação" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="% Partic."
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="1"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G990D000&quot;%&quot;" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="10" Height="21" Hint="Percentual de Participação" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_TEXTO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;E_SAIDA&#x9;&#x9;  EXCEPTION;&amp;#10;BEGIN&amp;#10;  IF :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRACCUSTO.PC_PARTICIPACAO' AND (:ITEMCOMPRACCUSTO.PC_PARTICIPACAO IS NOT NULL) THEN&amp;#10;  &#x9;IF (NVL(:ITEMCOMPRACCUSTO.PC_PARTICIPACAO,0) &lt;= 0) THEN&amp;#10;  &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20921, NULL);&amp;#10;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;  &#x9;END IF;&amp;#10;  &#x9;&amp;#10;  &#x9;/* ASF:19/02/2020:140506&amp;#10;  &#x9; * Se estiver selecionado a opção &quot;Considerar apenas %&quot; no drop down &quot;Opções de auto-sugestão&quot;&amp;#10;  &#x9; * nenhuma validação, ou inserção de valor será feita para a Quantidade do rateio do Centro de Custo&amp;#10;  &#x9; */&amp;#10;&#x9;&#x9;IF (:CONTROLE.LST_AUTOSUGESTAO = 5) THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_SAIDA;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;  &#x9;IF (:CONTROLE.LST_AUTOSUGESTAO IN (1,3)) THEN   &#x9;&amp;#10;    &#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA * :ITEMCOMPRACCUSTO.PC_PARTICIPACAO / 100 ,3);&amp;#10;  &#x9;END IF;&amp;#10;&amp;#10;  &#x9;--RAN:07/01/2019:126984&amp;#10;   &#x9;IF :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRACCUSTO.PC_PARTICIPACAO' THEN&amp;#10;&#x9;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.PC_PARTICIPACAO IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.PC_PARTICIPACAO &lt;> 0  THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA * :ITEMCOMPRACCUSTO.PC_PARTICIPACAO / 100 ,3);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(((:ITEMCOMPRACCUSTO.QT_PREVISTA / ZVL(:ITEMCOMPRACCUSTO.COUNT_ITEMCOMPRA,1)) * :ITEMCOMPRACCUSTO.PC_PARTICIPACAO) / 100,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--SYNCHRONIZE; &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;IF NVL(PACK_GLOBAL.TP_ITEM,'N') &lt;> 'S'  THEN&amp;#10;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9;DECLARE&amp;#10;&#x9;&#x9;&#x9;  V_ST_UNIDMEDIDA UNIDMEDIDA.ST_UNIDMEDIDA%TYPE;&amp;#10;&#x9;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT UNIDMEDIDA.ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM ITEM, UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE UNIDMEDIDA.CD_UNIDMED = ITEM.CD_UNIDMED &amp;#10;&#x9;&#x9;&#x9;&#x9;   AND ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;IF ( V_ST_UNIDMEDIDA = 'U' ) AND (:CONTROLE.LST_AUTOSUGESTAO IN (1,3))  THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO  := ROUND(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL * 100 / :ITEMCOMPRACCUSTO.QT_PREVISTA,3);&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;                                              &amp;#10;&#x9; &#x9;ELSIF  GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED) = 'TRUE' THEN&amp;#10;&#x9;    SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9; &#x9;END IF;&amp;#10;&amp;#10;&#x9; &#x9;/* DCS:19/12/2013:67379 &amp;#10;&#x9;&#x9; * faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade d&amp;#10;&#x9;&#x9; * o centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;&#x9; */&amp;#10;&#x9; &#x9;IF (:CONTROLE.LST_AUTOSUGESTAO IN (1,3)) THEN &amp;#10;&#x9;   &#x9;IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL) = ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) AND&amp;#10;&#x9;      NVL(:ITEMCOMPRACCUSTO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;      :ITEMCOMPRACCUSTO.PC_PARTICIPACAO := :ITEMCOMPRACCUSTO.PC_PARTICIPACAO - (:ITEMCOMPRACCUSTO.PC_TOTAL - 100);&amp;#10;&#x9;    END IF;&amp;#10;&#x9; &#x9;END IF;&amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN E_SAIDA THEN&amp;#10;&#x9;  NULL;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="POST-TEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN &amp;#10;  IF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) &lt; 100 THEN&amp;#10;    IF GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED) = 'TRUE' THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;    END IF;&amp;#10;  ELSIF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) > 100 THEN&amp;#10; &#x9;&#x9;--A soma do percentual de participação dos centros de custos deve ser igual a 100%.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(4740,'');   &#x9;&amp;#10;    :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := NULL;&amp;#10;    :ITEMCOMPRACCUSTO.PC_PARTICIPACAO  := NULL;&amp;#10;    IF GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED) = 'TRUE' THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;    END IF;&amp;#10;   &amp;#10;  ELSIF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) = 100 THEN&amp;#10;    IF GET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED) = 'FALSE' THEN&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;    END IF;&amp;#10;  END IF;&amp;#10;  IF ROUND(:ITEMCOMPRACCUSTO.PC_PARTICIPACAO,3) = 100 AND (:CONTROLE.LST_AUTOSUGESTAO &lt;> 5) THEN&amp;#10; &#x9;  :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := :ITEMCOMPRACCUSTO.QT_PREVISTA;&amp;#10;  END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  VALIDATE(ITEM_SCOPE);&amp;#10;  IF FORM_SUCCESS THEN&amp;#10;&#x9;  IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL  THEN&amp;#10;&#x9;     SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&#x9;&amp;#10;&#x9;     --A movimentação deve ser informada.&amp;#10;&#x9;     MENSAGEM_PADRAO(298,'');&amp;#10;&#x9;     GO_ITEM('ITEMCOMPRACCUSTO.CD_MOVIMENTACAO');&amp;#10;&#x9;  ELSIF:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL THEN&amp;#10;&#x9; &#x9;   SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;   &#x9; --O centro de custo deve ser informado.&amp;#10;&#x9;   &#x9; MENSAGEM_PADRAO(292,'');&amp;#10;&#x9; &#x9;   GO_ITEM('ITEMCOMPRACCUSTO.CD_CENTROCUSTO');&amp;#10;&#x9;  ELSE&amp;#10;&#x9;&#x9;&#x9;IF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) &lt; 100 THEN&amp;#10;&#x9;&#x9; &#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9; &#x9;  --GDG:01/08/2011:28715&amp;#10;&#x9;&#x9; &#x9;  IF GET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) = 'VSA_CAMPOTEXTO' THEN&amp;#10;&#x9;&#x9; &#x9;  &#x9;GO_ITEM('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST');&amp;#10;&#x9;&#x9; &#x9;  ELSE&amp;#10;&#x9;&#x9; &#x9;    GO_ITEM('ITEMCOMPRACCUSTO.CD_CENTROCUSTO');&amp;#10;&#x9;&#x9; &#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;ELSIF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) = 100 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRACCUSTO.BTN_OK');&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;  &amp;#10;&#x9;&#x9;END IF;&#x9;&#x9; &amp;#10;&#x9;ELSE   &#x9;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;END;&amp;#10;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="ON-ERROR" DirtyInfo="true"
                         TriggerText="BEGIN&#x9;&amp;#10;&#x9;IF (ERROR_TYPE = 'FRM') AND (ERROR_CODE = 40209) THEN&amp;#10;&#x9;&#x9;MENSAGEM('','Os caracteres válidos são 0-9 - e +.',4);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;VALIDA_ERROS;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Item Name="DS_OBSERVACAO" Justification="Esquerda" Width="505" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="113" YPosition="338" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Complemento" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="4" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="49" Hint="" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="150" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="true" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="DEFAULT" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="BTN_OK" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="859" YPosition="407" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;OK" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;E_GERAL &#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;E_ALERTA&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;V_ST_EXIBEMSG&#x9;&#x9;BOOLEAN DEFAULT FALSE;--MGK:61460:30/07/2013&amp;#10;&#x9;V_ALERT&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;--MGK:61460:30/07/2013&amp;#10;&#x9;COUNT_NULL &#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;COUNT_NOT_NULL &#x9;NUMBER;&amp;#10;&#x9;COUNT_GERAL&#x9;&#x9;&#x9;NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;GO_ITEM('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL');&amp;#10;&#x9;--GDG:01/08/2011:28715&#x9;&amp;#10;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;VALIDATE(RECORD_SCOPE);&amp;#10;&#x9;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF (NVL(:ITEMCOMPRACCUSTO.QT_TOTAL,0) > 0) THEN&amp;#10;&#x9;  IF ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL)&lt;> ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA) THEN&amp;#10;&#x9;&#x9;&#x9;--A  Quantidade tolal prevista para o centro de custo ¢QT_PREVISTA¢ é diferente do total rateado  ¢QT_TOTAL¢.&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;  MENSAGEM_PADRAO(32776, '¢QT_PREVISTA='||ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA)||'¢QT_TOTAL='||ROUND(:ITEMCOMPRACCUSTO.QT_TOTAL)||'¢');&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9; &#x9;END IF;&amp;#10;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;IF ROUND(:ITEMCOMPRACCUSTO.PC_TOTAL,2) = 100 THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL AND :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL /*AND :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NULL*/ THEN&#x9;&#x9; &amp;#10;&#x9;&#x9; DELETE_RECORD;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;--VERIFICA SE A MOVIMENTAÇÃO E O CENTRO DE CUSTO ESTÃO PREENCHIDOS--&amp;#10;&#x9;&#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;COUNT_NULL&#x9;&#x9;&#x9;:= 0;&amp;#10;&#x9;&#x9;COUNT_NOT_NULL &#x9;:= 0;&amp;#10;&#x9;&#x9;COUNT_GERAL &#x9;&#x9;:= 0;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;  LOOP&amp;#10;&#x9;  &#x9;--RAN:126984:07/01/2019&#x9;&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;COUNT_NOT_NULL := COUNT_NOT_NULL+1;&amp;#10;&#x9;&#x9;&#x9;ELSIF :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;COUNT_NULL := COUNT_NULL+1;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;&amp;#10;&#x9;  &#x9;COUNT_GERAL := COUNT_GERAL+1;&amp;#10;&#x9;  &#x9; &amp;#10;&#x9;  &#x9;/**RSS:21/12/2007:17745&amp;#10;&#x9;  &#x9; * Condição para validação do centro de custo, assim como determinado no COM009. &amp;#10;&#x9;  &#x9; */&amp;#10;&#x9;  &#x9; /*ATR:115974:26/12/2017*/&amp;#10;  &#x9; &amp;#10;&#x9; &#x9; IF PACK_GLOBAL.ST_APROVSOLIC = 'S' AND NVL(PACK_GLOBAL.ST_VALIDACCUSTO,'N') IN ('C','A') AND&amp;#10;&#x9;&#x9; &#x9;&#x9;(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL) AND &amp;#10;&#x9;&#x9;&#x9;  (:ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NULL) AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;  --O autorizador do centro de custo deve ser informado.&amp;#10;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(4739,'');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;&amp;#10;&#x9;    IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL OR :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL THEN&amp;#10;&#x9;&#x9;    SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;    END IF;&amp;#10;&#x9;    &amp;#10;&#x9;    IF (:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NULL) THEN&amp;#10;&#x9;    &#x9;V_ST_EXIBEMSG := TRUE;&amp;#10;&#x9;    END IF;&amp;#10;&#x9;    &amp;#10;&#x9;  &#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;  &amp;#10;&#x9;  IF ZVL(COUNT_NULL, COUNT_GERAL) &lt;> COUNT_GERAL OR &amp;#10;&#x9;  &#x9; ZVL(COUNT_NOT_NULL, COUNT_GERAL) &lt;> COUNT_GERAL THEN&amp;#10;  &#x9;&#x9;MENSAGEM_PADRAO(32001, NULL);&amp;#10;&amp;#10;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;  &#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;  /* RBM: 05/09/2008&amp;#10;&#x9;   * Incluida validação para que não insira no bloco ITECOMPRACCUSTO centros de custos repetido.&amp;#10;&#x9;   */&amp;#10;&#x9;   /**CSL:30317:22/12/2010&amp;#10;&#x9;    * Esta validação foi alterada para verificar o código do centro de custos e o código do negócio, pois&amp;#10;&#x9;    * apartir desta versão será permitido inserir mais de um registro com o mesmo centro de custos, porém &amp;#10;&#x9;    * o código do negócio deve ser diferente.&amp;#10;&#x9;    */&amp;#10;&#x9;  VALIDA_DUPLICADOS(V_MENSAGEM);&amp;#10;&#x9;  &amp;#10;&#x9;  IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  &amp;#10;&#x9;  ADICIONA_GRUPO;&amp;#10;&#x9;  GO_ITEM('ITEMCOMPRA.DS_OBSERVACAO');&amp;#10;&#x9;ELSE&amp;#10; &#x9;&#x9;--A soma do percentual de participação dos centros de custos deve ser igual a 100%.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(4740,'');   &#x9;&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL');&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*ASF:19/02/2020:140506*/&amp;#10;&#x9;--MGK:61460:30/07/2013&amp;#10;&#x9;IF (V_ST_EXIBEMSG) AND (:CONTROLE.LST_AUTOSUGESTAO &lt;> 5) THEN&amp;#10;&#x9;&#x9;V_ALERT := SHOW_ALERT('ALR_QTDENULA');&amp;#10;&#x9;&#x9;IF (V_ALERT = ALERT_BUTTON1) THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;ELSIF (V_ALERT = ALERT_BUTTON2) THEN &amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20836, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_ALERTA;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_ALERTA THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BT_CANCELAR" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="737" YPosition="407" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;Cancelar" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;  CLEAR_BLOCK (NO_VALIDATE);&amp;#10;&#x9;--:ITEMCOMPRA.QT_PREVISTA := 0;&#x9;&amp;#10;&#x9;PACK_GRUPO.DELETA_GRUPO_CC(:ITEMCOMPRACCUSTO.CD_ITEM);&amp;#10;&#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="QT_TOTAL" Justification="Final" Width="94" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="730" YPosition="294" DatabaseItem="false" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Soma das Quantidades"
                  CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G990D000" SummaryFunction="Soma" SummaryItemName="QT_PEDIDAUNIDSOL"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  SummaryBlockName="ITEMCOMPRACCUSTO" UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false"
                  ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB"
                  CalculateMode="Resumo" ShowVerticalScrollbar="false"/>
            <Item Name="PC_TOTAL" Justification="Final" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="825" YPosition="294" DatabaseItem="false" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Soma dos Percentuais de Participação"
                  CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G990D000&quot;%&quot;" SummaryFunction="Soma" SummaryItemName="PC_PARTICIPACAO"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  SummaryBlockName="ITEMCOMPRACCUSTO" UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false"
                  ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB"
                  CalculateMode="Resumo" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="62" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="122" YPosition="34" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Item" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Item" PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="6" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Width="358" WrapStyle="Palavra" AutoSkip="false" XPosition="185" YPosition="34"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do Item" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DS_UNIDMED" Width="86" WrapStyle="Palavra" AutoSkip="false" XPosition="788" YPosition="34"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Unidade de Medida do Item" CanvasName="CAN_ITEMCOMPRACCUSTO" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="QT_PREVISTA" Justification="Direita" Width="95" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="692" YPosition="34" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Quantidade a Solicitar" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Quantidade Total" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G999D000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMCOMPRA" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Nr Itemcompra" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="true" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESA" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresa" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="true" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESAUTORIZ" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresautoriz" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="true" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESASOLIC" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresasolic" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="true" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_SOLICITANTE" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Solicitante" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  InitializeValue=":GLOBAL.CD_USUARIO" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="ST_ITEMCOMPRA" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="19" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="2" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DT_LIBERACAO" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="false" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Atualizacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="ST_LIBERADO" Justification="Iniciar" Width="12" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="St Liberado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DT_RECORD" Justification="Iniciar" Width="67" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="HR_RECORD" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Hr Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_CONTAORCAMENTO" Width="110" MaximumLength="8" ColumnName="CD_CONTAORCAMENTO"
                  DataType="Number" Height="21"/>
            <Item Name="DS_CAMINHO" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  Width="386" MaximumLength="3200" WrapStyle="Palavra" AutoSkip="false" CompressionQuality="Mínimo"
                  XPosition="112" YPosition="408" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" MouseNavigate="true" CanvasName="CAN_ITEMCOMPRACCUSTO" MultiLine="false"
                  CaseInsensitiveQuery="false" KeyboardNavigable="true" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" Prompt="Importação de Planilha" PromptReadingOrder="Padrão"
                  PromptJustification="Direita" PromptAttachmentEdge="Superior" PromptAlign="Iniciar"
                  OleActionStyle="Clique Duplo" TreeAllowEmpBranch="false" OleInsideOutSupport="true"
                  TreeMultiSelect="false" OleInPlaceAction="true" TreeShowLines="true" OleResizStyle="Escala"
                  TreeShowSymbol="true" ImageFormat="TIFF" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  ImageDepth="Original" OleTenantTypeType="Qualquer um" PrimaryKey="false" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  QueryAllowed="true" Visible="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior"
                  ReadingOrder="Padrão" EditXPosition="0" EditYPosition="0" Enabled="true" DistanceBetweenRecords="0"
                  FillPattern="" FixedLength="false" Rendered="true" Required="false" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" ConcealData="false" SizingStyle="Recortar" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" ShowPlay="true" Compress="Automático"
                  ShowRecord="false" SoundQuality="Automático" Iconic="false" ShowRewind="false" ShowFastForward="false"
                  ShowVolume="true" ShowTime="true" CommMode="Síncrono" KeyboardState="Qualquer um" InsertAllowed="true"
                  ShowSlider="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" KeepCursorPosition="false"
                  CalculateMode="Nenhum" LockRecord="false" ShowVerticalScrollbar="false"/>
            <Item Name="BTN_IMPORTAR" Justification="Iniciar" Width="119" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="533" YPosition="405" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRACCUSTO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontName="MS Sans Serif" FontSize="1000" FontStyle="Simples"
                  FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="25" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Tecla" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" Label="&amp;Importar" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM VARCHAR2(32000);&amp;#10;BEGIN&amp;#10;&#x9;IF(:ITEMCOMPRACCUSTO.DS_CAMINHO IS NOT NULL)THEN&#x9;&amp;#10;&#x9;&#x9;IMPORTA_ARQUIVO(V_MENSAGEM);&amp;#10;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;--&#x9;É necessário informar o caminho do arquivo para importar os dados.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(4140, NULL);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;END IF;&#x9;&#x9;&amp;#10;END;&amp;#10;&amp;#10;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_NEGOCIOCENTRO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="113" YPosition="83" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName=""
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Centro Custo" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="1" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="ST_NEGOCIOPLANILHA" Justification="Iniciar" Width="12" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="St Liberado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="false"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800"
                  FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="19" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" InitializeValue="N" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="1"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="0" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="8"
                              DSCName="NR_ITEMCOMPRA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="4"
                              DSCName="CD_EMPRESA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="10"
                              DSCName="CD_CENTROCUSTO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="4"
                              DSCName="CD_EMPRESAUTORIZ" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_AUTORIZADOR" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="4"
                              DSCName="CD_EMPRESASOLIC" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_SOLICITANTE" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="15"
                              DSCName="QT_PEDIDAUNIDSOL" DSCScale="6" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="ST_ITEMVALIDO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="8"
                              DSCName="PC_PARTICIPACAO" DSCScale="6" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_MOVIMENTACAO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_ATUALIZACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="ST_LIBERADO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_RECORD" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="5" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="HR_RECORD" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <Trigger Name="KEY-DELREC" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;&#x9;DELETE_RECORD;&amp;#10;END;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="POST-QUERY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="&amp;#10;NULL;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-BLOCK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_ITEMCOMPRACCUSTO');"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="KEY-UP" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL OR :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL THEN&amp;#10;&#x9;DELETE_RECORD;&amp;#10;END IF;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0"
                     DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição" FireInQuery="true"
                     TriggerStyle="PL/SQL"
                     TriggerText="--GDG:22/07/2011:28715 Habilita ou desabilita o campo CD_EMPRCCUSTODEST na tela&amp;#10;BEGIN&amp;#10;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_EMPRESADESTCUSTO'), 'N') = 'S' THEN&amp;#10;&#x9;  IF GET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) =  'VSA_CAMPOEXIBICAO' THEN&#x9;&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , VISUAL_ATTRIBUTE, 'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , INSERT_ALLOWED, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , UPDATE_ALLOWED, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , NAVIGABLE, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) =  'VSA_CAMPOTEXTO' THEN&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , INSERT_ALLOWED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , UPDATE_ALLOWED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , NAVIGABLE, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;:CONTROLE.LST_AUTOSUGESTAO := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO(:GLOBAL.CD_MODULO, :GLOBAL.CD_PROGRAMA, 'MAX', :GLOBAL.CD_EMPRESA, 'ST_AUTOSUGESTAO'),2);&amp;#10;&#x9;&amp;#10;&#x9;:CONTROLE.CD_LAYOUT := PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_LAYOUT');&amp;#10;&#x9;&amp;#10;&#x9;/*&amp;#10;&#x9;IF(NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CENTROCUSTO'), 'N') = 'S'&amp;#10;&#x9;&#x9; AND PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'CD_LAYOUT')&#x9;IS NOT NULL)THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAMINHOITEM',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.DS_CAMINHO',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAMINHOITEM',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',ENABLED,PROPERTY_TRUE);&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE  &amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAMINHOITEM',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.DS_CAMINHO',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.BTN_CAMINHOITEM',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_IMPORTAR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;*/&amp;#10;&#x9;IF (NVL(:ITEMCOMPRACCUSTO.PC_TOTAL,0) = 100) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF (:ITEMCOMPRACCUSTO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRACCUSTO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*ASF:19/02/2020:140506*/&amp;#10;&#x9;IF (:CONTROLE.LST_AUTOSUGESTAO = 5) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" DirtyInfo="true"
                     TriggerText="--RYT:06/06/2012:45340&amp;#10;DECLARE&amp;#10;&#x9;V_ST_VALIDAUTCCUSTOCOM001 VARCHAR2(1);&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONTROLE.CD_EMPRESA IS NOT NULL THEN&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;V_ST_VALIDAUTCCUSTOCOM001 := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;&#x9;                                                                     9,&amp;#10;&#x9;                                                                     :GLOBAL.CD_USUARIO,&amp;#10;&#x9;                                                                     NVL(:CONTROLE.CD_EMPRESA, :GLOBAL.CD_EMPRESA),&amp;#10;&#x9;                                                                     'ST_VALIDAUTCCUSTOCOM001'),'N');&#x9;                                                                    &amp;#10;&#x9;&#x9;-- VALIDAÇÕES&amp;#10;&#x9;&#x9;IF V_ST_VALIDAUTCCUSTOCOM001 = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(1545, '¢NM_CAMPO='||'Empresa'||'¢');&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            <Trigger Name="WHEN-VALIDATE-RECORD" DirtyInfo="true"
                     TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;IF (:ITEMCOMPRACCUSTO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRACCUSTO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;IF (:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(15177, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF&#x9;(:ITEMCOMPRACCUSTO.CD_NEGOCIO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20689, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF&#x9;(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(10928, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF&#x9;(:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL IS NULL) AND (:ITEMCOMPRACCUSTO.PC_PARTICIPACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20920, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF (NVL(:ITEMCOMPRACCUSTO.PC_TOTAL,0) = 100) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;IF (:ITEMCOMPRACCUSTO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRACCUSTO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;  MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
        </Block>
        <Block Name="ULTIMASCOMPRAS" RecordsBufferedCount="0" RecordsDisplayCount="10" RecordsFetchedCount="0"
               EnforcedPrimaryKey="false" RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0"
               MaximumRecordsFetched="0" ScrollbarCanvasName="CAN_ULTIMASCOMPRAS" ScrollbarOrientation="Vertical"
               ScrollbarWidth="16" ScrollbarXPosition="892" PrecompSummary="false" ScrollbarYPosition="85"
               NavigationStyle="Mesmo Registro" ShowScrollbar="true" ScrollbarLength="211" IncludeRefitem="false"
               EnforcedColumnSecurity="false" InsertAllowed="true" DMLReturnValue="false" SingleRecord="false"
               UpdateAllowed="true" UpdateChangedColumns="false" PersistentClientInfoLength="0" DeleteAllowed="true"
               DirtyInfo="true" VisualAttributeName="DEFAULT" KeyMode="Automático" LanguageDirection="Padrão"
               DatabaseBlock="false" ScrollbarTabPageName="" QueryDataSourceType="Tabela" QueryAllowed="true"
               LockMode="Automático" QueryAllRecords="false" DMLDataType="Tabela" DMLArraySize="1">
            <Item Name="CD_ITEM" Justification="Centralizado" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="54" YPosition="28" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Item"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="6" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  Rendered="true" Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar"
                  ShowPlay="true" ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true"
                  ShowTime="true" PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" CalculateMode="Nenhum"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Width="391" WrapStyle="Palavra" AutoSkip="false" XPosition="125" YPosition="28"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="BTN_FECHAR" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="873" YPosition="342" DatabaseItem="true" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;Fechar" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_CLIFOR" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="153" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Fornecedor"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="NM_CLIFOR" Width="250" WrapStyle="Palavra" AutoSkip="false" XPosition="219" YPosition="86"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="PS_ATENDIDO" Justification="Final" Width="93" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="470" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Peso"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G999G990D000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="QT_ATENDIDA" Justification="Final" Width="93" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="564" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Quantidade"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G999G990"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="VL_UNITITEM" Justification="Final" Width="93" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="658" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Valor Unit."
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G999G990D0000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="VL_TOTITEM" Justification="Final" Width="93" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="752" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Valor Total"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G999G990D00"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="NR_NFEMPR" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="87" YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Nota"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DT_EMISSAO" Justification="Centralizado" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="16" YPosition="86" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Data"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Date" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="PC_IPI" Justification="Final" Width="45" WrapStyle="Palavra" AutoSkip="false" XPosition="846"
                  YPosition="86" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CanvasName="CAN_ULTIMASCOMPRAS" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="IPI %"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM990D00"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Trigger Name="PRE-BLOCK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_ULTIMASCOMPRAS');"
                     DisplayInKeyboardHelp="false"/>
        </Block>
        <Block Name="ITEMCOMPRA_AUX" RecordsBufferedCount="0" RecordsDisplayCount="1" RecordsFetchedCount="0"
               EnforcedPrimaryKey="false" RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0"
               MaximumRecordsFetched="0" ScrollbarCanvasName="CAN_VLESTIMADO" ScrollbarOrientation="Vertical"
               ScrollbarWidth="18" ScrollbarXPosition="0" PrecompSummary="false" ScrollbarYPosition="0"
               NavigationStyle="Mesmo Registro" ShowScrollbar="false" ScrollbarLength="180" IncludeRefitem="false"
               EnforcedColumnSecurity="false" InsertAllowed="true" DMLReturnValue="false" SingleRecord="false"
               UpdateAllowed="true" UpdateChangedColumns="false" DeleteAllowed="true" DirtyInfo="true"
               VisualAttributeName="DEFAULT" KeyMode="Automático" LanguageDirection="Padrão" DatabaseBlock="false"
               ScrollbarTabPageName="" QueryDataSourceType="Tabela" QueryAllowed="true" LockMode="Automático"
               QueryAllRecords="false" DMLDataType="Tabela" DMLArraySize="1">
            <Item Name="VL_ESTIMADO_AUX" Justification="Final" Width="100" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="263" YPosition="41" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_VLESTIMADO" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="999G999G990D0000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="21" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" CalculateMode="Nenhum"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRA_AUX.VL_ESTIMADO_AUX IS NULL THEN&amp;#10;&#x9;&#x9;--Informe um valor estimado para compra por unidade do item.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(4741,'');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;END IF;&amp;#10;&#x9;:ITEMCOMPRA.VL_ESTIMADO := :ITEMCOMPRA_AUX.VL_ESTIMADO_AUX;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BTN_VOLTAR" Justification="Iniciar" Width="102" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="261" YPosition="68" DatabaseItem="true" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_VLESTIMADO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontName="MS Sans Serif" FontSize="1000" FontStyle="Simples"
                  FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Tecla" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" Label="OK" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="30"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRA_AUX.VL_ESTIMADO_AUX IS NULL THEN&amp;#10;&#x9;&#x9;--Informe um valor estimado para compra por unidade do item.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(4741,'');&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRA_AUX.VL_ESTIMADO_AUX');&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;&#x9;&#x9;EXECUTE_TRIGGER('KEY-NEXT-ITEM');&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
        </Block>
        <Block Name="DEVOLUCAO" RecordsBufferedCount="0" RecordsDisplayCount="10" RecordsFetchedCount="0"
               WhereClause="ST_ITEMCOMPRA IN (11,2) AND CD_SOLICITANTE=:GLOBAL.CD_USUARIO" EnforcedPrimaryKey="false"
               RecordOrientation="Vertical" ReverseDirection="false" MaximumQueryTime="0" MaximumRecordsFetched="0"
               ScrollbarCanvasName="CAN_SEL" ScrollbarOrientation="Vertical" ScrollbarWidth="16"
               ScrollbarXPosition="832" PrecompSummary="false" ScrollbarYPosition="43" NavigationStyle="Mesmo Registro"
               ShowScrollbar="true" ScrollbarLength="211" IncludeRefitem="false" EnforcedColumnSecurity="false"
               InsertAllowed="false" DMLReturnValue="false" SingleRecord="false" UpdateAllowed="true"
               OrderByClause="ST_ITEMCOMPRA, NR_ITEMCOMPRA" UpdateChangedColumns="false" PersistentClientInfoLength="0"
               DMLDataName="ITEMCOMPRA" DeleteAllowed="false" QueryDataSourceName="ITEMCOMPRA" DirtyInfo="true"
               VisualAttributeName="DEFAULT" KeyMode="Atualizável" LanguageDirection="Padrão" DatabaseBlock="true"
               ScrollbarTabPageName="" QueryDataSourceType="Tabela" QueryAllowed="true" LockMode="Demorado"
               QueryAllRecords="false" DMLDataType="Tabela" DMLArraySize="1">
            <Item Name="NR_LOTECOMPRA" Justification="Iniciar" Width="90" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="800" FontStyle="Simples"
                  FontWeight="Médio" FontSpacing="Normal" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="18" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="8" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="NR_LOTECOMPRA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_BEMPAT" Justification="Iniciar" Width="48" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Bempat" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="7" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_BEMPAT"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESAITEM" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresaitem" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESAITEM"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESASOLIC" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresasolic" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESASOLIC"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESAUTORIZ" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Empresautoriz" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_EMPRESAUTORIZ"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ENDERENTREGA" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Enderentrega" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_ENDERENTREGA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_PROJETO" Justification="Iniciar" Width="48" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Projeto" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="7" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_PROJETO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_SOLICITANTE" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Solicitante" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_SOLICITANTE"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEMSERVICO" Justification="Iniciar" Width="366" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Ds Itemservico" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="1000" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DS_ITEMSERVICO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_ALTERACAO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Alteracao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_ALTERACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_CONSOLIDACAO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Consolidacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_CONSOLIDACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_LIBERACAO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Liberacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_LIBERACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_RECORD" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_RECORD"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_SOLICITACAO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Solicitacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_SOLICITACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="HR_RECORD" Justification="Iniciar" Width="36" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Hr Record" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="HR_RECORD"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMPRORIGEM" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Nr Itemprorigem" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="NR_ITEMPRORIGEM"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="NR_NEGOCIACAO" Justification="Iniciar" Width="60" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Nr Negociacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="9" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="NR_NEGOCIACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="QT_NEGOCIADA" Justification="Iniciar" Width="108" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Qt Negociada" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="17" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="QT_NEGOCIADA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="ST_EMISSAONF" Justification="Iniciar" Width="12" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="St Emissaonf" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="ST_EMISSAONF"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="ST_ITEMCOMPRA" Justification="Iniciar" Width="69" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="322" YPosition="37" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" Prompt="St Itemcompra"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="1" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" PromptForegroundColor="r0g25b50"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif"
                  FontSize="800" FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="800"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" ColumnName="ST_ITEMCOMPRA"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_STATUS" Width="180" WrapStyle="Palavra" AutoSkip="false" XPosition="419" YPosition="43"
                  DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_SEL" CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29"
                  CheckBoxOtherValues="Marcado" Prompt="Status" PromptReadingOrder="Padrão"
                  PromptJustification="Centralizado" PromptAttachmentOffset="2" PromptAlign="Iniciar"
                  PromptAlignOffset="66" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="32000" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="OBRIG_ITEM_EXIB_GRID"
                  ParentFilename="BIB004.OLB" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ColumnName="DECODE(ST_ITEMCOMPRA,11,'Devolvido p/ Solicitante',2,'Recusado',ST_ITEMCOMPRA) DS_STATUS"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DT_CANCELAMENTO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Cancelamento" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_CANCELAMENTO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="TP_APROVSOLIC" Justification="Iniciar" Width="12" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Tp Aprovsolic" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="1" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="TP_APROVSOLIC"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="NR_ITEMCOMPRA" Justification="Centralizado" Width="67" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Número da Solicitação" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Solicitação" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="9"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="true"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  PromptFontStyle="Simples" CalculateMode="Nenhum" PromptFontWeight="Semiclaro"
                  PromptFontSpacing="Normal" ColumnName="NR_ITEMCOMPRA" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRESA" Justification="Centralizado" Width="59" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="93" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Empresa" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Empresa" PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="true"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ColumnName="CD_EMPRESA" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="59" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="153" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Item" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Item" PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ColumnName="CD_ITEM" ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Width="205" WrapStyle="Palavra" AutoSkip="false" XPosition="213" YPosition="43"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do Item" CanvasName="CAN_SEL" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  ParentType="29" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="2" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_ITEM" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="59" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="600" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Movimentação" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Mov." PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ColumnName="CD_MOVIMENTACAO" ShowVerticalScrollbar="false"/>
            <Item Name="NM_USUAUTORIZ" Width="231" WrapStyle="Palavra" AutoSkip="false" XPosition="600" YPosition="254"
                  DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Nome Autorizador" CanvasName="CAN_SEL" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Autorizador" PromptReadingOrder="Padrão"
                  PromptJustification="Esquerda" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_NORMAL"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="QT_PREVISTA" Justification="Final" Width="88" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="660" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Quantidade" CanvasName="CAN_SEL" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Quantidade "
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Final" PromptAlignOffset="11" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G990D000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="17" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ColumnName="QT_PREVISTA"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DT_DESEJADA" Justification="Centralizado" Width="82" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="749" YPosition="43" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Data Desejada" CanvasName="CAN_SEL" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Data Desejada"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Date" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ColumnName="DT_DESEJADA" ShowVerticalScrollbar="false"/>
            <Item Name="CD_AUTORIZADOR" Justification="Iniciar" Width="24" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Cd Autorizador" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="CD_AUTORIZADOR"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_OBSERVACAO" Justification="Iniciar" Width="366" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="0" YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Ds Observacao" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="150" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DS_OBSERVACAO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DT_INICIO" Justification="Iniciar" Width="66" WrapStyle="Palavra" AutoSkip="false" XPosition="0"
                  YPosition="0" DatabaseItem="true" Bevel="Diminuído" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Dt Inicio" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PersistentClientInfoLength="0" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="18" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Date" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="DEFAULT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="0"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="DEFAULT" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" ColumnName="DT_INICIO"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="DS_OBSCANCEL" Justification="Iniciar" Width="360" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="215" YPosition="239" DatabaseItem="true" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CaseInsensitiveQuery="false"
                  CaseRestriction="Superior" CheckBoxOtherValues="Marcado" Prompt="Ds Obscancel"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="68" PromptAlign="Centralizado" PromptAlignOffset="1"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" PersistentClientInfoLength="0"
                  PromptForegroundColor="r0g25b50" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontName="MS Sans Serif" FontSize="800" FontStyle="Simples" FontWeight="Semiclaro"
                  FontSpacing="Normal" ForegroundColor="black" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="1" Height="60" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="500" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="true" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="800" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  ColumnName="DS_OBSCANCEL" PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="BT_FECHAR" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray20" XPosition="815" YPosition="368" DatabaseItem="true" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_SEL"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" PersistentClientInfoLength="0" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="Fechar" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9; --:CONTROLE.NR_ITEMCOMPRA:=:DEVOLUCAO.NR_ITEMCOMPRA;&amp;#10;&#x9; :CONTROLE.NR_LOTECOMPRA:= :DEVOLUCAO.NR_LOTECOMPRA;&amp;#10;&#x9; HIDE_WINDOW('WIN_SEL');&amp;#10;&#x9; --GO_BLOCK('CONTROLE');&amp;#10;&#x9; GO_ITEM('CONTROLE.NR_LOTECOMPRA');&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_AUTORIZADOR" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="7" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_BEMPAT" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="4"
                              DSCName="CD_EMPRESA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESAITEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESASOLIC" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_EMPRESAUTORIZ" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="2"
                              DSCName="CD_ENDERENTREGA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="7"
                              DSCName="CD_ITEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="4"
                              DSCName="CD_MOVIMENTACAO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="7" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_PROJETO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="3" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="CD_SOLICITANTE" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="1000" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_ITEMSERVICO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="150" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_OBSERVACAO" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_ALTERACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_CONSOLIDACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_DESEJADA" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_INICIO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_LIBERACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_RECORD" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_SOLICITACAO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="5" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="HR_RECORD" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="true" DSCPrecision="8"
                              DSCName="NR_ITEMCOMPRA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="8"
                              DSCName="NR_ITEMPRORIGEM" DSCScale="0" DSCType="NUMBER" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="8"
                              DSCName="NR_NEGOCIACAO" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="15"
                              DSCName="QT_NEGOCIADA" DSCScale="3" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="15"
                              DSCName="QT_PREVISTA" DSCScale="3" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="ST_EMISSAONF" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="2"
                              DSCName="ST_ITEMCOMPRA" DSCScale="0" DSCType="NUMBER" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="TP_ITEMCOMPRA" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="500" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DS_OBSCANCEL" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <DataSourceColumn DSCLength="0" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="DT_CANCELAMENTO" DSCScale="0" DSCType="DATE" DSCNochildren="false" Type="Query"/>
            <DataSourceColumn DSCLength="1" PersistentClientInfoLength="0" DSCMandatory="false" DSCPrecision="0"
                              DSCName="TP_APROVSOLIC" DSCScale="0" DSCType="VARCHAR2" DSCNochildren="false"
                              Type="Query"/>
            <Trigger Name="POST-QUERY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;  ---------------------------------------------------------------------------------------------------------------&amp;#10;  -- NOME DO SOLICITANTE&amp;#10;  ---------------------------------------------------------------------------------------------------------------&amp;#10;  &amp;#10;  IF :DEVOLUCAO.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT USUARIO.NM_USUARIO &amp;#10;&#x9;&#x9;&#x9;  INTO :DEVOLUCAO.NM_USUAUTORIZ &amp;#10;&#x9;&#x9;&#x9;  FROM USUARIO&amp;#10;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO = :DEVOLUCAO.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;      NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;  END IF;&amp;#10;  &amp;#10;  ---------------------------------------------------------------------------------------------------------------&amp;#10;  -- DESCRICAO DO ITEM&amp;#10;  ---------------------------------------------------------------------------------------------------------------&amp;#10;  IF :DEVOLUCAO.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DS_ITEM &amp;#10;&#x9;&#x9;&#x9;  INTO :DEVOLUCAO.DS_ITEM &amp;#10;&#x9;&#x9;&#x9;  FROM ITEM &amp;#10;&#x9;&#x9;&#x9; WHERE CD_ITEM = :DEVOLUCAO.CD_ITEM;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;  &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;  &#x9;    NULL;&amp;#10;&#x9;  END;&amp;#10;  END IF;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="DECLARE&amp;#10;&#x9;/*CSL:25206:07/06/10 - filtrar consulta por empresa.*/&amp;#10;&#x9;CURSOR CUR_DEV IS&amp;#10;&#x9;&#x9;SELECT DS_OBSCANCEL&amp;#10;&#x9;&#x9;  FROM ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9; WHERE NR_ITEMCOMPRA = :DEVOLUCAO.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;   AND CD_EMPRESA    = :DEVOLUCAO.CD_EMPRESA;&amp;#10;&#x9;   &amp;#10;&#x9;TEXTO   VARCHAR2(32000);      &#x9;   &amp;#10;BEGIN&amp;#10;--------------------------------------------------------------------------------------------------------&amp;#10;--SELECIONA A OBSERVACAO&amp;#10;--------------------------------------------------------------------------------------------------------&amp;#10; SET_ITEM_PROPERTY('CONTROLE.DS_OBSCANCEL',ENABLED ,PROPERTY_TRUE);&amp;#10; SET_ITEM_PROPERTY('CONTROLE.DS_OBSCANCEL',UPDATE_ALLOWED ,PROPERTY_TRUE);&amp;#10;&#x9;&#x9; &amp;#10;BEGIN&amp;#10;&#x9;/*CSL:25206:07/06/10 - Filtrar consulta por empresa.*/&amp;#10;&#x9;&#x9;SELECT DS_OBSCANCEL&amp;#10;   &#x9;  INTO :CONTROLE.DS_OBSCANCEL&amp;#10;      FROM ITEMCOMPRA&amp;#10;&#x9;   WHERE NR_ITEMCOMPRA = :DEVOLUCAO.NR_ITEMCOMPRA&amp;#10;&#x9;     AND CD_EMPRESA    = :DEVOLUCAO.CD_EMPRESA&amp;#10;&#x9;     AND NR_ITEMCOMPRA NOT IN (SELECT NR_ITEMCOMPRA &amp;#10;&#x9;                                 FROM ITEMCOMPRACCUSTO&amp;#10;&#x9;                                WHERE NR_ITEMCOMPRA = :DEVOLUCAO.NR_ITEMCOMPRA&amp;#10;&#x9;                                  AND CD_EMPRESA    = :DEVOLUCAO.CD_EMPRESA);&amp;#10;     &amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;--PREENCHE A OBSERVAÇÃO DO CENTRO DE CUSTO  &amp;#10;&#x9;&#x9;&#x9;-----------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;TEXTO := NULL;&amp;#10;&#x9;&#x9;&#x9;FOR I IN CUR_DEV LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9; IF I.DS_OBSCANCEL IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    TEXTO := TEXTO||I.DS_OBSCANCEL||CHR(10);&amp;#10;&#x9;&#x9;&#x9;&#x9; END IF;  &amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.DS_OBSCANCEL := TEXTO;&amp;#10;&#x9;&#x9;&#x9;---------------------------------------------------------------------------------------&amp;#10;  &#x9;END; &#x9;&#x9;   &amp;#10;  /*CSL:25206:07/06/10  - Adicionados tratamentos de exceção.*/&#x9;&amp;#10; &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10; &#x9;&#x9;MENSAGEM('Maxys','A Consulta retornou mais de uma linha para a solicitação ('||:DEVOLUCAO.NR_ITEMCOMPRA||') da empresa ('||:GLOBAL.CD_EMPRESA||').',2);&amp;#10; &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10; &#x9;&amp;#10; &#x9;WHEN OTHERS THEN&amp;#10; &#x9;&#x9;MENSAGEM('Maxys','Ocorreu um erro inesperado ao buscar os dados da solicitação ('||:DEVOLUCAO.NR_ITEMCOMPRA||'). Erro: '||SQLERRM,2);&amp;#10; &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10; &#x9;&#x9;&amp;#10;END;&amp;#10; &amp;#10; SET_ITEM_PROPERTY('CONTROLE.DS_OBSCANCEL',UPDATE_ALLOWED ,PROPERTY_FALSE);     &amp;#10; &amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-MOUSE-DOUBLECLICK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;   /*CSL:25891:21/05/2010 - Bloquear para alteracao solicitações com status 2 - Recusada.*/&amp;#10;   IF :DEVOLUCAO.ST_ITEMCOMPRA &lt;> 2 THEN&amp;#10;&#x9;   --:CONTROLE.NR_ITEMCOMPRA:=:DEVOLUCAO.NR_ITEMCOMPRA;&amp;#10;&#x9;   :CONTROLE.NR_LOTECOMPRA := :DEVOLUCAO.NR_LOTECOMPRA;&amp;#10;&#x9;&#x9; HIDE_WINDOW('WIN_SEL');&amp;#10;&#x9;&#x9; --GO_BLOCK('CONTROLE');&amp;#10;&#x9;&#x9; GO_ITEM('CONTROLE.NR_LOTECOMPRA');&amp;#10;&#x9; END IF;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-BLOCK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_SEL');" DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-UPDATE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="PACK_AUDITORIA.AUDITA_ATUALIZACAO('DEVOLUCAO');" DisplayInKeyboardHelp="false"/>
        </Block>
        <Block Name="CONS_ITEMCOMPRA" DirtyInfo="true" ScrollbarWidth="20" ScrollbarLength="210">
            <Item Name="CD_EMPRESA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="112" YPosition="26" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código da Empresa"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Empresa" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" Hint="Código da Empresa"
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  InitializeValue=":GLOBAL.CD_EMPRESA" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_EMPRESA2" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="5" CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="168" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :CONS_ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;:CONS_ITEMCOMPRA.NM_EMPRESA := PACK_VALIDATE.RETORNA_NM_EMPRESA(:CONS_ITEMCOMPRA.CD_EMPRESA);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:CONS_ITEMCOMPRA.NM_EMPRESA := NULL;&amp;#10;&#x9;END IF;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;--V_INSTRUCAO       VARCHAR2(1000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&#x9;&#x9; &amp;#10;&#x9;--V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;  NUMBER;&amp;#10;&#x9;--V_CD_EMPRESA&#x9;&#x9;  ITEMCOMPRA.CD_EMPRESA%TYPE;&amp;#10;&#x9;--V_NR_LOTECOMPRA&#x9;&#x9;ITEMCOMPRA.NR_ITEMCOMPRA%TYPE;&amp;#10;&#x9;--V_CD_AUTORIZADOR&#x9;ITEMCOMPRA.CD_AUTORIZADOR%TYPE;&amp;#10;&#x9;--V_CD_TIPOCOMPRA&#x9;&#x9;ITEMCOMPRA.CD_TIPOCOMPRA%TYPE;&amp;#10;&#x9;--V_DT_DESEJADA    &#x9;ITEMCOMPRA.DT_DESEJADA%TYPE;&amp;#10;&#x9;--V_DT_INICIO&#x9;&#x9;&#x9;&#x9;ITEMCOMPRA.DT_INICIO%TYPE;&amp;#10;&#x9;--V_NR_CONTRATO&#x9;&#x9;&#x9;ITEMCOMPRA.NR_CONTRATO%TYPE;&amp;#10;&#x9;--V_CD_DEPARTAMENTO ITEMCOMPRA.CD_DEPARTAMENTO%TYPE;&amp;#10;&#x9;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONS_ITEMCOMPRA.NR_LOTECOMPRA IS NOT NULL AND :CONS_ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;  PACK_PROCEDIMENTOS.CARREGA_ITEMCOMPRA(I_CD_EMPRESA &#x9;&#x9;=> :CONS_ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_NR_LOTECOMPRA => :CONS_ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  O_MENSAGEM&#x9;&#x9;&#x9;=> V_MENSAGEM);&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; &amp;#10;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;  GO_ITEM('CONS_ITEMCOMPRA.NR_LOTECOMPRA');&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('MAXYS',V_MENSAGEM,2);&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;NULL;&#x9;&#x9;&amp;#10;END;"/>
            </Item>
            <Item Name="NM_EMPRESA" Justification="Iniciar" Width="459" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="198" YPosition="26" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Nome da Empresa"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" InitializeValue=":GLOBAL.DS_EMPRESA" KeepCursorPosition="false"
                  LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  MaximumLength="60" CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false"
                  KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="NR_LOTECOMPRA" Justification="Centralizado" Width="85" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="112" YPosition="48" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Número do Lote de Compra"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Lote de Compra" PromptReadingOrder="Padrão"
                  PromptJustification="Centralizado" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_LOTECOMPRA" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="true"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&#x9;&#x9; &#x9;&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONS_ITEMCOMPRA.NR_LOTECOMPRA IS NOT NULL AND :CONS_ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;  PACK_PROCEDIMENTOS.CARREGA_ITEMCOMPRA(I_CD_EMPRESA &#x9;&#x9;=> :CONS_ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_NR_LOTECOMPRA => :CONS_ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  O_MENSAGEM&#x9;&#x9;&#x9;=> V_MENSAGEM);&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9; &amp;#10;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;  GO_ITEM('CONS_ITEMCOMPRA.CD_EMPRESA');&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('MAXYS',V_MENSAGEM,2);&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;NULL;&#x9;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BTN_CARREGA" PromptAttachmentOffset="0" PromptAlignOffset="0" PromptFontSize="1000" Width="124"
                  ItemType="Tecla" BackColor="white" XPosition="741" FontName="MS Sans Serif" YPosition="465"
                  FontSize="1000" FontStyle="Simples" DirtyInfo="true" FontWeight="Semiclaro" Label="Carrega Lote"
                  PromptFontName="Tahoma" FontSpacing="Normal" ForegroundColor="black"
                  CanvasName="CAN_DUPLICALOTECOMPRA" Height="26">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :DUPLICAITEMCOMPRA.NR_LOTECOMPRA IS NOT NULL THEN&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.CARREGA_LOTE;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Item Name="BTN_CANCELA" PromptAttachmentOffset="0" PromptAlignOffset="0" PromptFontSize="1000" Width="124"
                  ItemType="Tecla" BackColor="white" XPosition="870" FontName="MS Sans Serif" YPosition="465"
                  FontSize="1000" FontStyle="Simples" DirtyInfo="true" FontWeight="Semiclaro" Label="Cancelar"
                  PromptFontName="Tahoma" FontSpacing="Normal" ForegroundColor="black"
                  CanvasName="CAN_DUPLICALOTECOMPRA" Height="26">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="&amp;#10;&amp;#10;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;GO_ITEM('CONTROLE.CD_AUTORIZADOR');"/>
            </Item>
        </Block>
        <Block Name="DUPLICAITEMCOMPRA" NextNavigationBlockName="CONS_ITEMCOMPRA" RecordsDisplayCount="5"
               DirtyInfo="true" PreviousNavigationBlockName="CONS_ITEMCOMPRA"
               ScrollbarCanvasName="CAN_DUPLICALOTECOMPRA" ScrollbarTabPageName="" ScrollbarWidth="18"
               ScrollbarXPosition="874" ScrollbarYPosition="124" ShowScrollbar="true" ScrollbarLength="106">
            <Item Name="CD_EMPRESA" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="NR_LOTECOMPRA" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="NR_ITEMCOMPRA" Justification="Centralizado" Width="82" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="27" YPosition="124" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Número da Solicitação de Compras"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Nr. Solicitação" PromptReadingOrder="Padrão"
                  PromptJustification="Centralizado" PromptAttachmentEdge="Superior" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21"
                  Hint="Número da Solicitação de Compras" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="82" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="110" YPosition="124" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Item" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Item" PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" Hint="Código do Item" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="8"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Justification="Iniciar" Width="455" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="193" YPosition="124" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição do Item"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="false" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="76" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="649" YPosition="124" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Movimentação" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Moviment." PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="QT_PREVISTA" Justification="Final" Width="147" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="726" YPosition="124" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true"
                  Tooltip="Quantidade a Solicitar.Somente será aceito casas decimais para este campo se o tipo de cálculo do Item for Peso."
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Quantidade" PromptReadingOrder="Padrão"
                  PromptJustification="Final" PromptAttachmentOffset="2" PromptAlign="Final" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G999D000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21"
                  Hint="Quantidade a Solicitar. Somente será aceito casas decimais para este campo se o tipo de cálculo do Item for Peso."
                  SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="17" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :DUPLICAITEMCOMPRACC.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;GO_ITEM('DUPLICAITEMCOMPRACC.CD_EMPRCCUSTODEST');&amp;#10;&#x9;ELSIF :DUPLICAITEMCOMPRACC.CD_CENTROCUSTO IS NULL AND :SYSTEM.LAST_RECORD = 'FALSE' THEN&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;GO_ITEM('DUPLICAITEMCOMPRA.NR_ITEMCOMPRA');&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" DirtyInfo="true"
                     TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;V_ITEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(100);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;V_ITEM := :SYSTEM.CURSOR_ITEM;&amp;#10;&#x9;&amp;#10;&#x9;PACK_PROCEDIMENTOS.CARREGA_ITEMCOMPRACCUSTO(:DUPLICAITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.NR_ITEMCOMPRA);&amp;#10;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;GO_ITEM(V_ITEM);&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&#x9;&#x9;&amp;#10;END;"/>
            <Trigger Name="KEY-CREREC" DirtyInfo="true" TriggerText="NULL;"/>
            <Trigger Name="KEY-UP" DirtyInfo="true" TriggerText="PREVIOUS_RECORD;"/>
            <Trigger Name="KEY-DOWN" DirtyInfo="true"
                     TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.LAST_RECORD = 'FALSE' THEN&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true"
                     TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.LAST_RECORD = 'TRUE' AND :DUPLICAITEMCOMPRA.NR_ITEMCOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;PREVIOUS_RECORD;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
        </Block>
        <Block Name="DUPLICAITEMCOMPRACC" RecordsDisplayCount="5" DirtyInfo="true"
               ScrollbarCanvasName="CAN_DUPLICALOTECOMPRA" ScrollbarTabPageName="" ScrollbarWidth="18"
               ScrollbarXPosition="876" ScrollbarYPosition="295" ShowScrollbar="true" ScrollbarLength="106">
            <Item Name="CD_EMPRESA" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="NR_ITEMCOMPRA" DirtyInfo="true" Width="100" Height="21"/>
            <Item Name="CD_EMPRCCUSTODEST" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="27" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Empresa&amp;#10;dest. custo" PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_CENTROCUSTO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="93" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Centro Custo" PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="6" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DS_CENTROCUSTO" Justification="Iniciar" Width="175" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="gray8" XPosition="159" YPosition="295" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Descrição do Centro de Custo" CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false"
                  CaseRestriction="Misto" CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="2"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_NEGOCIO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="335" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Negócio" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Negócio" PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" CommMode="Síncrono"
                  InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="401" YPosition="295" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código da Movimentação" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Cód. Mov." PromptReadingOrder="Padrão" PromptJustification="Centralizado"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" Hint="Código da Movimentação" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="DS_MOVIMENTACAO" Justification="Iniciar" Width="175" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="467" YPosition="295" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição da Movimentação"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_AUTORIZADOR" Justification="Centralizado" Width="66" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="643" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Código do Autorizador" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="Autorizador" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  Height="21" Hint="Código do Autorizador" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="3" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="QT_PEDIDAUNIDSOL" Justification="Final" Width="94" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="710" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Quantidade do Centro de Custo"
                  CanvasName="CAN_DUPLICALOTECOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  ParentType="29" CheckBoxOtherValues="Marcado" Prompt="Quantidade" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentOffset="2" PromptAlign="Final" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G990D00"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0" Height="21"
                  Hint="Quantidade do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="17"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true" QueryLength="0"
                  QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" ParentModule="BIB004"
                  UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  CalculateMode="Nenhum" ShowVerticalScrollbar="false"/>
            <Item Name="PC_PARTICIPACAO" Justification="Final" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="805" YPosition="295" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Percentual de Participação" CanvasName="CAN_DUPLICALOTECOMPRA"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" ParentType="29" CheckBoxOtherValues="Marcado"
                  Prompt="% Partic." PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentOffset="2" PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" FormatMask="FM990D000&quot;%&quot;" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="0" Height="21" Hint="Percentual de Participação" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" CommMode="Síncrono" InsertAllowed="false"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="10" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false" QueryAllowed="true"
                  QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" CalculateMode="Nenhum" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.LAST_RECORD = 'FALSE' THEN&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;GO_ITEM('DUPLICAITEMCOMPRA.NR_ITEMCOMPRA');&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Trigger Name="KEY-UP" DirtyInfo="true" TriggerText="PREVIOUS_RECORD;"/>
            <Trigger Name="KEY-DOWN" DirtyInfo="true"
                     TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.LAST_RECORD = 'FALSE' THEN&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true"
                     TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.LAST_RECORD = 'TRUE' AND :DUPLICAITEMCOMPRACC.CD_CENTROCUSTO IS NULL THEN&amp;#10;&#x9;&#x9;PREVIOUS_RECORD;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
        </Block>
        <Block Name="ITEMCOMPRANEGOCIO" RecordsDisplayCount="10" DirtyInfo="true"
               ScrollbarCanvasName="CAN_ITEMCOMPRANEGOCIO" ScrollbarTabPageName="" ScrollbarWidth="16"
               ScrollbarXPosition="958" ScrollbarYPosition="88" ShowScrollbar="true" ScrollbarLength="211">
            <Item Name="CD_EMPRESA" DirtyInfo="true" Width="110" Height="21"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="62" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="122" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Item"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Item" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Justification="Iniciar" Width="358" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="185" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição do Item"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_UNIDMED" Justification="Iniciar" Width="86" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="788" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Unidade de Medida do Item"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="QT_PREVISTA" Justification="Direita" Width="95" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="692" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Quantidade a Solicitar"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Quantidade Total" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G999D000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="CD_EMPRCCUSTODEST" Justification="Centralizado" Width="55" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="89" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Empresa&amp;#10;Destino" PromptReadingOrder="Padrão"
                  PromptJustification="Centralizado" PromptAttachmentEdge="Superior" PromptAttachmentOffset="3"
                  PromptAlign="Iniciar" PromptAlignOffset="4" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21"
                  Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_EMPRESANEGOCIO" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="PRE-TEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST IS NULL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST IS NOT NULL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.NM_EMPRESADEST := PACK_VALIDATE.RETORNA_NM_EMPRESA(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.NM_EMPRESADEST := NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-NEW-ITEM-INSTANCE" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  :ITEMCOMPRANEGOCIO.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;  :ITEMCOMPRANEGOCIO.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;  :ITEMCOMPRANEGOCIO.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;  :ITEMCOMPRANEGOCIO.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;  :ITEMCOMPRANEGOCIO.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="NM_EMPRESADEST" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  Width="210" MaximumLength="60" WrapStyle="Palavra" AutoSkip="false" CompressionQuality="Mínimo"
                  XPosition="81" YPosition="89" DatabaseItem="false" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" Tooltip="Nome do Autorizador" MouseNavigate="true"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" MultiLine="false" CaseInsensitiveQuery="false"
                  KeyboardNavigable="true" CaseRestriction="Misto" ParentType="29" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Esquerda" PromptAlign="Centralizado"
                  OleActionStyle="Clique Duplo" TreeAllowEmpBranch="false" OleInsideOutSupport="true"
                  TreeMultiSelect="false" OleInPlaceAction="true" TreeShowLines="true" OleResizStyle="Escala"
                  TreeShowSymbol="true" ImageFormat="TIFF" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  ImageDepth="Original" OleTenantTypeType="Qualquer um" PrimaryKey="false" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão"
                  QueryAllowed="true" Visible="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior"
                  ReadingOrder="Padrão" EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false"
                  Rendered="true" Required="false" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="0"
                  ConcealData="false" SizingStyle="Recortar" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" ShowPlay="true" Compress="Automático" ShowRecord="false"
                  SoundQuality="Automático" Iconic="false" ShowRewind="false" ShowFastForward="false" TabPageName=""
                  ShowVolume="true" ShowTime="true" CommMode="Síncrono" KeyboardState="Qualquer um" InsertAllowed="true"
                  ShowSlider="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Char" UpdateQuery="true"
                  UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false" ParentModuleType="25"
                  ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB" KeepCursorPosition="false"
                  CalculateMode="Nenhum" LockRecord="false" ShowVerticalScrollbar="false"/>
            <Item Name="CD_MOVIMENTACAO" Justification="Centralizado" Width="65" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="292" YPosition="89" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código da Movimentação"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Cód. Movto" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="3"
                  PromptAlign="Iniciar" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10" Height="21"
                  Hint="Código da Movimentação" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_PARMOVIMENTNEGOCIO" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_TP_PEDIDO    PARMOVIMENT.TP_PEDIDO%TYPE; --PHS:60051:11/07/2013&amp;#10;&#x9;I_CD_NATUREZA  PLANOCONTABIL.CD_NATUREZA%TYPE;&amp;#10;&#x9;I_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;E_GERAL        EXCEPTION; &amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;IF PACK_GLOBAL.TP_SELECAOCONTA = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*MVP:72940:02/07/2014 - Alterado para voltar a mensagem padrão da função VALIDA_SELECAOCONTA quando for 'CO'*/&amp;#10;        I_MENSAGEM := VALIDA_SELECAOCONTA (NVL(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST,:CONTROLE.CD_EMPRESA),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRANEGOCIO.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO, &amp;#10;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NULL, 'CO');&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (I_MENSAGEM IS NOT NULL) AND (I_MENSAGEM &lt;> 'S') THEN&amp;#10;&#x9;      &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/* CSL:02/12/2013:64869&amp;#10;&#x9;&#x9;&#x9; * Alterado para chamar o procedimento VALIDA_CONTABIL_PLANO para não permitir realizar lançamentos em contas, &amp;#10;&#x9;&#x9;&#x9; * que não pertencem a versão do plano de contas da empresa do lançamento.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;PACK_VALIDA.VALIDA_CONTABIL_PLANO(:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO, NULL, TRUNC(SYSDATE), NVL(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST,:GLOBAL.CD_EMPRESA), I_MENSAGEM);&amp;#10;  &#x9;&amp;#10;&#x9;  &#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABIL.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT,HISTCONTB,PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO    = :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   /*AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC'*/;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABILVERSAO.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO           = :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         &#x9;&#x9;&#x9; = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_CONTACONTABIL  = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   /*AND PLANOCONTABILVERSAO.TP_CONTACONTABIL  = 'CC'*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:ITEMCOMPRA.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE));&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Movimentação ¢CD_MOVIMENTACAO¢ não cadastrada, não é de compra ou não é de Centro de Custo. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3775,'¢CD_MOVIMENTACAO='||:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;IF V_TP_PEDIDO &lt;> PACK_GLOBAL.TP_PEDIDO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A movimentação ¢CD_MOVIMENTACAO¢ possui o tipo de pedido ¢TP_PEDIDO¢ diferente do tipo de pedido ¢TP_CADPEDIDO¢ cadastrado para o programa. Verificar os programas TCB008 e ANV008.&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(20737,'¢CD_MOVIMENTACAO='||:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO||'¢TP_PEDIDO='||V_TP_PEDIDO||'¢TP_CADPEDIDO='||PACK_GLOBAL.TP_PEDIDO||'¢'); &amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEYLISTVAL" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN &amp;#10;&#x9;&#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENT',GROUP_NAME, 'LOV_PARMOVIMENT1');&#x9; &amp;#10;&#x9;&#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'X') IN ('O','S') &amp;#10;&#x9;&#x9;&#x9;  AND SHOW_LOV('LOV_PARMOVIMENT') THEN&amp;#10;&#x9;&#x9;  NULL; &amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9; &#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENT',GROUP_NAME, 'LOV_PARMOVIMENT');&amp;#10;&#x9;&#x9; &#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'S')= 'S' &amp;#10;&#x9;&#x9; &#x9;   AND SHOW_LOV('LOV_PARMOVIMENT') THEN&amp;#10;&#x9;&#x9;       NULL;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;ELSE--IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENTVERSAO',GROUP_NAME, 'LOV_PARMOVIMENT1VERSAO');&#x9; &amp;#10;&#x9;&#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'X') IN ('O','S') &amp;#10;&#x9;&#x9;&#x9;  AND SHOW_LOV('LOV_PARMOVIMENTVERSAO') THEN&amp;#10;&#x9;&#x9;  NULL; &amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9; &#x9;SET_LOV_PROPERTY('LOV_PARMOVIMENTVERSAO',GROUP_NAME, 'LOV_PARMOVIMENTVERSAO');&amp;#10;&#x9;&#x9; &#x9;IF NVL(PACK_GLOBAL.TP_SELECAOCONTA,'S')= 'S' &amp;#10;&#x9;&#x9; &#x9;   AND SHOW_LOV('LOV_PARMOVIMENTVERSAO') THEN&amp;#10;&#x9;&#x9;       NULL;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;--IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="PRE-TEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO := :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_MOVIMENTACAO" Justification="Iniciar" Width="175" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="358" YPosition="89" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição da Movimentação"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="10" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_PARMOVIMENTNEGOCIO" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_NEGOCIO" Justification="Centralizado" Width="55" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="534" YPosition="89" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" CanvasName="CAN_ITEMCOMPRANEGOCIO"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado" Prompt="Negócio"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="3" PromptAlign="Iniciar" PromptAlignOffset="4" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_NEGOCIORATEIO" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;SELECT DS_NEGOCIO&amp;#10;&#x9;    INTO :ITEMCOMPRANEGOCIO.DS_NEGOCIO&amp;#10;&#x9;    FROM NEGOCIO&amp;#10;&#x9;   WHERE NEGOCIO.CD_NEGOCIO = :ITEMCOMPRANEGOCIO.CD_NEGOCIO;&amp;#10;&#x9;   &amp;#10;&#x9;  IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_CONTA_ORCAMENTO('ITEMCOMPRANEGOCIO.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, null,:ITEMCOMPRANEGOCIO.CD_NEGOCIO);&amp;#10;&#x9;  END IF; &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.DS_NEGOCIO := NULL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(147,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ não está cadastrado. Verifique o programa TCB001.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(148,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ está cadastrado várias vezes. Verifique o programa TCB001.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(149,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢SQLERRM='||SQLERRM||'¢');--Ocorreu um erro inesperado ao consultar os dados do código de Negócio ¢CD_NEGOCIO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_NEGOCIO" ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist"
                  Width="231" MaximumLength="60" WrapStyle="Palavra" AutoSkip="false" CompressionQuality="Mínimo"
                  XPosition="590" YPosition="89" DatabaseItem="true" OlePopupMenuItems="-1" AutoHint="false"
                  OleShowTenantTypeType="true" MouseNavigate="true" CanvasName="CAN_ITEMCOMPRANEGOCIO" MultiLine="false"
                  CaseInsensitiveQuery="false" KeyboardNavigable="true" CaseRestriction="Misto" ParentType="29"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Direita"
                  PromptAlign="Centralizado" OleActionStyle="Clique Duplo" TreeAllowEmpBranch="false"
                  OleInsideOutSupport="true" TreeMultiSelect="false" OleInPlaceAction="true" TreeShowLines="true"
                  OleResizStyle="Escala" TreeShowSymbol="true" ImageFormat="TIFF" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" ImageDepth="Original" OleTenantTypeType="Qualquer um"
                  PrimaryKey="false" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" QueryAllowed="true" Visible="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" Rendered="true" Required="false" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="0" ConcealData="false" SizingStyle="Recortar" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" ShowPlay="true" Compress="Automático"
                  ShowRecord="false" SoundQuality="Automático" Iconic="false" ShowRewind="false" ShowFastForward="false"
                  TabPageName="" ShowVolume="true" ShowTime="true" CommMode="Síncrono" KeyboardState="Qualquer um"
                  InsertAllowed="true" ShowSlider="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Char"
                  UpdateQuery="true" UpdateAllowed="true" ParentModule="BIB004" UpdateIfNull="false"
                  ParentModuleType="25" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB"
                  KeepCursorPosition="false" CalculateMode="Nenhum" LockRecord="false" ShowVerticalScrollbar="false"
                  LovName="LOV_NEGOCIORATEIO"/>
            <Item Name="QT_PEDIDAUNIDSOL" Justification="Final" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="822" YPosition="89" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Quantidade do Centro de Custo"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Quantidade" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="3"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G990D00" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="21" Hint="Quantidade do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="17"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  IF :ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NOT NULL THEN  &#x9;&#x9; &amp;#10;  &#x9;IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL  THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&#x9;&amp;#10;       --A movimentação deve ser informada. &amp;#10;       MENSAGEM_PADRAO(298,'');&amp;#10;       GO_ITEM('ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO');&amp;#10;    ELSIF:ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL THEN&amp;#10;     &#x9; SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;     &#x9; --O centro de custo deve ser informado.&amp;#10;     &#x9; MENSAGEM_PADRAO(292,'');&amp;#10;     &#x9; GO_ITEM('ITEMCOMPRANEGOCIO.CD_NEGOCIO');&amp;#10;    ELSE&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;&#x9;        SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;        SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;       &#x9;GO_ITEM('ITEMCOMPRANEGOCIO.BTN_OK');&amp;#10;&#x9;&#x9;&#x9;  ELSE &amp;#10;&#x9;      &#x9;IF GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',ENABLED) = 'TRUE' THEN&amp;#10;&#x9;        &#x9;SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;     &#x9;&#x9;END IF;&amp;#10;&#x9;     &#x9;&#x9;&#x9;&amp;#10;&#x9;     &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) > ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;--A soma dos valores lançados em Centro de Custo ¢VL_CCUSTO¢ para o item ¢CD_ITEM¢ deve corresponder ao valor lançados no pedido ¢VL_TOTITEM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      MENSAGEM_PADRAO(29150,'¢VL_CCUSTO=' ||ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_ITEM='   ||:ITEMCOMPRANEGOCIO.CD_ITEM||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢VL_TOTITEM='||ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA)||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;     &#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;     &#x9;&#x9;GO_ITEM('ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST');&amp;#10;&#x9;&#x9;     &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  END IF;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;  ELSE&amp;#10;  &#x9;NEXT_ITEM;&#x9;  &#x9;&amp;#10;&#x9;END IF; &#x9;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;&#x9;IF :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL' THEN&amp;#10;&#x9;&#x9;DECLARE&amp;#10;&#x9;&#x9;&#x9;V_ST_UNIDMEDIDA UNIDMEDIDA.ST_UNIDMEDIDA%TYPE; &amp;#10;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;SELECT UNIDMEDIDA.ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;  FROM ITEM, UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9; WHERE UNIDMEDIDA.CD_UNIDMED = ITEM.CD_UNIDMED &amp;#10;&#x9;&#x9;&#x9;   AND ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;IF ( V_ST_UNIDMEDIDA = 'U' ) THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;END;  &amp;#10;  &#x9;&amp;#10;  &#x9;IF (:CONTROLE.LST_AUTOSUGESTAO IN (2,3)) THEN&amp;#10;&#x9;    IF (:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NOT NULL) AND (:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO IS NULL) THEN&amp;#10;&#x9;    &#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO := ROUND(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL * 100 /&amp;#10;&#x9;      &#x9;                                         :ITEMCOMPRANEGOCIO.QT_PREVISTA,3);&amp;#10;&#x9;                                              &amp;#10;&#x9;      IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;&#x9;         SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;         SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;      ELSE &amp;#10;&#x9;        IF (GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',ENABLED) = 'TRUE') THEN&amp;#10;&#x9;           SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;      &#x9;END IF;&amp;#10;&#x9;      END IF;&#x9;      &amp;#10;&#x9;      &amp;#10;&#x9;      /* DCS:19/12/2013:67379 &amp;#10;&#x9;       * faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade d&amp;#10;&#x9;       * o centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;       */&amp;#10;&#x9;      IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) AND&amp;#10;&#x9;      &#x9; NVL(:ITEMCOMPRANEGOCIO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;      &#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO := :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO - (:ITEMCOMPRANEGOCIO.PC_TOTAL - 100);&amp;#10;&#x9;      END IF;&amp;#10;&#x9;      &amp;#10;&#x9;    ELSIF (:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NOT NULL) AND (:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO IS NOT NULL) THEN&amp;#10;&#x9;    &#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO := ROUND(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL * 100 /&amp;#10;&#x9;                                                 :ITEMCOMPRANEGOCIO.QT_PREVISTA,3);&amp;#10;&#x9;      &amp;#10;&#x9;      /* DCS:19/12/2013:67379 &amp;#10;&#x9;       * faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade d&amp;#10;&#x9;       * o centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;       */&amp;#10;&#x9;      IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) AND&amp;#10;&#x9;      &#x9; NVL(:ITEMCOMPRANEGOCIO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;      &#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO := :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO - (:ITEMCOMPRANEGOCIO.PC_TOTAL - 100);&amp;#10;&#x9;      END IF;&#x9;      &amp;#10;&#x9;      &amp;#10;&#x9;    ELSIF (:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NULL) THEN&amp;#10;&#x9;    &#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.PC_PARTICIPACAO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;    END IF;&amp;#10;  &#x9;END IF;&amp;#10;  END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="POST-TEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;   IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) &lt; ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;   ELSIF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) > ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;   &#x9;&#x9;--A soma dos valores lançados em Centro de Custo ¢VL_CCUSTO¢ para o item ¢CD_ITEM¢ deve corresponder ao valor lançados no pedido ¢VL_TOTITEM¢.&amp;#10;      MENSAGEM_PADRAO(4526,'¢VL_CCUSTO=' ||ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL)||&amp;#10;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_ITEM='   ||:ITEMCOMPRANEGOCIO.CD_ITEM||&amp;#10;      &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢VL_TOTITEM='||ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA)||'¢');&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;   ELSIF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) THEN&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;      SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;   END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="ON-ERROR" DirtyInfo="true"
                         TriggerText="BEGIN&#x9;&amp;#10;&#x9;IF (ERROR_TYPE = 'FRM') AND (ERROR_CODE = 40209) THEN&amp;#10;&#x9;&#x9;MENSAGEM('','Os caracteres válidos são 0-9 - e +.',4);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;VALIDA_ERROS;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Item Name="PC_PARTICIPACAO" Justification="Final" Width="64" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="893" YPosition="89" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Percentual de Participação"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="% Partic." PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Superior" PromptAttachmentOffset="3"
                  PromptAlign="Final" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM990D000&quot;%&quot;" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="10"
                  Height="21" Hint="Percentual de Participação" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="10"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;  IF :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRANEGOCIO.PC_PARTICIPACAO' AND (:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO IS NOT NULL) THEN&amp;#10;  &#x9;&amp;#10;  &#x9;IF (NVL(:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO,0) &lt;= 0) THEN&amp;#10;  &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20921, NULL);&amp;#10;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;  &#x9;END IF;&amp;#10;  &#x9;&amp;#10;  &#x9;IF (:CONTROLE.LST_AUTOSUGESTAO IN (1,3)) THEN   &#x9;&amp;#10;    &#x9;:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA * :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO / 100 ,3);&amp;#10;&#x9;&#x9;END IF;                                              &amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9; IF NVL(PACK_GLOBAL.TP_ITEM,'N') &lt;> 'S'  THEN&amp;#10;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9; DECLARE&amp;#10;&#x9;&#x9;&#x9;&#x9; V_ST_UNIDMEDIDA UNIDMEDIDA.ST_UNIDMEDIDA%TYPE;&amp;#10;&#x9;&#x9;&#x9; BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9; SELECT UNIDMEDIDA.ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9;   INTO V_ST_UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9;   FROM ITEM, UNIDMEDIDA&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHERE UNIDMEDIDA.CD_UNIDMED = ITEM.CD_UNIDMED &amp;#10;&#x9;&#x9;&#x9;&#x9;    AND ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9; IF ( V_ST_UNIDMEDIDA = 'U' ) AND (:CONTROLE.LST_AUTOSUGESTAO IN (1,3))  THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO  := ROUND(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL * 100 /&amp;#10;                                              &#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.QT_PREVISTA,3);&amp;#10;&#x9;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9; EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9; END;&amp;#10;&#x9;&#x9;                                              &amp;#10;   &#x9; ELSIF  GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL',ENABLED) = 'TRUE' THEN&amp;#10;       SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL',ENABLED,PROPERTY_FALSE);&amp;#10;   &#x9; END IF;&amp;#10;   &#x9; &amp;#10;   &#x9; /* DCS:19/12/2013:67379 &amp;#10;&#x9;&#x9;&#x9;* faz o arredondamento no último percentual, com base na autosugestão do percentual apos digitar a última quantidade d&amp;#10;&#x9;&#x9;&#x9;* o centro de custo e quando o percentual total sumarizar mais de 100 %.&amp;#10;&#x9;&#x9;&#x9;*/&amp;#10;   &#x9; IF (:CONTROLE.LST_AUTOSUGESTAO IN (1,3)) THEN &amp;#10;&#x9;   &#x9; IF ROUND(:ITEMCOMPRANEGOCIO.QT_TOTAL) = ROUND(:ITEMCOMPRANEGOCIO.QT_PREVISTA) AND&amp;#10;&#x9;      &#x9;NVL(:ITEMCOMPRANEGOCIO.PC_TOTAL,0) > 100 THEN&amp;#10;&#x9;       :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO := :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO - (:ITEMCOMPRANEGOCIO.PC_TOTAL - 100);&amp;#10;&#x9;     END IF;&amp;#10;   &#x9; END IF;&amp;#10;   &#x9; &amp;#10;  END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="POST-TEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN &amp;#10;   IF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) &lt; 100 THEN&amp;#10;      IF GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED) = 'TRUE' THEN&amp;#10;         SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;      END IF;&amp;#10;   ELSIF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) > 100 THEN&amp;#10;   &#x9;&#x9;--A soma do percentual de participação dos centros de custos deve ser igual a 100%.&amp;#10;   &#x9;&#x9;MENSAGEM_PADRAO(4740,'');   &#x9;&amp;#10;      :ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL := NULL;&amp;#10;      :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO  := NULL;&amp;#10;      IF GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED) = 'TRUE' THEN&amp;#10;         SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;      END IF;&amp;#10;     &amp;#10;   ELSIF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) = 100 THEN&amp;#10;      IF GET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED) = 'FALSE' THEN&amp;#10;        SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;        SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',NAVIGABLE,PROPERTY_TRUE);&amp;#10;      END IF;&amp;#10;   END IF;&amp;#10;   IF ROUND(:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO,3) = 100 THEN&amp;#10;   &#x9; :ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL:=:ITEMCOMPRANEGOCIO.QT_PREVISTA;&amp;#10;   END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="KEY-NEXT-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  VALIDATE(ITEM_SCOPE);&amp;#10;  IF FORM_SUCCESS THEN&amp;#10;&#x9;  IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL  THEN&amp;#10;&#x9;     SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&#x9;&amp;#10;&#x9;     --A movimentação deve ser informada.&amp;#10;&#x9;     MENSAGEM_PADRAO(298,'');&amp;#10;&#x9;     GO_ITEM('ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO');&amp;#10;&#x9;  ELSIF:ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL THEN&amp;#10;&#x9; &#x9;   SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;   &#x9; --O centro de custo deve ser informado.&amp;#10;&#x9;   &#x9; MENSAGEM_PADRAO(292,'');&amp;#10;&#x9; &#x9;   GO_ITEM('ITEMCOMPRANEGOCIO.CD_NEGOCIO');&amp;#10;&#x9;  ELSE&amp;#10;&#x9;&#x9;&#x9;IF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) &lt; 100 THEN&amp;#10;&#x9;&#x9; &#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9; &#x9;  --GDG:01/08/2011:28715&amp;#10;&#x9;&#x9; &#x9;  IF GET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) = 'VSA_CAMPOTEXTO' THEN&amp;#10;&#x9;&#x9; &#x9;  &#x9;GO_ITEM('ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST');&amp;#10;&#x9;&#x9; &#x9;  ELSE&amp;#10;&#x9;&#x9; &#x9;    GO_ITEM('ITEMCOMPRANEGOCIO.CD_NEGOCIO');&amp;#10;&#x9;&#x9; &#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;ELSIF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) = 100 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRANEGOCIO.BTN_OK');&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;  &amp;#10;&#x9;&#x9;END IF;&#x9;&#x9; &amp;#10;&#x9;ELSE   &#x9;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
                <Trigger Name="ON-ERROR" DirtyInfo="true"
                         TriggerText="BEGIN&#x9;&amp;#10;&#x9;IF (ERROR_TYPE = 'FRM') AND (ERROR_CODE = 40209) THEN&amp;#10;&#x9;&#x9;MENSAGEM('','Os caracteres válidos são 0-9 - e +.',4);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;VALIDA_ERROS;&amp;#10;&#x9;END IF;&amp;#10;END;"/>
            </Item>
            <Item Name="DS_OBSERVACAO" Justification="Esquerda" Width="505" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="140" YPosition="300" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="" CanvasName="CAN_ITEMCOMPRANEGOCIO"
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado"
                  Prompt="Complemento" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="-28" PromptAlign="Iniciar"
                  PromptAlignOffset="-81" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="49" Hint="" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="150"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="true" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="DEFAULT" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="BTN_OK" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="859" YPosition="389" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;OK" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;E_GERAL &#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;E_ALERTA&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;V_ST_EXIBEMSG&#x9;BOOLEAN DEFAULT FALSE;--MGK:61460:30/07/2013&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;&#x9;--GDG:01/08/2011:28715&amp;#10;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;VALIDATE(RECORD_SCOPE);&amp;#10;&#x9;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF ROUND(:ITEMCOMPRANEGOCIO.PC_TOTAL,2) = 100 THEN&amp;#10;&#x9;&#x9;IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL AND :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL THEN&amp;#10;&#x9;&#x9;   DELETE_RECORD;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;--VERIFICA SE A MOVIMENTAÇÃO E O CENTRO DE CUSTO ESTÃO PREENCHIDOS--&amp;#10;&#x9;&#x9;--------------------------------------------------------------------&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;  LOOP &amp;#10;&#x9;    IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL OR :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL THEN&amp;#10;&#x9;&#x9;    SET_ITEM_PROPERTY ('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;    END IF;&amp;#10;&#x9;    &amp;#10;&#x9;    IF (:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NULL) THEN&amp;#10;&#x9;    &#x9;V_ST_EXIBEMSG := TRUE;&amp;#10;&#x9;    END IF;&amp;#10;&#x9;    &amp;#10;&#x9;  &#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;  &amp;#10;&#x9;  &amp;#10;&#x9;  VALIDA_DUPLICADOS_NEGOCIO(V_MENSAGEM);&amp;#10;&#x9;  &amp;#10;&#x9;  IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;  &#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  &amp;#10;&#x9;  ADICIONA_GRUPO_NEGOCIO;&amp;#10;&#x9;  GO_ITEM('ITEMCOMPRA.DS_OBSERVACAO');&amp;#10;&#x9;ELSE&amp;#10; &#x9;&#x9;--A soma do percentual de participação dos centros de custos deve ser igual a 100%.&amp;#10; &#x9;&#x9;MENSAGEM_PADRAO(4740,'');   &#x9;&amp;#10;&#x9;&#x9;GO_ITEM('ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL');&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;--MGK:61460:30/07/2013&amp;#10;&#x9;/*IF (V_ST_EXIBEMSG) THEN&amp;#10;&#x9;&#x9;V_ALERT := SHOW_ALERT('ALR_QTDENULA');&amp;#10;&#x9;&#x9;IF (V_ALERT = ALERT_BUTTON1) THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;ELSIF (V_ALERT = ALERT_BUTTON2) THEN &amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20836, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_ALERTA;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_ALERTA THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BT_CANCELAR" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="712" YPosition="389" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;Cancelar" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  CLEAR_BLOCK (NO_VALIDATE);&amp;#10;&#x9;--:ITEMCOMPRA.QT_PREVISTA := 0;&amp;#10;&#x9;PACK_GRUPO_NEGOCIO.DELETA_GRUPO_NEGOCIO(:ITEMCOMPRANEGOCIO.CD_ITEM);&amp;#10;&#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="QT_TOTAL" Justification="Final" Width="70" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="822" YPosition="300" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true" Tooltip="Soma das Quantidades"
                  CanvasName="CAN_ITEMCOMPRANEGOCIO" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" FormatMask="FM999G999G990D000"
                  SummaryFunction="Soma" SummaryItemName="QT_PEDIDAUNIDSOL" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  SummaryBlockName="ITEMCOMPRANEGOCIO" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Resumo" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="PC_TOTAL" Justification="Final" Width="64" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="r100g100b88" XPosition="893" YPosition="300" DatabaseItem="false" Bevel="Nenhum"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  Tooltip="Soma dos Percentuais de Participação" CanvasName="CAN_ITEMCOMPRANEGOCIO"
                  CaseInsensitiveQuery="false" CaseRestriction="Misto" CheckBoxOtherValues="Marcado"
                  PromptReadingOrder="Padrão" PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar"
                  PromptAttachmentOffset="6" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="true" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" FormatMask="FM999G990D00&quot;%&quot;" SummaryFunction="Soma"
                  SummaryItemName="PC_PARTICIPACAO" ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Exibição" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" ValidateFromList="false" LovXPosition="0"
                  LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true"
                  SummaryBlockName="ITEMCOMPRANEGOCIO" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Resumo" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="CD_CONTAORCAMENTO" DirtyInfo="true" Width="110" Height="21"/>
            <Trigger Name="KEY-DELREC" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;&#x9;DELETE_RECORD;&amp;#10;END;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="POST-QUERY" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="&amp;#10;NULL;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-BLOCK" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_ITEMCOMPRANEGOCIO');"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="KEY-UP" TriggerInternalType="0" DirtyInfo="true" Hide="false" ExecuteHierarchy="Sobreposição"
                     FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="IF :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL OR :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL THEN&amp;#10;&#x9;DELETE_RECORD;&amp;#10;END IF;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="&amp;#10;&amp;#10;--GDG:22/07/2011:28715 Habilita ou desabilita o campo CD_EMPRCCUSTODEST na tela&amp;#10;BEGIN&amp;#10;&#x9;/*IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('REC',10,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_EMPRESADESTCUSTO'), 'N') = 'S' THEN&amp;#10;&#x9;  IF GET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) =  'VSA_CAMPOEXIBICAO' THEN&#x9;&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , VISUAL_ATTRIBUTE, 'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , INSERT_ALLOWED, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , UPDATE_ALLOWED, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , NAVIGABLE, PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST', VISUAL_ATTRIBUTE) =  'VSA_CAMPOTEXTO' THEN&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , INSERT_ALLOWED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , UPDATE_ALLOWED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST' , NAVIGABLE, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;&#x9;---:CONTROLE.LST_AUTOSUGESTAO := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO(:GLOBAL.CD_MODULO, :GLOBAL.CD_PROGRAMA, 'MAX', :GLOBAL.CD_EMPRESA, 'ST_AUTOSUGESTAO'),2);&amp;#10;&#x9;&amp;#10;&#x9;IF (NVL(:ITEMCOMPRANEGOCIO.PC_TOTAL,0) = 100) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*IF (:ITEMCOMPRANEGOCIO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRANEGOCIO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" DirtyInfo="true"
                     TriggerText=" NULL;&amp;#10;/*&amp;#10;DECLARE&amp;#10;&#x9;V_ST_VALIDAUTCCUSTOCOM001 VARCHAR2(1);&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONTROLE.CD_EMPRESA IS NOT NULL THEN&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;V_ST_VALIDAUTCCUSTOCOM001 := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;&#x9;                                                                     9,&amp;#10;&#x9;                                                                     :GLOBAL.CD_USUARIO,&amp;#10;&#x9;                                                                     NVL(:CONTROLE.CD_EMPRESA, :GLOBAL.CD_EMPRESA),&amp;#10;&#x9;                                                                     'ST_VALIDAUTCCUSTOCOM001'),'N');&#x9;                                                                    &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;-- VALIDAÇÕES&amp;#10;&#x9;&#x9;IF V_ST_VALIDAUTCCUSTOCOM001 = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(1545, '¢NM_CAMPO='||'Empresa'||'¢');&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;END;*/"/>
            <Trigger Name="WHEN-VALIDATE-RECORD" DirtyInfo="true"
                     TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&#x9;/*IF (:ITEMCOMPRANEGOCIO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRANEGOCIO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;IF&#x9;(:ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20689, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF&#x9;(:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(10928, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&#x9;&amp;#10;&#x9;&#x9;ELSIF&#x9;(:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL IS NULL) AND (:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20920, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;&#x9;IF (NVL(:ITEMCOMPRANEGOCIO.PC_TOTAL,0) = 100) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRANEGOCIO.BTN_OK',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*&amp;#10;&#x9;IF (:ITEMCOMPRANEGOCIO.QT_TOTAL IS NOT NULL) OR (:ITEMCOMPRANEGOCIO.PC_TOTAL IS NOT NULL) THEN&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.LST_AUTOSUGESTAO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;END IF;*/&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;  MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
        </Block>
        <Block Name="PROJETOITEMCOMPRA" RecordsDisplayCount="1" DirtyInfo="true"
               ScrollbarCanvasName="CAN_PROJETOITEMCOMPRA" ScrollbarTabPageName="" ScrollbarWidth="16"
               ScrollbarXPosition="958" ScrollbarYPosition="88" ShowScrollbar="false" ScrollbarLength="211">
            <Item Name="CD_EMPRESA" DirtyInfo="true" TabPageName="" Width="110" CanvasName="" Height="21"/>
            <Item Name="CD_ITEM" Justification="Centralizado" Width="62" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="95" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Item"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Item" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="7"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_ITEM" Justification="Iniciar" Width="358" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="158" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição do Item"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="DS_UNIDMED" Justification="Iniciar" Width="86" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="739" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Unidade de Medida do Item"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Todos os Registros"
                  ShowVerticalScrollbar="false"/>
            <Item Name="QT_PREVISTA" Justification="Direita" Width="95" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="643" YPosition="34" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Quantidade a Solicitar"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" Prompt="Quantidade Total" PromptReadingOrder="Padrão"
                  PromptJustification="Iniciar" PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="6"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  FormatMask="FM999G999G999D000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" SoundFormat="WAVE" AudioChannels="Automático" ShowHorizontalScrollbar="false"
                  Compress="Automático" SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono"
                  InsertAllowed="true" ItemType="Item de Exibição" UpdateCommit="true" DataType="Number"
                  UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="20" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum"
                  PromptDisplayStyle="Todos os Registros" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ESTUDO" Justification="Centralizado" Width="80" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="80" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName=""
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado" Prompt="Projeto"
                  PromptReadingOrder="Padrão" PromptJustification="Centralizado" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="false" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;E_GERAL        EXCEPTION; &amp;#10;BEGIN&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT PROJETOMONI.CD_PROJETO, &amp;#10;&#x9;&#x9;       ESTUDOMONI.NM_ESTUDO&amp;#10;&#x9;&#x9;  INTO :PROJETOITEMCOMPRA.CD_PROJETO, &amp;#10;&#x9;&#x9;       :PROJETOITEMCOMPRA.DS_PROJETO&amp;#10;&#x9;&#x9;  FROM PROJETOMONI, ESTUDOMONI&amp;#10;&#x9;&#x9; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO = :PROJETOITEMCOMPRA.CD_PROJETO&amp;#10;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO IN (SELECT MAX(NR_VERSAO)&amp;#10;&#x9;&#x9;                                   FROM PROJETOMONI PROJ&amp;#10;&#x9;&#x9;                                  WHERE PROJETOMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;&#x9;&#x9;                                    AND PROJETOMONI.CD_PROJETO = PROJ.CD_PROJETO);&amp;#10;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;END;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="CD_PROJETO" Justification="Centralizado" Width="80" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="80" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Projeto" PromptReadingOrder="Padrão"
                  PromptJustification="Centralizado" PromptAttachmentEdge="Superior" PromptAttachmentOffset="2"
                  PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false"
                  TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true"
                  DefaultButton="false" InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true"
                  EditXPosition="0" EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="21"
                  Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_PROJETOMONI" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="4" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;E_GERAL        EXCEPTION; &amp;#10;BEGIN&amp;#10;&#x9;IF :PROJETOITEMCOMPRA.CD_PROJETO IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DISTINCT PROJETOMONI.CD_ESTUDO, &amp;#10;&#x9;&#x9;&#x9;                PROJETOMONI.CD_PROJETO, &amp;#10;&#x9;&#x9;&#x9;                PROJETOMONI.NR_VERSAO, &amp;#10;&#x9;&#x9;&#x9;                ESTUDOMONI.NM_ESTUDO&amp;#10;&#x9;&#x9;&#x9;  INTO :PROJETOITEMCOMPRA.CD_ESTUDO, &amp;#10;&#x9;&#x9;&#x9;       :PROJETOITEMCOMPRA.CD_PROJETO, &amp;#10;&#x9;&#x9;&#x9;       :PROJETOITEMCOMPRA.NR_VERSAO, &amp;#10;&#x9;&#x9;&#x9;       :PROJETOITEMCOMPRA.DS_PROJETO&amp;#10;&#x9;&#x9;&#x9;  FROM PROJETOMONI,&amp;#10;&#x9;&#x9;&#x9;       ESTUDOMONI,&amp;#10;&#x9;&#x9;&#x9;       ORCAMENTOMONI,&amp;#10;&#x9;&#x9;&#x9;       GRUPOMOVIMENTACAOMONI,&amp;#10;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI&amp;#10;&#x9;&#x9;&#x9; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;&#x9; AND ORCAMENTOMONI.CD_ESTUDO = PROJETOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_PROJETO = PROJETOMONI.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.NR_VERSAO = PROJETOMONI.NR_VERSAO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;&#x9;&#x9;&#x9;       GRUPOMOVIMENTACAOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO = :PROJETOITEMCOMPRA.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO IN (SELECT MAX(NR_VERSAO)&amp;#10;&#x9;&#x9;&#x9;                                   FROM PROJETOMONI PROJ&amp;#10;&#x9;&#x9;&#x9;                                  WHERE PROJETOMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;                                    AND PROJETOMONI.CD_PROJETO = PROJ.CD_PROJETO);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32294, '¢CD_PROJETO='||:PROJETOITEMCOMPRA.CD_PROJETO||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32295, '¢CD_PROJETO='||:PROJETOITEMCOMPRA.CD_PROJETO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:PROJETOITEMCOMPRA.DS_PROJETO := NULL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="NR_VERSAO" Justification="Centralizado" Width="80" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="25" YPosition="80" DatabaseItem="true" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código do Centro de Custo" CanvasName=""
                  CaseInsensitiveQuery="false" CaseRestriction="Superior" CheckBoxOtherValues="Marcado" Prompt="Projeto"
                  PromptReadingOrder="Padrão" PromptJustification="Centralizado" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="2" PromptAlign="Centralizado" PromptAlignOffset="0" TreeAllowEmpBranch="false"
                  TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true" ImageFormat="TIFF"
                  ImageDepth="Original" DirtyInfo="true" DefaultButton="false" InitializeKeyboardDirection="Padrão"
                  LanguageDirection="Padrão" Visible="false" EditXPosition="0" EditYPosition="0" Enabled="true"
                  FixedLength="false" FontSize="1000" SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1"
                  Height="21" Hint="Código do Centro de Custo" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Texto" UpdateCommit="true"
                  DataType="Number" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false" LovName=""
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="4"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="true" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="VSA_SELECIONADO" Rendered="true"
                  Required="false" PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true"
                  ShowRecord="false" ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true"
                  PromptFontSize="900" KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true"
                  UpdateIfNull="false" VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado"
                  CalculateMode="Nenhum" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"
                  PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;E_GERAL        EXCEPTION; &amp;#10;BEGIN&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT PROJETOMONI.CD_PROJETO, &amp;#10;&#x9;&#x9;       ESTUDOMONI.NM_ESTUDO&amp;#10;&#x9;&#x9;  INTO :PROJETOITEMCOMPRA.CD_PROJETO, &amp;#10;&#x9;&#x9;       :PROJETOITEMCOMPRA.DS_PROJETO&amp;#10;&#x9;&#x9;  FROM PROJETOMONI, ESTUDOMONI&amp;#10;&#x9;&#x9; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO = :PROJETOITEMCOMPRA.CD_PROJETO&amp;#10;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO IN (SELECT MAX(NR_VERSAO)&amp;#10;&#x9;&#x9;                                   FROM PROJETOMONI PROJ&amp;#10;&#x9;&#x9;                                  WHERE PROJETOMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;&#x9;&#x9;                                    AND PROJETOMONI.CD_PROJETO = PROJ.CD_PROJETO);&amp;#10;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;END;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_PROJETO" Justification="Iniciar" Width="319" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="106" YPosition="80" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Nome do Autorizador"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Esquerda"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" SummaryFunction="Nenhum" ExecuteMode="Batch"
                  ItemsDisplay="0" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="true" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  ValidateFromList="false" LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="60"
                  CompressionQuality="Mínimo" MouseNavigate="true" MultiLine="false" KeyboardNavigable="true"
                  OleActionStyle="Clique Duplo" OleInsideOutSupport="true" OleInPlaceAction="true"
                  OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="" Rendered="true" Required="false"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" KeyboardState="Qualquer um"
                  ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false" VisualAttributeName="VSA_CAMPOEXIBICAO"
                  CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro" ShowVerticalScrollbar="false"/>
            <Item Name="CD_ETAPA" Justification="Centralizado" Width="80" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="426" YPosition="80" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Código da Movimentação"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Superior"
                  CheckBoxOtherValues="Marcado" Prompt="Etapa" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Centralizado"
                  PromptAlignOffset="0" TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true"
                  TreeShowSymbol="true" ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" Hint="Código da Movimentação" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Item de Texto" UpdateCommit="true" DataType="Number" UpdateQuery="true"
                  KeepCursorPosition="false" LockRecord="false" LovName="LOV_ETAPAMONI" ValidateFromList="false"
                  LovXPosition="0" LovYPosition="0" ListStyle="Poplist" MaximumLength="5" CompressionQuality="Mínimo"
                  MouseNavigate="true" MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo"
                  OleInsideOutSupport="true" OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true"
                  OleTenantTypeAspect="Conteúdo" OleTenantTypeType="Qualquer um" PrimaryKey="false"
                  PromptVisualAttributeName="VSA_PROMPT" QueryAllowed="true" QueryLength="0" QueryOnly="false"
                  DisplayQuality="Superior" ReadingOrder="Padrão" DistanceBetweenRecords="0"
                  RecordVisualAttributeGroupName="" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOTEXTO" PromptFontStyle="Sublinhado" CalculateMode="Nenhum"
                  PromptFontWeight="Semiclaro" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-VALIDATE-ITEM" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;E_GERAL        EXCEPTION; &amp;#10;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;IF :PROJETOITEMCOMPRA.CD_ETAPA IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT ETAPAMONI.CD_ETAPA, &amp;#10;&#x9;&#x9;&#x9;       ETAPAMONI.DS_ETAPA&amp;#10;&#x9;&#x9;&#x9;  INTO :PROJETOITEMCOMPRA.CD_ETAPA,&amp;#10;&#x9;&#x9;&#x9;       :PROJETOITEMCOMPRA.DS_ETAPA&amp;#10;&#x9;&#x9;&#x9;  FROM ETAPAMONI,&amp;#10;&#x9;&#x9;&#x9;       PROJETOMONI,&amp;#10;&#x9;&#x9;&#x9;       ESTUDOMONI,&amp;#10;&#x9;&#x9;&#x9;       ORCAMENTOMONI,&amp;#10;&#x9;&#x9;&#x9;       GRUPOMOVIMENTACAOMONI,&amp;#10;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI&amp;#10;&#x9;&#x9;&#x9; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;&#x9; AND ORCAMENTOMONI.CD_ESTUDO = PROJETOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_PROJETO = PROJETOMONI.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.NR_VERSAO = PROJETOMONI.NR_VERSAO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;&#x9;&#x9;&#x9;       GRUPOMOVIMENTACAOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_ESTUDO = ETAPAMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO = ETAPAMONI.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO = ETAPAMONI.NR_VERSAO&amp;#10;         AND ETAPAMONI.CD_ETAPA = ORCAMENTOMONI.CD_ETAPA&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO = :PROJETOITEMCOMPRA.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND ETAPAMONI.CD_ETAPA = :PROJETOITEMCOMPRA.CD_ETAPA&amp;#10;&#x9;&#x9;&#x9;   AND ETAPAMONI.NR_VERSAO IN (SELECT MAX(NR_VERSAO)&amp;#10;&#x9;&#x9;                                   FROM PROJETOMONI PROJ&amp;#10;&#x9;&#x9;                                  WHERE ETAPAMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;&#x9;&#x9;                                    AND ETAPAMONI.CD_PROJETO = PROJ.CD_PROJETO);&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32296, '¢CD_ETAPA='||:PROJETOITEMCOMPRA.CD_ETAPA||'¢CD_PROJETO='||:PROJETOITEMCOMPRA.CD_PROJETO||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32297, '¢CD_ETAPA='||:PROJETOITEMCOMPRA.CD_ETAPA||'¢CD_PROJETO='||:PROJETOITEMCOMPRA.CD_PROJETO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:PROJETOITEMCOMPRA.DS_ETAPA := NULL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="DS_ETAPA" Justification="Iniciar" Width="319" WrapStyle="Palavra" AutoSkip="false"
                  XPosition="507" YPosition="80" DatabaseItem="false" Bevel="Nenhum" OlePopupMenuItems="-1"
                  AutoHint="false" OleShowTenantTypeType="true" Tooltip="Descrição da Movimentação"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Superior" PromptAttachmentOffset="2" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontSize="1000" SummaryFunction="Nenhum"
                  ExecuteMode="Batch" ItemsDisplay="1" Height="21" SoundFormat="WAVE" AudioChannels="Automático"
                  ShowHorizontalScrollbar="false" Compress="Automático" SoundQuality="Automático" Iconic="false"
                  TabPageName="" CommMode="Síncrono" InsertAllowed="false" ItemType="Item de Exibição"
                  UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false" LockRecord="false"
                  LovName="LOV_PARMOVIMENTNEGOCIO" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="60" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="VSA_PROMPT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" RecordVisualAttributeGroupName="" Rendered="true" Required="false"
                  PromptFontName="Tahoma" ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false"
                  ShowRewind="false" ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="900"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="false" UpdateIfNull="false"
                  VisualAttributeName="VSA_CAMPOEXIBICAO" CalculateMode="Nenhum" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false"/>
            <Item Name="BTN_OK" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="711" YPosition="123" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;OK" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="DECLARE&amp;#10;&#x9;E_GERAL &#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;E_ALERTA&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;&#x9;--GDG:01/08/2011:28715&amp;#10;&#x9;VALIDATE(ITEM_SCOPE);&amp;#10;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;VALIDATE(RECORD_SCOPE);&amp;#10;&#x9;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF :PROJETOITEMCOMPRA.CD_PROJETO IS NOT NULL AND :PROJETOITEMCOMPRA.CD_ETAPA IS NOT NULL THEN&amp;#10;&#x9;  :ITEMCOMPRA.CD_ESTUDOMONI := :PROJETOITEMCOMPRA.CD_ESTUDO;&amp;#10;&#x9;  :ITEMCOMPRA.CD_PROJETOMONI := :PROJETOITEMCOMPRA.CD_PROJETO;&amp;#10;&#x9;  :ITEMCOMPRA.NR_VERSAOMONI := :PROJETOITEMCOMPRA.NR_VERSAO;&amp;#10;&#x9;  :ITEMCOMPRA.CD_ETAPAMONI   := :PROJETOITEMCOMPRA.CD_ETAPA;&amp;#10;&#x9;END IF;&amp;#10;&#x9;:ITEMCOMPRA.ST_PROJETOMONI := 'S';&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;  EXECUTE_TRIGGER('KEY-COMMIT');&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_ALERTA THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Item Name="BT_CANCELAR" Justification="Iniciar" Width="117" WrapStyle="Palavra" AutoSkip="false"
                  BackColor="white" XPosition="564" YPosition="123" DatabaseItem="false" Bevel="Diminuído"
                  OlePopupMenuItems="-1" AutoHint="false" OleShowTenantTypeType="true"
                  CanvasName="CAN_PROJETOITEMCOMPRA" CaseInsensitiveQuery="false" CaseRestriction="Misto"
                  CheckBoxOtherValues="Marcado" PromptReadingOrder="Padrão" PromptJustification="Iniciar"
                  PromptAttachmentEdge="Iniciar" PromptAttachmentOffset="0" PromptAlign="Iniciar" PromptAlignOffset="0"
                  TreeAllowEmpBranch="false" TreeMultiSelect="false" TreeShowLines="true" TreeShowSymbol="true"
                  ImageFormat="TIFF" ImageDepth="Original" DirtyInfo="true" DefaultButton="false"
                  InitializeKeyboardDirection="Padrão" LanguageDirection="Padrão" Visible="true" EditXPosition="0"
                  EditYPosition="0" Enabled="true" FixedLength="false" FontName="MS Sans Serif" FontSize="1000"
                  FontStyle="Simples" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black"
                  SummaryFunction="Nenhum" ExecuteMode="Batch" ItemsDisplay="1" Height="26" SoundFormat="WAVE"
                  AudioChannels="Automático" ShowHorizontalScrollbar="false" Compress="Automático"
                  SoundQuality="Automático" Iconic="false" TabPageName="" CommMode="Síncrono" InsertAllowed="true"
                  ItemType="Tecla" UpdateCommit="true" DataType="Char" UpdateQuery="true" KeepCursorPosition="false"
                  Label="&amp;Cancelar" LockRecord="false" ValidateFromList="false" LovXPosition="0" LovYPosition="0"
                  ListStyle="Poplist" MaximumLength="30" CompressionQuality="Mínimo" MouseNavigate="true"
                  MultiLine="false" KeyboardNavigable="true" OleActionStyle="Clique Duplo" OleInsideOutSupport="true"
                  OleInPlaceAction="true" OleResizStyle="Escala" OleShowPopupMenu="true" OleTenantTypeAspect="Conteúdo"
                  OleTenantTypeType="Qualquer um" PrimaryKey="false" PromptVisualAttributeName="DEFAULT"
                  QueryAllowed="true" QueryLength="0" QueryOnly="false" DisplayQuality="Superior" ReadingOrder="Padrão"
                  DistanceBetweenRecords="0" Rendered="true" Required="false" PromptFontName="Tahoma"
                  ConcealData="false" SizingStyle="Recortar" ShowPlay="true" ShowRecord="false" ShowRewind="false"
                  ShowFastForward="false" ShowVolume="true" ShowTime="true" PromptFontSize="1000"
                  KeyboardState="Qualquer um" ShowSlider="true" UpdateAllowed="true" UpdateIfNull="false"
                  VisualAttributeName="VSA_BOTAO_NORMAL" PromptFontStyle="Simples" CalculateMode="Nenhum"
                  PromptFontWeight="Médio" PromptFontSpacing="Normal" PromptDisplayStyle="Primeiro Registro"
                  ShowVerticalScrollbar="false">
                <Trigger Name="WHEN-BUTTON-PRESSED" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                         ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                         TriggerText="BEGIN&amp;#10;  CLEAR_BLOCK (NO_VALIDATE);&amp;#10;&#x9;--:ITEMCOMPRA.QT_PREVISTA := 0;&amp;#10;&#x9;GO_ITEM('ITEMCOMPRA.QT_PREVISTA');&amp;#10;END;"
                         DisplayInKeyboardHelp="false"/>
            </Item>
            <Trigger Name="KEY-DELREC" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;&#x9;NULL;&amp;#10;END;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="POST-QUERY" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="&amp;#10;NULL;" DisplayInKeyboardHelp="false"/>
            <Trigger Name="PRE-BLOCK" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_PROJETOITEMCOMPRA');"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-BLOCK-INSTANCE" TriggerInternalType="0" DirtyInfo="true" Hide="false"
                     ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                     TriggerText="BEGIN&amp;#10;  :PROJETOITEMCOMPRA.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;  :PROJETOITEMCOMPRA.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;  :PROJETOITEMCOMPRA.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;  :PROJETOITEMCOMPRA.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;  :PROJETOITEMCOMPRA.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;END;"
                     DisplayInKeyboardHelp="false"/>
            <Trigger Name="WHEN-NEW-RECORD-INSTANCE" DirtyInfo="true"
                     TriggerText="NULL;&amp;#10;/*&amp;#10;DECLARE&amp;#10;&#x9;V_ST_VALIDAUTCCUSTOCOM001 VARCHAR2(1);&amp;#10;BEGIN&#x9;&amp;#10;&#x9;IF :CONTROLE.CD_EMPRESA IS NOT NULL THEN&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;V_ST_VALIDAUTCCUSTOCOM001 := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;&#x9;                                                                     9,&amp;#10;&#x9;                                                                     :GLOBAL.CD_USUARIO,&amp;#10;&#x9;                                                                     NVL(:CONTROLE.CD_EMPRESA, :GLOBAL.CD_EMPRESA),&amp;#10;&#x9;                                                                     'ST_VALIDAUTCCUSTOCOM001'),'N');&#x9;                                                                    &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;-- VALIDAÇÕES&amp;#10;&#x9;&#x9;IF V_ST_VALIDAUTCCUSTOCOM001 = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(1545, '¢NM_CAMPO='||'Empresa'||'¢');&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;END;*/"/>
        </Block>
        <Block Name="PREITEMCOMPRA" RecordsDisplayCount="20" ParentModule="BIB004" ParentModuleType="25"
               ParentName="BLOCO_SIMPLES_GRID" ParentFilename="BIB004.OLB" DirtyInfo="true"
               ScrollbarCanvasName="CAN_PREITEMCOMPRA" DatabaseBlock="false" ScrollbarTabPageName="" ScrollbarWidth="16"
               ScrollbarXPosition="974" ScrollbarYPosition="42" ParentType="29" ShowScrollbar="true"
               ScrollbarLength="421">
            <Item Name="ST_MARCADO" DistanceBetweenRecords="0" Width="13" MaximumLength="1" XPosition="27"
                  YPosition="42" DatabaseItem="false" AutoHint="false" PromptFontName="Tahoma" Tooltip=""
                  CanvasName="CAN_PREITEMCOMPRA" CheckBoxOtherValues="Desmarcado" Height="21" Hint="" Prompt=""
                  CheckedValue="1" PromptJustification="Centralizado" PromptAttachmentEdge="Superior"
                  PromptAttachmentOffset="107" PromptAlign="Centralizado" PromptAlignOffset="49" PromptFontSize="900"
                  ItemType="Caixa de Seleção" DataType="Number" InitializeValue="0" UncheckedValue="0"
                  PromptForegroundColor="r0g25b50" DirtyInfo="true" VisualAttributeName="VSA_CHECKBOX" Label=""
                  PromptFontStyle="Simples" PromptFontWeight="Claro" PromptFontSpacing="Normal"/>
            <Item Name="NR_ITEMCOMPRA" Prompt="Item Compra" PromptJustification="Centralizado"
                  Justification="Centralizado" PromptAlign="Centralizado" Width="79" InsertAllowed="false"
                  MaximumLength="8" ItemType="Item de Texto" DataType="Number" UpdateAllowed="false"
                  ParentModule="BIB004" XPosition="45" ParentModuleType="25" YPosition="43" DatabaseItem="false"
                  ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  CanvasName="CAN_PREITEMCOMPRA" CaseRestriction="Superior" ParentType="29"/>
            <Item Name="DS_PREITEMCOMPRA" Prompt="Descrição Item" PromptJustification="Centralizado"
                  PromptAlign="Iniciar" PromptAlignOffset="6" Width="250" InsertAllowed="false" MaximumLength="60"
                  ItemType="Item de Texto" DataType="Char" UpdateAllowed="false" ParentModule="BIB004" XPosition="125"
                  ParentModuleType="25" YPosition="43" DatabaseItem="false" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" DirtyInfo="true" CanvasName="CAN_PREITEMCOMPRA" CaseRestriction="Misto"
                  ParentType="29"/>
            <Item Name="CD_ITEMAXYS" Prompt="Cód. Item &amp;#10;Maxys" PromptJustification="Centralizado"
                  Justification="Centralizado" PromptAlign="Centralizado" Width="80" InsertAllowed="true"
                  MaximumLength="7" ItemType="Item de Texto" DataType="Number" UpdateAllowed="true"
                  ParentModule="BIB004" XPosition="376" ParentModuleType="25" YPosition="43" DatabaseItem="false"
                  ParentName="ITEM_TEXTO_GRID" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  CanvasName="CAN_PREITEMCOMPRA" ParentType="29" LovName="LOV_ITEMPRECOMPRA">
                <Trigger Name="WHEN-VALIDATE-ITEM" DirtyInfo="true"
                         TriggerText=":PREITEMCOMPRA.DS_ITEMAXYS := PACK_VALIDATE.RETORNA_DS_ITEM(I_CD_ITEM => :PREITEMCOMPRA.CD_ITEMAXYS);"/>
            </Item>
            <Item Name="QT_ITEM" Prompt="Quantidade" PromptJustification="Centralizado" Justification="Final"
                  PromptAlign="Final" PromptAlignOffset="7" Width="100" InsertAllowed="false" MaximumLength="15"
                  ItemType="Item de Texto" DataType="Number" UpdateAllowed="false" ParentModule="BIB004" XPosition="457"
                  ParentModuleType="25" YPosition="43" DatabaseItem="false" ParentName="ITEM_EXIBICAO_GRID"
                  ParentFilename="BIB004.OLB" DirtyInfo="true" FormatMask="FM999G999G999D000"
                  CanvasName="CAN_PREITEMCOMPRA" CaseRestriction="Superior" ParentType="29"/>
            <Item Name="DS_OBSERVACAO" Prompt="Observação" PromptJustification="Iniciar" PromptAlign="Iniciar"
                  Width="327" InsertAllowed="false" MaximumLength="600" ItemType="Item de Texto" DataType="Char"
                  UpdateAllowed="false" ParentModule="BIB004" XPosition="558" ParentModuleType="25" YPosition="43"
                  DatabaseItem="false" ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  FormatMask="" CanvasName="CAN_PREITEMCOMPRA" CaseRestriction="Misto" ParentType="29"/>
            <Item Name="NR_AGRUPAMENTO" Prompt="Lote Compra" PromptJustification="Centralizado"
                  Justification="Centralizado" DistanceBetweenRecords="0" Width="79" InsertAllowed="false"
                  MaximumLength="8" ItemType="Item de Texto" DataType="Number" RecordVisualAttributeGroupName=""
                  UpdateAllowed="false" ParentModule="BIB004" XPosition="125" ParentModuleType="25" YPosition="464"
                  DatabaseItem="false" ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1" ParentType="29"/>
            <Item Name="DS_ITEMAXYS" Prompt="Descrição Item Maxys" PromptJustification="Centralizado"
                  DistanceBetweenRecords="0" Width="250" InsertAllowed="false" MaximumLength="60"
                  ItemType="Item de Texto" DataType="Char" RecordVisualAttributeGroupName="" UpdateAllowed="false"
                  ParentModule="BIB004" XPosition="376" ParentModuleType="25" YPosition="464" DatabaseItem="false"
                  ParentName="ITEM_EXIBICAO_NORMAL" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1" ParentType="29" LovName="LOV_ITEMPRECOMPRA"/>
            <Item Name="QT_SELECIONADOS" DatabaseItem="false" DirtyInfo="true" TabPageName="" Width="100"
                  CalculateMode="Resumo" CanvasName="" SummaryBlockName="PREITEMCOMPRA" SummaryFunction="Soma"
                  SummaryItemName="ST_MARCADO" DataType="Number" Height="21"/>
            <Item Name="DT_DESEJADA" Prompt="Data Desejada" Justification="Centralizado" TabPageName=""
                  PromptAlignOffset="3" Width="85" MaximumLength="10" DataType="Date" ParentModule="BIB004"
                  XPosition="886" ParentModuleType="25" YPosition="43" DatabaseItem="false"
                  ParentName="ITEM_EXIBICAO_GRID" ParentFilename="BIB004.OLB" DirtyInfo="true" FormatMask="DD/MM/RRRR"
                  CanvasName="CAN_PREITEMCOMPRA" ParentType="29" Height="21"/>
            <Item Name="BT_CONFIRMAR" Width="100" ItemType="Tecla" BackColor="gray8" ParentModule="BIB004"
                  XPosition="780" FontName="MS Sans Serif" ParentModuleType="25" YPosition="526"
                  ParentName="BOTAO_NORMAL" FontSize="1000" ParentFilename="BIB004.OLB" DirtyInfo="true"
                  Label="&amp;Confirmar" ForegroundColor="r0g25b50" CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1"
                  ParentType="29" Height="24">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;  TYPE R_PREITEMCOMPRA IS RECORD (NR_PREITEMCOMPRA PREITEMCOMPRA.NR_PREITEMCOMPRA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      CD_ITEM          PREITEMCOMPRA.CD_ITEM%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      QT_ITEM          PREITEMCOMPRA.QT_ITEM%TYPE);&amp;#10;  &amp;#10;  TYPE T_PREITEMCOMPRA IS TABLE OF R_PREITEMCOMPRA INDEX BY BINARY_INTEGER;&amp;#10;&#x9;&amp;#10;&#x9;V_PREITEMCOMPRA  T_PREITEMCOMPRA;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9; VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9; EXCEPTION;&amp;#10;&#x9;V                NUMBER;&amp;#10;&#x9;V_DT_DESEJADA&#x9;&#x9; PREITEMCOMPRA.DT_DESEJADA%TYPE;&amp;#10;BEGIN&amp;#10;&#x9;IF NVL(:PREITEMCOMPRA.QT_SELECIONADOS, 0) = 0 THEN&amp;#10;&#x9;&#x9;/*Deve ser selecionado ao menos um item.*/&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(34157, NULL);&amp;#10;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;IF (SHOW_ALERT('CONFIRMA_PREITEMCOMPRA') &lt;> ALERT_BUTTON1) THEN&amp;#10;&#x9;&#x9;/*Processo abortado pelo usuário.*/&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20773, NULL);&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;V_PREITEMCOMPRA.DELETE;&amp;#10;&#x9;V := 1;&amp;#10;&amp;#10;&#x9;GO_BLOCK('PREITEMCOMPRA');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;IF (:PREITEMCOMPRA.ST_MARCADO = 1) THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF (:PREITEMCOMPRA.CD_ITEMAXYS IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*O Item deve ser informado.*/&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2624, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;V_PREITEMCOMPRA(V).NR_PREITEMCOMPRA := :PREITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;V_PREITEMCOMPRA(V).CD_ITEM&#x9;        := :PREITEMCOMPRA.CD_ITEMAXYS;&amp;#10;&#x9;&#x9;&#x9;V_PREITEMCOMPRA(V).QT_ITEM&#x9;&#x9;&#x9;&#x9;  := :PREITEMCOMPRA.QT_ITEM;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF ((V_DT_DESEJADA IS NULL) OR (V_DT_DESEJADA > :PREITEMCOMPRA.DT_DESEJADA)) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_DT_DESEJADA := :PREITEMCOMPRA.DT_DESEJADA;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF (:PREITEMCOMPRA.ST_MARCADO = 1) THEN&amp;#10;&#x9;&#x9;&#x9;V := V + 1;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END LOOP;&amp;#10;&amp;#10;&#x9;:CONTROLE.DT_DESEJADA := V_DT_DESEJADA;&amp;#10;&#x9;:CONTROLE.CD_EMPRESA := :GLOBAL.CD_EMPRESA;&amp;#10;&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;&amp;#10;&#x9;FOR I IN 1..V_PREITEMCOMPRA.COUNT LOOP&amp;#10;&#x9;&#x9;:ITEMCOMPRA.NR_PREITEMCOMPRA := V_PREITEMCOMPRA(I).NR_PREITEMCOMPRA;&amp;#10;&#x9;&#x9;:ITEMCOMPRA.CD_ITEM          := V_PREITEMCOMPRA(I).CD_ITEM;&amp;#10;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA&#x9;&#x9;&#x9; := V_PREITEMCOMPRA(I).QT_ITEM;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END LOOP;&amp;#10;&#x9;&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA, 3, 0)||' - Erro', V_MENSAGEM, 1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA, 3, 0)||' - Erro', SQLERRM, 1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
            <Item Name="BT_FECHAR" Width="100" ItemType="Tecla" BackColor="gray8" ParentModule="BIB004" XPosition="896"
                  FontName="MS Sans Serif" ParentModuleType="25" YPosition="526" ParentName="BOTAO_NORMAL"
                  FontSize="1000" ParentFilename="BIB004.OLB" DirtyInfo="true" Label="&amp;Fechar"
                  ForegroundColor="r0g25b50" CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1" ParentType="29"
                  Height="24">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true" TriggerText="GO_ITEM('CONTROLE.CD_EMPRESA');"/>
            </Item>
            <Item Name="ITEM189" Iconic="false" Width="112" ItemType="Tecla" BackColor="gray8" XPosition="25"
                  FontName="MS Sans Serif" YPosition="526" FontSize="1000" FontStyle="Simples" DirtyInfo="true"
                  VisualAttributeName="VSA_BOTAO_NORMAL" FontWeight="Semiclaro" Label="Cancelar Solic."
                  FontSpacing="Normal" ForegroundColor="r0g25b50" CanvasName="CAN_PREITEMCOMPRA" ItemsDisplay="1"
                  Height="24">
                <Trigger Name="WHEN-BUTTON-PRESSED" DirtyInfo="true"
                         TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;       VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;       EXCEPTION;&amp;#10;&#x9;V_COUNTITEMCOMPRA&#x9;&#x9;   NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;IF NVL(:PREITEMCOMPRA.QT_SELECIONADOS, 0) = 0 THEN&amp;#10;&#x9;&#x9;/*Deve ser selecionado ao menos um item.*/&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(34157, NULL);&amp;#10;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;IF (SHOW_ALERT('CANCELA_PREITEMCOMPRA') &lt;> ALERT_BUTTON1) THEN&amp;#10;&#x9;&#x9;/*Processo abortado pelo usuário.*/&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20773, NULL);&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;GO_BLOCK('PREITEMCOMPRA');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;IF (:PREITEMCOMPRA.ST_MARCADO = 1) THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;UPDATE PREITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;   SET PREITEMCOMPRA.ST_PREITEMCOMPRA = '9'&amp;#10;&#x9;&#x9;&#x9; WHERE PREITEMCOMPRA.NR_PREITEMCOMPRA = :PREITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;    NULL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END LOOP;&amp;#10;&amp;#10;  FAZ_COMMIT;&amp;#10;  &amp;#10;&#x9;/*Solicitações de compra Canceladas.*/&amp;#10;&#x9;MENSAGEM_PADRAO(34180, NULL);&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;INTO V_COUNTITEMCOMPRA&amp;#10;&#x9;&#x9;  FROM PREITEMCOMPRA&amp;#10;&#x9;&#x9; WHERE PREITEMCOMPRA.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND PREITEMCOMPRA.ST_PREITEMCOMPRA = '1';&#x9;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  V_COUNTITEMCOMPRA := 0;&amp;#10;&#x9;END;&amp;#10;&amp;#10;&#x9;IF (V_COUNTITEMCOMPRA > 0) THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PREITEMCOMPRA.CARREGA_PREITEMCOMPRA(V_MENSAGEM);&amp;#10;&amp;#10;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_ITEM('CONTROLE.CD_EMPRESA');&amp;#10;  END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA, 3, 0)||' - Erro', V_MENSAGEM, 1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA, 3, 0)||' - Erro', SQLERRM, 1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"/>
            </Item>
        </Block>
        <Canvas Name="CAN_ITEMCOMPRACCUSTO" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="992"
                WindowName="WIN_ITEMCOMPRACCUSTO" TabStyle="Chanfrado" FontSize="800" FontStyle="Simples"
                FontWeight="Médio" FontSpacing="Normal" ParentType="29" Height="448" ShowHorizontalScrollbar="false"
                CanvasType="Conteúdo" ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25"
                TabActionStyle="0" ParentName="CANVAS_NORMAL" TabWidthStyle="0" ParentFilename="BIB004.OLB"
                DirtyInfo="true" VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="false"
                ShowVerticalScrollbar="false" TabAttachmentEdge="Superior" ViewportHeight="442" ViewportXPosition="0"
                ViewportWidth="913" ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT129" Width="422" BackColor="darkgray" XPosition="121" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT130" Width="183" BackColor="darkgray" XPosition="691" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT131" Width="849" BackColor="darkgray" XPosition="46" YPosition="82" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="211" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT132" Width="166" BackColor="darkgray" XPosition="729" YPosition="293" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME202" Width="974" XPosition="11" YPosition="12" GraphicsType="Quadro" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" ParentType="29" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" PersistentClientInfoLength="0"
                      FrameTitle="Centro de Custo por Solicitação de Compra" LayoutStyle="Form" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7" VerticalMargin="18"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="14"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Iniciar"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalRotationAngle="0" FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Bevel" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="14"
                      ShowScrollbar="false" Height="428" ScrollbarAlign="Final" Shrinkwrap="false" ParentModule="BIB002"
                      ParentModuleType="25" ParentName="FRAME_NORMAL" ParentFilename="BIB002.OLB"/>
            <Graphics Name="GRÁFICO497" Width="271" BackColor="darkgray" XPosition="112" YPosition="293" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="44" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO43" Width="263" BackColor="darkgray" XPosition="455" YPosition="293" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO45" Width="506" BackColor="darkgray" XPosition="112" YPosition="337" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="50" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO168" Width="387" BackColor="darkgray" XPosition="111" YPosition="407" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
        </Canvas>
        <Canvas Name="CAN_SEL" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="951"
                WindowName="WIN_SEL" TabStyle="Chanfrado" FontSize="800" FontStyle="Simples" FontWeight="Médio"
                FontSpacing="Normal" ParentType="29" Height="410" ShowHorizontalScrollbar="false" CanvasType="Conteúdo"
                ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25" TabActionStyle="0"
                ParentName="CANVAS_NORMAL" TabWidthStyle="0" ParentFilename="BIB004.OLB" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="false" ShowVerticalScrollbar="false"
                TabAttachmentEdge="Superior" ViewportHeight="442" ViewportXPosition="0" ViewportWidth="913"
                ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT129" Width="807" BackColor="darkgray" XPosition="24" YPosition="42" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="211" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME207" Width="930" XPosition="11" YPosition="12" GraphicsType="Quadro" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" ParentType="29" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" PersistentClientInfoLength="0"
                      FrameTitle="Solicitações em Aberto" LayoutStyle="Tabular" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" LayoutDataBlockName="DEVOLUCAO" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="6" VerticalMargin="18"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="0"
                      StartPromptOffset="6" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="10"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalRotationAngle="0" EdgeBackColor="white" EdgePattern="solid"
                      FrameTitleForegroundColor="DarkRed" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="12"
                      ShowScrollbar="true" Height="389" ScrollbarAlign="Final" Shrinkwrap="false" ParentModule="BIB002"
                      ParentModuleType="25" ParentName="FRAME_NORMAL" ParentFilename="BIB002.OLB"/>
            <Graphics Name="GRÁFICO212" Width="436" BackColor="darkgray" XPosition="24" YPosition="278" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="71" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO494" Width="232" BackColor="darkgray" XPosition="599" YPosition="253" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
        </Canvas>
        <Canvas Name="CAN_ITEMCOMPRA" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="1480" Width="1012"
                WindowName="WIN_ITEMCOMPRA" TabStyle="Chanfrado" FontSize="800" FontStyle="Simples" FontWeight="Médio"
                FontSpacing="Normal" ParentType="29" Height="562" ShowHorizontalScrollbar="false" CanvasType="Conteúdo"
                ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25" TabActionStyle="0"
                ParentName="CANVAS_NORMAL" TabWidthStyle="0" ParentFilename="BIB004.OLB" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="true" ShowVerticalScrollbar="false"
                TabAttachmentEdge="Superior" ViewportHeight="553" ViewportXPosition="0" ViewportWidth="614"
                ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT109" Width="460" BackColor="darkgray" XPosition="208" YPosition="25" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO170" Width="276" BackColor="darkgray" XPosition="704" YPosition="432" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT112" Width="624" BackColor="darkgray" XPosition="24" YPosition="242" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="190" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT114" Width="882" BackColor="darkgray" XPosition="22" YPosition="470" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="71" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO225" Width="990" XPosition="11" YPosition="210" GraphicsType="Quadro" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" ParentType="29" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Esquerda"
                      PersistentClientInfoLength="0" FrameTitle="Itens da Solicitação" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="14"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalRotationAngle="0" FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="14"
                      ShowScrollbar="false" Height="345" ScrollbarAlign="Final" Shrinkwrap="false" ParentModule="BIB002"
                      ParentModuleType="25" ParentName="FRAME_NORMAL" ParentFilename="BIB002.OLB"/>
            <Graphics Name="TEXT232" Width="134" XPosition="462" YPosition="174" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50"
                      MaximumObjs="0" GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="9" VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="18" StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="1" AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="false" BoundingBoxScalable="false" FontScaleable="false"
                      HorizontalOrigin="Direita" VerticalOrigin="Centralizado" HorizontalJustification="Iniciar"
                      VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false" Height="15"
                      ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma" GraphicsFontSize="1000"
                      GraphicsFontStyle="0" GraphicsText="&lt;F4> Últimas Compras." VisualAttributeName="DEFAULT">
                <CompoundText Name="CMPTXT233">
                    <TextSegment Name="TEXTSTR234" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="&lt;F4> Últimas Compras."/>
                </CompoundText>
            </Graphics>
            <Graphics Name="GRÁFICO235" Width="245" XPosition="304" YPosition="172" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50"
                      MaximumObjs="0" GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="9" VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="18" StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="1" AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="false" BoundingBoxScalable="false" FontScaleable="false"
                      HorizontalOrigin="Direita" VerticalOrigin="Centralizado" HorizontalJustification="Iniciar"
                      VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false" Height="15"
                      ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma" GraphicsFontSize="1000"
                      GraphicsFontStyle="0" GraphicsText="&lt;F3> Solicitações Devolvidas e Recusadas."
                      VisualAttributeName="DEFAULT">
                <CompoundText Name="CMPTXT233">
                    <TextSegment Name="TEXTSTR234" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="&lt;F3> Solicitações Devolvidas e Recusadas."/>
                </CompoundText>
            </Graphics>
            <Graphics Name="GRÁFICO236" Width="460" BackColor="darkgray" XPosition="208" YPosition="47" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO239" Width="86" BackColor="darkgray" XPosition="122" YPosition="91" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="66" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO240" Width="86" BackColor="darkgray" XPosition="360" YPosition="91" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO273" Width="460" BackColor="darkgray" XPosition="208" YPosition="69" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT290" Width="51" BackColor="r75g75b100" XPosition="24" YPosition="432" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="9"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="18"
                      StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="r75g75b100" FrameTitleVisualAttributeName="DEFAULT"
                      EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" ForegroundColor="r75g75b100" VerticalJustification="Superior"
                      ScrollbarWidth="18" ShowScrollbar="false" Height="19" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO291" Width="344" XPosition="79" YPosition="442" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50"
                      MaximumObjs="0" GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="9" VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="18" StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="1" AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="false" BoundingBoxScalable="false" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Centralizado" HorizontalJustification="Iniciar"
                      VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false" Height="15"
                      ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma" GraphicsFontSize="1000"
                      GraphicsFontStyle="0" GraphicsText="Itens em processo de negociação. Não será possível alterar."
                      VisualAttributeName="DEFAULT">
                <CompoundText Name="CMPTXT233">
                    <TextSegment Name="TEXTSTR234" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 DirtyInfo="true" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="Itens em processo de negociação. Não será possível alterar."/>
                </CompoundText>
            </Graphics>
            <Graphics Name="FRA_ITEMCOMPRACCUSTO" Width="990" XPosition="11" YPosition="13" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" ParentType="29"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      PersistentClientInfoLength="0" FrameTitle="Dados da Solicitação de Compra" LayoutStyle="Tabular"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar"
                      LayoutDataBlockName="ITEMCOMPRACCUSTO" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7" VerticalMargin="19"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="0"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="7"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalRotationAngle="0" EdgeBackColor="white" EdgePattern="solid"
                      FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="182" ScrollbarAlign="Final" Shrinkwrap="false" ParentModule="BIB002"
                      ParentModuleType="25" ParentName="FRAME_NORMAL" ParentFilename="BIB002.OLB"/>
            <Graphics Name="GRÁFICO521" Width="119" BackColor="darkgray" XPosition="549" YPosition="91" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO22" Width="460" BackColor="darkgray" XPosition="208" YPosition="113" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO69" Width="203" XPosition="669" YPosition="173" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50" MaximumObjs="0"
                      GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="9"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="18"
                      StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="false" BoundingBoxScalable="false" FontScaleable="false"
                      HorizontalOrigin="Direita" VerticalOrigin="Centralizado" HorizontalJustification="Iniciar"
                      VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false" Height="15"
                      ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma" GraphicsFontSize="1000"
                      GraphicsFontStyle="0" GraphicsText="&lt;F5> Duplica Lote de Compra" VisualAttributeName="DEFAULT">
                <CompoundText Name="CMPTXT233">
                    <TextSegment Name="TEXTSTR234" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 DirtyInfo="true" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="&lt;F5> Duplica Lote de Compra"/>
                </CompoundText>
            </Graphics>
            <Graphics Name="RECT116" InternalLineWidth="113" Width="99" EdgeForegroundColor="darkgray"
                      EdgePattern="solid" BackColor="darkgray" XPosition="122" YPosition="25" Bevel="Nenhum"
                      DirtyInfo="true" ForegroundColor="r0g25b50" GraphicsType="Retângulo" HorizontalMargin="10"
                      ScrollbarWidth="20" VerticalMargin="21" HorizontalObjectOffset="20" Height="66"
                      StartPromptOffset="10"/>
            <Graphics Name="GRÁFICO155" Width="260" BackColor="darkgray" XPosition="408" YPosition="135" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO158" Width="90" EdgeBackColor="white" FillPattern="none" EdgePattern="none"
                      XPosition="560" YPosition="211" Bevel="Nenhum" HorizontalJustification="Iniciar"
                      GraphicsFontWeight="Médio" GraphicsFontSpacing="Normal" GraphicsType="Texto" ScrollbarWidth="20"
                      Height="14" GraphicsFontName="Tahoma" GraphicsFontSize="900" GraphicsFontStyle="0"
                      GraphicsText="Centro de Custo" DirtyInfo="true" GraphicsFontColor="r0g25b50"
                      GraphicsFontColorCode="52" HorizontalMargin="10" VerticalMargin="21" HorizontalObjectOffset="20"
                      StartPromptOffset="10">
                <CompoundText Name="CMPTXT484">
                    <TextSegment Name="TEXTSTR485" FontName="Tahoma" FontSize="900" FontStyle="Simples" DirtyInfo="true"
                                 FontWeight="Médio" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="Centro de Custo"/>
                </CompoundText>
            </Graphics>
            <Graphics Name="ANEXO" Width="35" EdgeBackColor="white" FillPattern="none" EdgePattern="none"
                      XPosition="705" YPosition="210" Bevel="Nenhum" HorizontalJustification="Iniciar"
                      GraphicsFontWeight="Médio" GraphicsFontSpacing="Normal" GraphicsType="Texto" ScrollbarWidth="20"
                      Height="14" GraphicsFontName="Tahoma" GraphicsFontSize="900" GraphicsFontStyle="0"
                      GraphicsText="Anexo" DirtyInfo="true" GraphicsFontColor="r0g25b50" GraphicsFontColorCode="52"
                      HorizontalMargin="10" VerticalMargin="21" HorizontalObjectOffset="20" StartPromptOffset="10">
                <CompoundText Name="CMPTXT484">
                    <TextSegment Name="TEXTSTR485" FontName="Tahoma" FontSize="900" FontStyle="Simples" DirtyInfo="true"
                                 FontWeight="Médio" FontSpacing="Normal" ForegroundColor="r0g25b50" Text="Anexo"/>
                </CompoundText>
            </Graphics>
            <Graphics Name="GRÁFICO181" Width="238" XPosition="936" YPosition="173" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50" MaximumObjs="0"
                      GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="9"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="18"
                      StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="false" BoundingBoxScalable="false" FontScaleable="false"
                      HorizontalOrigin="Direita" VerticalOrigin="Centralizado" HorizontalJustification="Iniciar"
                      VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false" Height="16"
                      ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma" GraphicsFontSize="1000"
                      GraphicsFontStyle="0" GraphicsText="Duplo Clique na grid para editar os Locais"
                      VisualAttributeName="DEFAULT">
                <CompoundText Name="CMPTXT233">
                    <TextSegment Name="TEXTSTR234" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 DirtyInfo="true" FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="Duplo Clique na grid para editar os Locais"/>
                </CompoundText>
            </Graphics>
            <Graphics Name="GRÁFICO184" Width="276" BackColor="darkgray" XPosition="704" YPosition="242" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="190"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO137" Width="0" EdgeForegroundColor="r0g25b50" FillPattern="none" EdgePattern="solid"
                      BackColor="gray52" XPosition="669" YPosition="216" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Linha" HorizontalMargin="9" ScrollbarWidth="18" VerticalMargin="18"
                      HorizontalObjectOffset="18" Height="22" StartPromptOffset="9"/>
            <Graphics Name="GRÁFICO143" Width="14" EdgeForegroundColor="r0g25b50" FillPattern="none" EdgePattern="solid"
                      BackColor="gray52" XPosition="654" YPosition="216" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Linha" HorizontalMargin="9" ScrollbarWidth="18" VerticalMargin="18"
                      HorizontalObjectOffset="18" Height="0" StartPromptOffset="9"/>
            <Graphics Name="GRÁFICO185" Width="0" EdgeForegroundColor="r0g25b50" FillPattern="none" EdgePattern="solid"
                      BackColor="gray52" XPosition="684" YPosition="216" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Linha" HorizontalMargin="9" ScrollbarWidth="18" VerticalMargin="18"
                      HorizontalObjectOffset="18" Height="22" StartPromptOffset="9"/>
            <Graphics Name="GRÁFICO186" Width="14" EdgeForegroundColor="r0g25b50" FillPattern="none" EdgePattern="solid"
                      BackColor="gray52" XPosition="685" YPosition="216" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Linha" HorizontalMargin="9" ScrollbarWidth="18" VerticalMargin="18"
                      HorizontalObjectOffset="18" Height="0" StartPromptOffset="9"/>
        </Canvas>
        <Canvas Name="CAN_ULTIMASCOMPRAS" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="1005"
                WindowName="WIN_ULTIMASCOMPRAS" TabStyle="Chanfrado" FontSize="800" FontStyle="Simples"
                FontWeight="Médio" FontSpacing="Normal" ParentType="29" Height="383" ShowHorizontalScrollbar="false"
                CanvasType="Conteúdo" ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25"
                TabActionStyle="0" ParentName="CANVAS_NORMAL" TabWidthStyle="0" ParentFilename="BIB004.OLB"
                DirtyInfo="true" VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="true"
                ShowVerticalScrollbar="false" TabAttachmentEdge="Superior" ViewportHeight="549" ViewportXPosition="0"
                ViewportWidth="998" ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT117" Width="876" BackColor="darkgray" XPosition="15" YPosition="85" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="211" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT118" Width="463" BackColor="darkgray" XPosition="53" YPosition="27" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME203" Width="990" BackColor="gray8" XPosition="8" YPosition="13" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" ParentType="29"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      PersistentClientInfoLength="0" FrameTitle="Últimas Compras do Item:" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="14"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalRotationAngle="0" FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Bevel" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" ForegroundColor="r0g25b50" VerticalJustification="Superior"
                      ScrollbarWidth="14" ShowScrollbar="false" Height="363" ScrollbarAlign="Final" Shrinkwrap="false"
                      ParentModule="BIB002" ParentModuleType="25" ParentName="FRAME_NORMAL"
                      ParentFilename="BIB002.OLB"/>
        </Canvas>
        <Canvas Name="CAN_VLESTIMADO" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="406"
                WindowName="WIN_VLESTIMADO" TabStyle="Chanfrado" Bevel="Nenhum" FontSize="800" FontStyle="Simples"
                FontWeight="Médio" FontSpacing="Normal" Height="134" ShowHorizontalScrollbar="false"
                CanvasType="Conteúdo" PersistentClientInfoLength="0" TabActionStyle="0" TabWidthStyle="0"
                DirtyInfo="true" VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="true"
                ShowVerticalScrollbar="false" TabAttachmentEdge="Superior" ViewportHeight="553" ViewportXPosition="0"
                ViewportWidth="922" ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="TEXT480" Width="221" BackColor="white" XPosition="24" YPosition="43" Bevel="Nenhum"
                      GraphicsFontWeight="Semiclaro" GraphicsFontSpacing="Normal" GraphicsType="Texto" Closed="true"
                      ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="0"
                      PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true" GraphicsFontColor="r0g25b50"
                      MaximumObjs="0" GraphicsFontColorCode="52" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="9" VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="18" StartPromptOffset="9" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="1" AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" EdgeBackColor="white"
                      FillPattern="none" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="none" DashStyle="Sólido"
                      CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Iniciar"
                      ForegroundColor="black" VerticalJustification="Superior" ScrollbarWidth="18" ShowScrollbar="false"
                      Height="21" ScrollbarAlign="Final" Shrinkwrap="false" GraphicsFontName="Tahoma"
                      GraphicsFontSize="1000" GraphicsFontStyle="0" GraphicsText="Informe um valor estimado por unidade"
                      VisualAttributeName="VSA_CAMPOTEXTO">
                <CompoundText Name="CMPTXT481">
                    <TextSegment Name="TEXTSTR482" FontName="Tahoma" FontSize="1000" FontStyle="Simples"
                                 FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                                 Text="Informe um valor estimado por unidade"/>
                </CompoundText>
            </Graphics>
            <Graphics Name="GRÁFICO240" Width="101" BackColor="darkgray" XPosition="262" YPosition="40" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" PersistentClientInfoLength="0" FrameTitleSpacing="0" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="8"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="16"
                      StartPromptOffset="8" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Automaticamente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME203" Width="392" BackColor="gray8" XPosition="7" YPosition="15" Bevel="Inset"
                      GraphicsType="Quadro" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="10" PersistentClientInfoLength="0" FrameTitleSpacing="5"
                      FrameTitle="Valor estimado unitário" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="7" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="14" StartPromptOffset="7" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" FillPattern="none" FrameTitleVisualAttributeName="VSA_QUADRO"
                      FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Bevel" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" ForegroundColor="r0g25b50" VerticalJustification="Superior"
                      ScrollbarWidth="14" ShowScrollbar="false" Height="112" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
        </Canvas>
        <Canvas Name="CAN_DUPLICALOTECOMPRA" DirtyInfo="true" Width="1012" WindowName="WIN_DUPLICALOTECOMPRA"
                Height="507" ViewportHeight="645" ViewportWidth="1024">
            <Graphics Name="RECT109" Width="460" BackColor="darkgray" XPosition="197" YPosition="25" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO80" Width="86" BackColor="darkgray" XPosition="111" YPosition="47" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT112" Width="847" BackColor="darkgray" XPosition="26" YPosition="123" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Corte" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="106"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT131" Width="849" BackColor="darkgray" XPosition="26" YPosition="294" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="106" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRA_DUPLOTE" Width="993" XPosition="12" YPosition="13" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Consulta Lote Origem" LayoutStyle="Tabular" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" LayoutDataBlockName="ITEMCOMPRACCUSTO"
                      VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="7" VerticalMargin="19" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="0" StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="7" AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" EdgeBackColor="white"
                      FillPattern="none" FrameTitleVisualAttributeName="VSA_QUADRO" EdgePattern="solid"
                      FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="486" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
            <Graphics Name="GRÁFICO66" Width="890" XPosition="20" YPosition="97" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Solicitação de Compra" LayoutStyle="Tabular" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" LayoutDataBlockName="ITEMCOMPRACCUSTO"
                      VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="7" VerticalMargin="19" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="0" StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="7" AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" EdgeBackColor="white"
                      FillPattern="none" FrameTitleVisualAttributeName="VSA_QUADRO" EdgePattern="solid"
                      FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="142" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
            <Graphics Name="GRÁFICO67" Width="890" XPosition="20" YPosition="252" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Centro de Custo da Solicitação" LayoutStyle="Tabular"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar"
                      LayoutDataBlockName="ITEMCOMPRACCUSTO" VerticalFill="true" MaximumObjs="0"
                      LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7" VerticalMargin="19"
                      VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="0"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Centralizado"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="7"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" EdgeBackColor="white" FillPattern="none"
                      FrameTitleVisualAttributeName="VSA_QUADRO" EdgePattern="solid" FrameTitleForegroundColor="darkred"
                      DashStyle="Sólido" CapStyle="Botão" FrameTitleFontName="Tahoma" JoinStyle="Corte"
                      FrameTitleFontSize="900" LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples"
                      FrameTitleFontWeight="Negrito" FixedBoundingBox="false" FrameTitleFontSpacing="Normal"
                      WrapText="true" BoundingBoxScalable="true" FontScaleable="false" HorizontalOrigin="Esquerda"
                      VerticalOrigin="Superior" HorizontalJustification="Esquerda" VerticalJustification="Superior"
                      ScrollbarWidth="16" ShowScrollbar="false" Height="157" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
            <Graphics Name="RECT115" InternalLineWidth="113" Width="85" EdgeForegroundColor="darkgray"
                      EdgePattern="solid" BackColor="darkgray" XPosition="111" YPosition="25" Bevel="Nenhum"
                      DirtyInfo="true" ForegroundColor="r0g25b50" GraphicsType="Retângulo" HorizontalMargin="10"
                      ScrollbarWidth="20" VerticalMargin="21" HorizontalObjectOffset="20" Height="23"
                      StartPromptOffset="10"/>
        </Canvas>
        <Canvas Name="CAN_MOTIVOCANCELAMENTO" DirtyInfo="true" Width="593" WindowName="WIN_MOTIVOCANCELAMENTO"
                Height="200" ViewportHeight="553" ViewportWidth="614">
            <Graphics Name="FRAME809" InternalLineWidth="113" Width="578" FillPattern="none"
                      FrameTitleForegroundColor="darkred" FrameTitleFontName="Tahoma" FrameTitleFontSize="900"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito" BackColor="gray"
                      FrameTitleFontSpacing="Normal" XPosition="8" YPosition="10" Bevel="Inset" GraphicsType="Quadro"
                      ScrollbarWidth="12" Height="184" FrameTitleAlign="Iniciar" FrameTitleOffset="11"
                      FrameTitleSpacing="5" FrameTitle="Motivo" DirtyInfo="true" HorizontalMargin="6"
                      VerticalMargin="18" HorizontalObjectOffset="12" StartPromptOffset="6"/>
            <Graphics Name="RECT810" InternalLineWidth="0" Width="494" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" EdgePattern="solid" DashStyle="Sólido"
                      BackColor="darkgray" XPosition="24" YPosition="35" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Retângulo" HorizontalMargin="6" ScrollbarWidth="12" VerticalMargin="18"
                      HorizontalObjectOffset="12" Height="95" StartPromptOffset="6"/>
        </Canvas>
        <Canvas Name="CAN_ITEMCOMPRANEGOCIO" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="992"
                WindowName="WIN_ITEMCOMPRANEGOCIO" TabStyle="Chanfrado" Bevel="Nenhum" FontSize="800"
                FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" Height="448" ShowHorizontalScrollbar="false"
                CanvasType="Conteúdo" TabActionStyle="0" TabWidthStyle="0" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="false" ShowVerticalScrollbar="false"
                TabAttachmentEdge="Superior" ViewportHeight="442" ViewportXPosition="0" ViewportWidth="913"
                ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT129" Width="422" BackColor="darkgray" XPosition="121" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT130" Width="183" BackColor="darkgray" XPosition="691" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT131" Width="933" BackColor="darkgray" XPosition="24" YPosition="88" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="211" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT132" Width="136" BackColor="darkgray" XPosition="821" YPosition="299" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME202" Width="974" XPosition="11" YPosition="12" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Rateio de Negócio por Item para Controle Orçamentário"
                      LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar"
                      VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="7" VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="14" StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Iniciar" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="1" AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="VSA_QUADRO" FrameTitleForegroundColor="darkred" DashStyle="Sólido"
                      CapStyle="Botão" FrameTitleFontName="Tahoma" JoinStyle="Bevel" FrameTitleFontSize="900"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples"
                      FrameTitleFontWeight="Negrito" FixedBoundingBox="false" FrameTitleFontSpacing="Normal"
                      WrapText="true" BoundingBoxScalable="true" FontScaleable="false" HorizontalOrigin="Esquerda"
                      VerticalOrigin="Superior" HorizontalJustification="Esquerda" VerticalJustification="Superior"
                      ScrollbarWidth="14" ShowScrollbar="false" Height="428" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
            <Graphics Name="GRÁFICO45" Width="506" BackColor="darkgray" XPosition="139" YPosition="299" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="50" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
        </Canvas>
        <Canvas Name="CAN_PROJETOITEMCOMPRA" ViewportXPositionOnCanvas="0" ViewportYPositionOnCanvas="0" Width="848"
                WindowName="WIN_PROJETOITEMCOMPRA" TabStyle="Chanfrado" Bevel="Nenhum" FontSize="800"
                FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" Height="173" ShowHorizontalScrollbar="false"
                CanvasType="Conteúdo" TabActionStyle="0" TabWidthStyle="0" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" Visible="false" ShowVerticalScrollbar="false"
                TabAttachmentEdge="Superior" ViewportHeight="442" ViewportXPosition="0" ViewportWidth="913"
                ViewportYPosition="0" RaiseOnEnter="false">
            <Graphics Name="RECT129" Width="422" BackColor="darkgray" XPosition="94" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT130" Width="183" BackColor="darkgray" XPosition="642" YPosition="33" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid" DashStyle="Sólido" CapStyle="Botão"
                      JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples" CustomSpacing="0"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio" FixedBoundingBox="false"
                      FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true" FontScaleable="false"
                      HorizontalOrigin="Esquerda" VerticalOrigin="Superior" HorizontalJustification="Esquerda"
                      VerticalJustification="Superior" ScrollbarWidth="16" ShowScrollbar="false" Height="22"
                      ScrollbarAlign="Final" Shrinkwrap="false" VisualAttributeName="DEFAULT"/>
            <Graphics Name="RECT131" Width="802" BackColor="darkgray" XPosition="24" YPosition="79" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="FRAME202" Width="829" XPosition="11" YPosition="8" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Projeto/Etapa por solicitação de compra" LayoutStyle="Form"
                      DirtyInfo="true" FrameAlign="Coluna" SingleObjectAlign="Iniciar" VerticalFill="true"
                      MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true" HorizontalMargin="7"
                      VerticalMargin="18" VerticalObjectOffset="0" DisplayQuality="Superior" HorizontalObjectOffset="14"
                      StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar" TopPromptAlign="Iniciar"
                      AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false" RecordsDisplayCount="1"
                      AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente" DistanceBetweenRecords="0"
                      InternalLineWidth="0" InternalRotationAngle="0" FillPattern="none"
                      FrameTitleVisualAttributeName="VSA_QUADRO" FrameTitleForegroundColor="darkred" DashStyle="Sólido"
                      CapStyle="Botão" FrameTitleFontName="Tahoma" JoinStyle="Bevel" FrameTitleFontSize="900"
                      LineSpacing="Simples" CustomSpacing="0" FrameTitleFontStyle="Simples"
                      FrameTitleFontWeight="Negrito" FixedBoundingBox="false" FrameTitleFontSpacing="Normal"
                      WrapText="true" BoundingBoxScalable="true" FontScaleable="false" HorizontalOrigin="Esquerda"
                      VerticalOrigin="Superior" HorizontalJustification="Esquerda" VerticalJustification="Superior"
                      ScrollbarWidth="14" ShowScrollbar="false" Height="156" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
        </Canvas>
        <Canvas Name="CAN_IMPORTACAO_LOG" DirtyInfo="true" Width="719" WindowName="WIN_IMPORTACAOLOG" Height="476"
                ViewportHeight="553" ViewportWidth="614">
            <Graphics Name="FRAME809" InternalLineWidth="113" Width="705" FillPattern="none"
                      FrameTitleForegroundColor="darkred" FrameTitleFontName="Tahoma" FrameTitleFontSize="900"
                      FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito" BackColor="gray"
                      FrameTitleFontSpacing="Normal" XPosition="8" YPosition="20" Bevel="Inset" GraphicsType="Quadro"
                      ScrollbarWidth="12" Height="449" FrameTitleAlign="Iniciar" FrameTitleOffset="11"
                      FrameTitleSpacing="5" FrameTitle="Log de Importação" DirtyInfo="true" HorizontalMargin="6"
                      VerticalMargin="18" HorizontalObjectOffset="12" StartPromptOffset="6"/>
            <Graphics Name="RECT810" InternalLineWidth="0" Width="680" EdgeForegroundColor="darkgray"
                      EdgeBackColor="white" FillPattern="transparent" EdgePattern="solid" DashStyle="Sólido"
                      BackColor="darkgray" XPosition="21" YPosition="33" Bevel="Nenhum" DirtyInfo="true"
                      GraphicsType="Retângulo" HorizontalMargin="6" ScrollbarWidth="12" VerticalMargin="18"
                      HorizontalObjectOffset="12" Height="395" StartPromptOffset="6"/>
        </Canvas>
        <Canvas Name="CAN_PREITEMCOMPRA" ParentModule="BIB004" ParentModuleType="25" ParentName="CANVAS_NORMAL"
                ParentFilename="BIB004.OLB" DirtyInfo="true" WindowName="WIN_PREITEMCOMPRA" ParentType="29"
                ViewportHeight="504" ViewportWidth="960">
            <Graphics Name="ITENS" Width="927" BackColor="darkgray" XPosition="44" YPosition="42" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="421" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="GRÁFICO33" Width="986" XPosition="12" YPosition="12" Bevel="Inset" GraphicsType="Quadro"
                      Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0" InternalStartAngle="0"
                      InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0" ClipWidth="0"
                      ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar" FrameTitleOffset="10"
                      FrameTitleSpacing="5" FrameTitle="Itens da Solicitação" LayoutStyle="Tabular" DirtyInfo="true"
                      FrameAlign="Coluna" SingleObjectAlign="Iniciar" LayoutDataBlockName="ITEMCOMPRACCUSTO"
                      VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão" AllowExpansion="true"
                      HorizontalMargin="7" VerticalMargin="19" VerticalObjectOffset="0" DisplayQuality="Superior"
                      HorizontalObjectOffset="0" StartPromptOffset="7" TopPromptOffset="0" StartPromptAlign="Iniciar"
                      TopPromptAlign="Centralizado" AllowMultiLinePrompts="true" AllowTopAttachmentPrompts="false"
                      RecordsDisplayCount="7" AllowStartAttachmentPrompts="false" UpdateLayout="Manualmente"
                      DistanceBetweenRecords="0" InternalLineWidth="0" InternalRotationAngle="0" EdgeBackColor="white"
                      FillPattern="none" FrameTitleVisualAttributeName="VSA_QUADRO" EdgePattern="solid"
                      FrameTitleForegroundColor="darkred" DashStyle="Sólido" CapStyle="Botão"
                      FrameTitleFontName="Tahoma" JoinStyle="Corte" FrameTitleFontSize="900" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Negrito"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="504" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="VSA_QUADROPRINC"/>
            <Graphics Name="LOTE" Width="80" BackColor="darkgray" XPosition="124" YPosition="463" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
            <Graphics Name="ITEMMAXYS" Width="251" BackColor="darkgray" XPosition="375" YPosition="463" Bevel="Nenhum"
                      GraphicsType="Retângulo" Closed="true" ArrowStyle="Nenhum" CornerRadiusX="0" CornerRadiusY="0"
                      InternalStartAngle="0" InternalEndAngle="0" Dither="true" ClipXPosition="0" ClipYPosition="0"
                      ClipWidth="0" ClipHeight="0" TitleReadingOrder="Padrão" FrameTitleAlign="Iniciar"
                      FrameTitleOffset="0" FrameTitleSpacing="0" LayoutStyle="Form" DirtyInfo="true" FrameAlign="Coluna"
                      SingleObjectAlign="Iniciar" VerticalFill="true" MaximumObjs="0" LanguageDirection="Padrão"
                      AllowExpansion="true" HorizontalMargin="8" VerticalMargin="18" VerticalObjectOffset="0"
                      DisplayQuality="Superior" HorizontalObjectOffset="16" StartPromptOffset="8" TopPromptOffset="0"
                      StartPromptAlign="Iniciar" TopPromptAlign="Centralizado" AllowMultiLinePrompts="true"
                      AllowTopAttachmentPrompts="false" RecordsDisplayCount="1" AllowStartAttachmentPrompts="false"
                      UpdateLayout="Automaticamente" DistanceBetweenRecords="0" InternalLineWidth="0"
                      InternalRotationAngle="0" EdgeForegroundColor="darkgray" EdgeBackColor="white"
                      FillPattern="transparent" FrameTitleVisualAttributeName="DEFAULT" EdgePattern="solid"
                      DashStyle="Sólido" CapStyle="Botão" JoinStyle="Bevel" FrameTitleFontSize="0" LineSpacing="Simples"
                      CustomSpacing="0" FrameTitleFontStyle="Simples" FrameTitleFontWeight="Médio"
                      FixedBoundingBox="false" FrameTitleFontSpacing="Normal" WrapText="true" BoundingBoxScalable="true"
                      FontScaleable="false" HorizontalOrigin="Esquerda" VerticalOrigin="Superior"
                      HorizontalJustification="Esquerda" VerticalJustification="Superior" ScrollbarWidth="16"
                      ShowScrollbar="false" Height="22" ScrollbarAlign="Final" Shrinkwrap="false"
                      VisualAttributeName="DEFAULT"/>
        </Canvas>
        <Editor Name="EDITDS_ITEMSERVICO" Title="Descrição do Serviço" Width="512" WrapStyle="Palavra"
                PersistentClientInfoLength="0" XPosition="140" YPosition="342" FontSize="1000" FontStyle="Simples"
                VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" ShowVerticalScrollbar="false"
                Height="256"/>
        <ModuleParameter Name="CD_EMPRPEDIDOINTERNO" DirtyInfo="true" ParameterDataType="Number"/>
        <ModuleParameter Name="NR_PEDIDOINTERNO" DirtyInfo="true" ParameterDataType="Number"/>
        <ModuleParameter Name="CD_EMPRCENTRODISTRIB" DirtyInfo="true" ParameterDataType="Number"
                         Comment="Centro de distribuição do pedido interno (EMV078)"/>
        <ModuleParameter Name="DT_DESEJADA" DirtyInfo="true" ParameterDataType="Date"/>
        <ModuleParameter Name="DS_PROCESSO" DirtyInfo="true"/>
        <ModuleParameter Name="NR_AGRUPAMENTO" DirtyInfo="true" ParameterDataType="Number"/>
        <ModuleParameter Name="CD_MODULO" DirtyInfo="true"/>
        <ModuleParameter Name="CD_PROGRAMA" DirtyInfo="true"/>
        <LOV Name="LOV_LOCALORIGEM" XPosition="0" YPosition="69" DirtyInfo="true" AutoPosition="false"
             Title="Locais de Armazenagem de Origem" Width="790" RecordGroupName="LOV_LOCALARMAZENAGEM" Height="350">
            <LOVColumnMapping Name="DS_LOCALARMAZ" ReturnItem="" DirtyInfo="true" Title="Local Armazenagem"
                              DisplayWidth="100"/>
            <LOVColumnMapping Name="CD_TIPOLOCALARMAZ" ReturnItem="ITEMCOMPRA.CD_TIPOLOCALARMAZ" DirtyInfo="true"
                              Title="" DisplayWidth="100"/>
            <LOVColumnMapping Name="CD_LOCALARMAZ" ReturnItem="ITEMCOMPRA.CD_LOCALARMAZ" DirtyInfo="true" Title="Local"
                              DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ1" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ1" DirtyInfo="true"
                              Title="Sub 1" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ2" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ2" DirtyInfo="true"
                              Title="Sub 2" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ3" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ3" DirtyInfo="true"
                              Title="Sub 3" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ4" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ4" DirtyInfo="true"
                              Title="Sub 4" DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_LOCALUSUARIO" XPosition="0" YPosition="69" DirtyInfo="true" AutoPosition="false"
             Title="Locais de Armazenagem de Origem" Width="790" RecordGroupName="LOV_ARMAZEMUSUARIO" Height="350">
            <LOVColumnMapping Name="DS_LOCALARMAZ" ReturnItem="" DirtyInfo="true" Title="Local Armazenagem"
                              DisplayWidth="100"/>
            <LOVColumnMapping Name="CD_TIPOLOCALARMAZ" ReturnItem="ITEMCOMPRA.CD_TIPOLOCALARMAZ" DirtyInfo="true"
                              Title="" DisplayWidth="100"/>
            <LOVColumnMapping Name="CD_LOCALARMAZ" ReturnItem="ITEMCOMPRA.CD_LOCALARMAZ" DirtyInfo="true" Title="Local"
                              DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ1" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ1" DirtyInfo="true"
                              Title="Sub 1" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ2" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ2" DirtyInfo="true"
                              Title="Sub 2" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ3" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ3" DirtyInfo="true"
                              Title="Sub 3" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_SUBLOCARMAZ4" ReturnItem="ITEMCOMPRA.NR_SUBLOCARMAZ4" DirtyInfo="true"
                              Title="Sub 4" DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_DEPCOMPRAAUTO" YPosition="69" DirtyInfo="true" Title="Selecione o Departamento" Width="790"
             RecordGroupName="LOV_DEPCOMPRAAUTO" Height="350">
            <LOVColumnMapping Name="DS_DEPARTAMENTO" ReturnItem="" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="675"/>
            <LOVColumnMapping Name="CD_DEPARTAMENTO" ReturnItem="CONTROLE.CD_DEPARTAMENTO" DirtyInfo="true"
                              Title="Código" DisplayWidth="45"/>
        </LOV>
        <LOV Name="LOV_ETAPAMONI" YPosition="69" DirtyInfo="true" Title="Seleção de Etapa" Width="790"
             RecordGroupName="LOV_ETAPAMONI" Height="350">
            <LOVColumnMapping Name="DS_ETAPA" ReturnItem="PROJETOITEMCOMPRA.DS_ETAPA" DirtyInfo="true" Title="Etapa"
                              DisplayWidth="250"/>
            <LOVColumnMapping Name="CD_ETAPA" ReturnItem="PROJETOITEMCOMPRA.CD_ETAPA" DirtyInfo="true" Title="Código"
                              DisplayWidth="80"/>
        </LOV>
        <LOV Name="LOV_PROJETOMONI" YPosition="69" DirtyInfo="true" Title="Seleção de Projeto " Width="790"
             RecordGroupName="LOV_PROJETOMONI" Height="350">
            <LOVColumnMapping Name="NM_ESTUDO" ReturnItem="PROJETOITEMCOMPRA.DS_PROJETO" DirtyInfo="true"
                              Title="Descrição" DisplayWidth="300"/>
            <LOVColumnMapping Name="CD_ESTUDO" ReturnItem="PROJETOITEMCOMPRA.CD_ESTUDO" DirtyInfo="true" Title="Estudo"
                              DisplayWidth="80"/>
            <LOVColumnMapping Name="CD_PROJETO" ReturnItem="PROJETOITEMCOMPRA.CD_PROJETO" DirtyInfo="true"
                              Title="Projeto" DisplayWidth="80"/>
            <LOVColumnMapping Name="NR_VERSAO" ReturnItem="PROJETOITEMCOMPRA.NR_VERSAO" DirtyInfo="true" Title="Versão"
                              DisplayWidth="80"/>
        </LOV>
        <LOV Name="LOV_EMPRCCUSTODEST" ListType="Grupo de Registros" AutoPosition="false"
             Title="Seleção de Empresa de destino do custo" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_EMPRESA" AutoSelect="false" AutoDisplay="false" AutoRefresh="true" AutoSkip="false"
             PersistentClientInfoLength="0" XPosition="0" YPosition="69" FontSize="800" FontStyle="Simples"
             VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"
             FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="NM_EMPRESA" PersistentClientInfoLength="0" Title="Nome" DisplayWidth="400"/>
            <LOVColumnMapping Name="CD_EMPRESA" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST" Title="Código" DisplayWidth="50"/>
        </LOV>
        <LOV Name="LOV_EMPRESANEGOCIO" ListType="Grupo de Registros" AutoPosition="false"
             Title="Seleção de Empresa de destino do Negocio" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_EMPRESANEGOCIO" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" XPosition="0" YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true"
             VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"
             FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="NM_EMPRESA" ReturnItem="" DirtyInfo="true" Title="Nome" DisplayWidth="400"/>
            <LOVColumnMapping Name="CD_EMPRESA" ReturnItem="ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST" DirtyInfo="true"
                              Title="Código" DisplayWidth="50"/>
        </LOV>
        <LOV Name="LOV_NEGOCIO" ListType="Grupo de Registros" AutoPosition="false" Title="Seleção de Negócio"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_NEGOCIO" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_NEGOCIO" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRACCUSTO.DS_NEGOCIO"
                              Title="Descrição" DisplayWidth="350"/>
            <LOVColumnMapping Name="CD_NEGOCIO" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRACCUSTO.CD_NEGOCIO"
                              Title="Código" DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_SOLICAUTORIZ_DEPTO" YPosition="69" DirtyInfo="true" Title="Buscar aprovadores de necessidades"
             Width="790" RecordGroupName="LOV_SOLICAUTORIZ_DEPTO" Height="350">
            <LOVColumnMapping Name="NM_USUARIO" ReturnItem="CONTROLE.NM_USUAUTORIZ" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="350"/>
            <LOVColumnMapping Name="CD_USUARIO" ReturnItem="CONTROLE.CD_AUTORIZADOR" DirtyInfo="true" Title="Código"
                              DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_NEGOCIORATEIO" ListType="Grupo de Registros" AutoPosition="false" Title="Seleção de Negócio"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_NEGOCIORATEIO" AutoSelect="false"
             AutoDisplay="false" AutoRefresh="true" AutoSkip="false" XPosition="0" YPosition="69" FontSize="800"
             FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_NEGOCIO" ReturnItem="ITEMCOMPRANEGOCIO.DS_NEGOCIO" DirtyInfo="true"
                              Title="Descrição" DisplayWidth="350"/>
            <LOVColumnMapping Name="CD_NEGOCIO" ReturnItem="ITEMCOMPRANEGOCIO.CD_NEGOCIO" DirtyInfo="true"
                              Title="Código" DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_PARMOVIMENTNEGOCIO" ListType="Grupo de Registros" AutoPosition="false"
             Title="Código Movimentação por Negócio" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_PARMOVIMENTNEGOCIO" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" XPosition="0" YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true"
             VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"
             FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" ReturnItem="ITEMCOMPRANEGOCIO.DS_MOVIMENTACAO" DirtyInfo="true"
                              Title="Descrição" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" ReturnItem="ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO" DirtyInfo="true"
                              Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_TIPOCOMPRA" ListType="Grupo de Registros" AutoPosition="false" Title="Seleção do Tipo de Compra"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_TIPOCOMPRA" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_TIPOCOMPRA" PersistentClientInfoLength="0" ReturnItem="CONTROLE.DS_TIPOCOMPRA"
                              Title="Descrição" DisplayWidth="200"/>
            <LOVColumnMapping Name="CD_TIPOCOMPRA" PersistentClientInfoLength="0" ReturnItem="CONTROLE.CD_TIPOCOMPRA"
                              Title="Código" DisplayWidth="35"/>
        </LOV>
        <LOV Name="LOV_MOVIMENTACAO1" ListType="Grupo de Registros" AutoPosition="false" Title="Movimentação"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_MOVIMENTACAO1" AutoSelect="false"
             AutoDisplay="false" AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0"
             YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT"
             FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false"
             Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" PersistentClientInfoLength="0" Title="Ds_Movimentacao"
                              DisplayWidth="549"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRA.CD_MOVIMENTACAO" Title="Cd_Movimentacao" DisplayWidth="54"/>
        </LOV>
        <LOV Name="LOV_MOVIMENTACAO" ListType="Grupo de Registros" AutoPosition="false" Title="Movimentação"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_MOVIMENTACAO" AutoSelect="false"
             AutoDisplay="false" AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0"
             YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT"
             FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false"
             Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" PersistentClientInfoLength="0" Title="Ds_Movimentacao"
                              DisplayWidth="549"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRA.CD_MOVIMENTACAO" Title="Cd_Movimentacao" DisplayWidth="54"/>
        </LOV>
        <LOV Name="LOV_ITEMCOMPRA" ListType="Grupo de Registros" AutoPosition="false" Title="Solicitação de Compra"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_ITEMCOMPRA" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_ITEM" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.DS_ITEM"
                              Title="Ds_Item" DisplayWidth="549"/>
            <LOVColumnMapping Name="CD_ITEM" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.CD_ITEM"
                              Title="Cd_Item" DisplayWidth="81"/>
            <LOVColumnMapping Name="NR_ITEMCOMPRA" PersistentClientInfoLength="0" ReturnItem="CONTROLE.NR_ITEMCOMPRA"
                              Title="Nr_Itemcompra" DisplayWidth="90"/>
            <LOVColumnMapping Name="NR_LOTECOMPRA" PersistentClientInfoLength="0" ReturnItem="CONTROLE.NR_LOTECOMPRA"
                              Title="Nr_Lotecompra" DisplayWidth="90"/>
            <LOVColumnMapping Name="ICRGGQ_0" PersistentClientInfoLength="0" Title="Icrggq_0" DisplayWidth="144"/>
        </LOV>
        <LOV Name="LOV_GRUPOCC" ListType="Grupo de Registros" AutoPosition="false" Title="Centro de Custos informados"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_GRUPOCC" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="NR_REGISTRO" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.NR_REGISTRO"
                              Title="Registro" DisplayWidth="54"/>
            <LOVColumnMapping Name="CD_CENTROCUSTO" PersistentClientInfoLength="0" Title="Centrocusto"
                              DisplayWidth="1000"/>
        </LOV>
        <LOV Name="PROFILE" ListType="Grupo de Registros" AutoPosition="false" Title="Programas Disponíveis"
             AutoColumnWidth="false" Width="790" RecordGroupName="PROFILE" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_PROGRAMA" PersistentClientInfoLength="0" DisplayWidth="250"/>
            <LOVColumnMapping Name="ICRGGQ_0" PersistentClientInfoLength="0" ReturnItem="GLOBAL.EXEC_PROGRAMA"
                              DisplayWidth="198"/>
        </LOV>
        <LOV Name="LOV_EMPRESA" ListType="Grupo de Registros" AutoPosition="false" Title="Empresas"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_EMPRESA" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio"
             FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="390">
            <LOVColumnMapping Name="CD_EMPRESA" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.CD_EMPRESA"
                              Title="Código" DisplayWidth="35"/>
            <LOVColumnMapping Name="NM_EMPRESA" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.NM_EMPRESA"
                              Title="Descrição Empresa" DisplayWidth="333"/>
        </LOV>
        <LOV Name="LOV_EMPRESA2" YPosition="69" DirtyInfo="true" Title="Empresas" Width="790"
             RecordGroupName="LOV_EMPRESA" Height="390">
            <LOVColumnMapping Name="CD_EMPRESA" ReturnItem="CONS_ITEMCOMPRA.CD_EMPRESA" DirtyInfo="true" Title="Código"
                              DisplayWidth="35"/>
            <LOVColumnMapping Name="NM_EMPRESA" ReturnItem="CONS_ITEMCOMPRA.NM_EMPRESA" DirtyInfo="true"
                              Title="Descrição Empresa" DisplayWidth="333"/>
        </LOV>
        <LOV Name="LOV_COMPRAS" ListType="Grupo de Registros" AutoPosition="false" Title="Solicitações em aberto"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_COMPRAS" AutoSelect="false" AutoDisplay="false"
             AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69"
             FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio"
             FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="CD_EMPRESA" PersistentClientInfoLength="0" Title="Empresa" DisplayWidth="40"/>
            <LOVColumnMapping Name="NR_ITEMCOMPRA" PersistentClientInfoLength="0" Title="Solicitação"
                              DisplayWidth="49"/>
            <LOVColumnMapping Name="QT_PREVISTA" PersistentClientInfoLength="0" Title="Qtde Prev." DisplayWidth="53"/>
            <LOVColumnMapping Name="NR_LOTECOMPRA" PersistentClientInfoLength="0" ReturnItem="CONTROLE.NR_LOTECOMPRA"
                              Title="Lote" DisplayWidth="24"/>
            <LOVColumnMapping Name="CD_SOLICITANTE" PersistentClientInfoLength="0" Title="Solicitante"
                              DisplayWidth="48"/>
            <LOVColumnMapping Name="NM_SOLICITANTE" PersistentClientInfoLength="0" DisplayWidth="170"/>
            <LOVColumnMapping Name="CD_AUTORIZADOR" PersistentClientInfoLength="0" Title="Autorizador"
                              DisplayWidth="55"/>
            <LOVColumnMapping Name="NM_AUTORIZADOR" PersistentClientInfoLength="0" DisplayWidth="170"/>
            <LOVColumnMapping Name="DT_SOLICITACAO" PersistentClientInfoLength="0" Title="Data de Solicitação"
                              DisplayWidth="90"/>
        </LOV>
        <LOV Name="LOV_ITEM" ListType="Grupo de Registros" AutoPosition="false" Title="Itens" AutoColumnWidth="false"
             Width="790" RecordGroupName="LOV_ITEM" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69" FontSize="800"
             FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="true" Height="350">
            <LOVColumnMapping Name="DS_ITEM" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.DS_ITEM"
                              Title="Descrição" DisplayWidth="227"/>
            <LOVColumnMapping Name="CD_ITEM" PersistentClientInfoLength="0" ReturnItem="ITEMCOMPRA.CD_ITEM"
                              Title="Código" DisplayWidth="45"/>
            <LOVColumnMapping Name="ICRGGQ_0" PersistentClientInfoLength="0" Title="Tipo do Item" DisplayWidth="114"/>
            <LOVColumnMapping Name="CD_EMPRESA" PersistentClientInfoLength="0" Title="Empresa" DisplayWidth="36"/>
        </LOV>
        <LOV Name="LOV_SOLICAUTORIZ" ListType="Grupo de Registros" AutoPosition="false" Title="Seleção de Autorizador"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_SOLICAUTORIZ" AutoSelect="false"
             AutoDisplay="false" AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0"
             YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT"
             FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false"
             Height="350">
            <LOVColumnMapping Name="NM_USUARIO" ReturnItem="CONTROLE.NM_USUAUTORIZ" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="350"/>
            <LOVColumnMapping Name="CD_USUARIO" ReturnItem="CONTROLE.CD_AUTORIZADOR" DirtyInfo="true" Title="Código"
                              DisplayWidth="40"/>
        </LOV>
        <LOV Name="LOV_AUTORIZADOR" ListType="Grupo de Registros" AutoPosition="false"
             Title="Autorizadores por Centro de Custo" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_AUTORIZADOR" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69" FontSize="800"
             FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="NM_USUARIO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.NM_AUTORIZADOR" Title="Nome" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_USUARIO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.CD_AUTORIZADOR" Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_PARMOVIMENT" ListType="Grupo de Registros" AutoPosition="false"
             Title="Código Movimentação por Centro de Custo" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_PARMOVIMENT" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" PersistentClientInfoLength="0" XPosition="0" YPosition="69" FontSize="800"
             FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal"
             LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.DS_MOVIMENTACAO" Title="Descrição" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.CD_MOVIMENTACAO" Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_PARMOVIMENTVERSAO" ListType="Grupo de Registros" AutoPosition="false"
             Title="Código Movimentação por Centro de Custo" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_PARMOVIMENTVERSAO" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" XPosition="0" YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true"
             VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"
             FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" ReturnItem="ITEMCOMPRACCUSTO.DS_MOVIMENTACAO" DirtyInfo="true"
                              Title="Descrição" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" ReturnItem="ITEMCOMPRACCUSTO.CD_MOVIMENTACAO" DirtyInfo="true"
                              Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_CENTROCUSTO" ListType="Grupo de Registros" AutoPosition="false" Title="Centros de Custo"
             AutoColumnWidth="false" Width="790" RecordGroupName="LOV_CENTROCUSTO" AutoSelect="false"
             AutoDisplay="false" AutoRefresh="true" AutoSkip="false" PersistentClientInfoLength="0" XPosition="0"
             YPosition="69" FontSize="800" FontStyle="Simples" VisualAttributeName="DEFAULT" FontWeight="Médio"
             FontSpacing="Normal" LanguageDirection="Padrão" FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_CENTROCUSTO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.DS_CENTROCUSTO" Title="Descrição" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_CENTROCUSTO" PersistentClientInfoLength="0"
                              ReturnItem="ITEMCOMPRACCUSTO.CD_CENTROCUSTO" Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_CENTROCUSTOUSUARIO" ListType="Grupo de Registros" AutoPosition="false"
             Title="Centros de Custo Usuário" AutoColumnWidth="false" Width="790"
             RecordGroupName="LOV_CENTROCUSTOUSUARIO" AutoSelect="false" AutoDisplay="false" AutoRefresh="true"
             AutoSkip="false" XPosition="0" YPosition="69" FontSize="800" FontStyle="Simples" DirtyInfo="true"
             VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" LanguageDirection="Padrão"
             FilterBeforeDisplay="false" Height="350">
            <LOVColumnMapping Name="DS_CENTROCUSTO" ReturnItem="ITEMCOMPRACCUSTO.DS_CENTROCUSTO" DirtyInfo="true"
                              Title="Descrição" DisplayWidth="333"/>
            <LOVColumnMapping Name="CD_CENTROCUSTO" ReturnItem="ITEMCOMPRACCUSTO.CD_CENTROCUSTO" DirtyInfo="true"
                              Title="Código" DisplayWidth="67"/>
        </LOV>
        <LOV Name="LOV_DEPARTAMENTOCOMPRA" YPosition="69" DirtyInfo="true" Title="Selecione o Departamento" Width="790"
             RecordGroupName="LOV_DEPARTAMENTOCOMPRA" Height="350">
            <LOVColumnMapping Name="DS_DEPARTAMENTO" ReturnItem="" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="675"/>
            <LOVColumnMapping Name="CD_DEPARTAMENTO" ReturnItem="CONTROLE.CD_DEPARTAMENTO" DirtyInfo="true"
                              Title="Código" DisplayWidth="45"/>
        </LOV>
        <LOV Name="LOV_LOTECOMPRA" YPosition="69" DirtyInfo="true" Title="Lotes de Compra" Width="790"
             RecordGroupName="LOV_LOTECOMPRA" FilterBeforeDisplay="false" Height="350" AutoRefresh="true">
            <LOVColumnMapping Name="CD_EMPRESA" ReturnItem="" DirtyInfo="true" Title="Empresa" DisplayWidth="30"/>
            <LOVColumnMapping Name="NR_LOTECOMPRA" ReturnItem="CONS_ITEMCOMPRA.NR_LOTECOMPRA" DirtyInfo="true"
                              Title="Lote de Compra" DisplayWidth="90"/>
            <LOVColumnMapping Name="DT_SOLICITACAO" ReturnItem="" DirtyInfo="true" Title="Data de Solicitação"
                              DisplayWidth="90"/>
            <LOVColumnMapping Name="CD_SOLICITANTE" ReturnItem="" DirtyInfo="true" Title="Solicitante"
                              DisplayWidth="40"/>
            <LOVColumnMapping Name="NM_SOLICITANTE" ReturnItem="" DirtyInfo="true" Title="" DisplayWidth="170"/>
            <LOVColumnMapping Name="CD_AUTORIZADOR" ReturnItem="" DirtyInfo="true" Title="Autorizador"
                              DisplayWidth="40"/>
            <LOVColumnMapping Name="NM_AUTORIZADOR" ReturnItem="" DirtyInfo="true" Title="" DisplayWidth="170"/>
        </LOV>
        <LOV Name="LOV_CONTAORC" YPosition="69" DirtyInfo="true" Title="Selecione uma Conta Orçamentária.." Width="790"
             RecordGroupName="LOV_CONTAORC" Height="350">
            <LOVColumnMapping Name="CD_CONTAORCAMENTO" ReturnItem="CONTROLE.CD_CONTAORCAMENTO" DirtyInfo="true"
                              Title="Cod. Cta Orc." DisplayWidth="85"/>
            <LOVColumnMapping Name="NM_CONTAORCAMENTO" ReturnItem="" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="250"/>
            <LOVColumnMapping Name="CD_CONTACONTABIL" ReturnItem="" DirtyInfo="true" Title="Cod. Cta Cont."
                              DisplayWidth="85"/>
            <LOVColumnMapping Name="NM_CONTACONTABIL" ReturnItem="" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="250"/>
        </LOV>
        <LOV Name="LOV_ITEMPARMOV" YPosition="69" DirtyInfo="true" Title="Movimentação" Width="790"
             RecordGroupName="LOV_ITEMPARMOV" Height="350">
            <LOVColumnMapping Name="DS_MOVIMENTACAO" ReturnItem="" DirtyInfo="true" Title="Movimentação"
                              DisplayWidth="450"/>
            <LOVColumnMapping Name="CD_MOVIMENTACAO" ReturnItem="ITEMCOMPRA.CD_MOVIMENTACAO" DirtyInfo="true"
                              Title="Código" DisplayWidth="80"/>
        </LOV>
        <LOV Name="LOV_ANOSAFRA" YPosition="69" DirtyInfo="true" Title="Seleção de Ano Safra" AutoColumnWidth="true"
             Width="790" RecordGroupName="LOV_ANOSAFRA" Height="350">
            <LOVColumnMapping Name="DS_ANOSAFRA" ReturnItem="CONTROLE.DS_ANOSAFRA" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="200"/>
            <LOVColumnMapping Name="NR_SEQUENCIAL" ReturnItem="CONTROLE.DT_ANOSAFRA" DirtyInfo="true"
                              Title="Nr. Sequencial" DisplayWidth="80"/>
            <LOVColumnMapping Name="DT_ANOSAFRA" ReturnItem="" DirtyInfo="true" Title="Ano Safra" DisplayWidth="60"/>
            <LOVColumnMapping Name="DT_INISAFRA" ReturnItem="" DirtyInfo="true" Title="Data Início" DisplayWidth="60"/>
            <LOVColumnMapping Name="DT_FIMSAFRA" ReturnItem="" DirtyInfo="true" Title="Data Final" DisplayWidth="60"/>
            <LOVColumnMapping Name="CD_EMPRESA" ReturnItem="" DirtyInfo="true" Title="Empresa" DisplayWidth="60"/>
        </LOV>
        <LOV Name="LOV_ITEMPRECOMPRA" YPosition="69" DirtyInfo="true" Title="Seleção de Item" Width="790"
             RecordGroupName="LOV_ITEMPRECOMPRA" Height="350">
            <LOVColumnMapping Name="DS_ITEM" ReturnItem="PREITEMCOMPRA.DS_ITEMAXYS" DirtyInfo="true" Title="Descrição"
                              DisplayWidth="600"/>
            <LOVColumnMapping Name="CD_ITEM" ReturnItem="PREITEMCOMPRA.CD_ITEMAXYS" DirtyInfo="true" Title="Código"
                              DisplayWidth="72"/>
        </LOV>
        <ProgramUnit Name="MENSAGEM_PADRAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE MENSAGEM_PADRAO(I_CD_MENSAGEM IN VARCHAR2,&amp;#10;                          I_PARAMETRO   IN VARCHAR2) AS -- AQUI SOMENTE PASSA O NUMERO DA MENSAGEM TIPO SE EH MAX000001 SOMENTE PASSA 1&amp;#10;/* &amp;#10;    &amp;#10;&#x9;I_CD_MENSAGEM = -- AQUI SOMENTE PASSA O NUMERO DA MENSAGEM TIPO SE EH MAX000001 SOMENTE PASSA 1&amp;#10;&amp;#10;*/&amp;#10;&amp;#10;&#x9;ALERT_ID &#x9;&#x9;  ALERT;&amp;#10;&#x9;MENSAGEM &#x9;&#x9;  VARCHAR2(32000);&amp;#10;  RETORNO  &#x9;&#x9;  NUMBER;&amp;#10;  I_MENSAGEM&#x9;  VARCHAR2(32000);&amp;#10;  V_TP_MENSAGEM VARCHAR2(32000);&amp;#10;  V_DS_MENSAGEM VARCHAR2(32000);&amp;#10;  J_DS_MENSAGEM VARCHAR2(32000);&amp;#10;  V_CD_MENSAGEM VARCHAR2(32000);&amp;#10;  V_TITULO      VARCHAR2(32000);&amp;#10;  &amp;#10;&#x9;V_DEFAULT_BROWSER&#x9;  VARCHAR2(32000);&amp;#10;&#x9;V_TP_CONEXAO&#x9;&#x9;  &#x9;VARCHAR2(32000);&amp;#10;&#x9;V_CAMINHO_AJUDA&#x9;  &#x9;VARCHAR2(32000);&amp;#10;&#x9;ARQUIVO_NAO_EXISTE&#x9;EXCEPTION;&amp;#10;&amp;#10;&amp;#10;  V_ST_MENSPRONTA VARCHAR2(1) := 'N'; -- 'S' - SIM 'N' - NÃO&amp;#10;  V_NR_POSISAO    NUMBER;&amp;#10;&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;V_ST_MENSPRONTA := 'N';&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;-- TESTA SE A MENSAGEM EH PADÇÃO OU NAUM --&amp;#10;&#x9;IF INSTR(I_PARAMETRO,'¢MPM=') > 0 THEN&amp;#10;&#x9;&#x9;V_ST_MENSPRONTA   := 'S'; -- EH MENSAGEM PADRÃO Q VEIO DO BANCO DE DADOS&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;V_ST_MENSPRONTA := 'N'; -- NÃO EH MENSAGEM PADRÃO Q VEIO DO BANCO DE DADOS&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF V_ST_MENSPRONTA = 'N' THEN&amp;#10;&#x9;&#x9;-- Pesquisa Mensagem --&amp;#10;&#x9;&#x9;PACK_MENSAGEM.MONTA_MENSAGEM(I_CD_MENSAGEM,I_PARAMETRO,V_TP_MENSAGEM,V_DS_MENSAGEM,I_MENSAGEM);&amp;#10;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;MESSAGE(I_MENSAGEM,ACKNOWLEDGE);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_MENSAGEM.ARRUMA_CD_MENSAGEM(I_CD_MENSAGEM,V_CD_MENSAGEM,I_MENSAGEM);&amp;#10;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;MESSAGE(I_MENSAGEM,ACKNOWLEDGE);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;ELSIF V_ST_MENSPRONTA = 'S' THEN&amp;#10;&amp;#10;&#x9;&#x9;V_DS_MENSAGEM := SUBSTR(I_PARAMETRO,1,LENGTH(I_PARAMETRO)/*-15*/);&amp;#10;&#x9;&#x9;V_CD_MENSAGEM := I_CD_MENSAGEM;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;-- Pesquisa TP_MENSAGEM --&amp;#10;&#x9;&#x9;PACK_MENSAGEM.MONTA_MENSAGEM(V_CD_MENSAGEM,'¢¢',V_TP_MENSAGEM,J_DS_MENSAGEM,I_MENSAGEM);&amp;#10;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;MESSAGE(I_MENSAGEM,ACKNOWLEDGE);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END IF;&#x9;&amp;#10;&amp;#10;&#x9;MENSAGEM := 'MENSAGEM_';&amp;#10;&#x9;IF V_TP_MENSAGEM = 'E' THEN&amp;#10;&#x9;&#x9;MENSAGEM := MENSAGEM||'ERRO';&amp;#10;&#x9;&#x9;V_TITULO := 'ERRO';&amp;#10;&#x9;ELSIF V_TP_MENSAGEM = 'O' THEN&amp;#10;&#x9;&#x9;MENSAGEM := MENSAGEM||'OBSERVACAO';&amp;#10;&#x9;&#x9;V_TITULO := 'Observação';&amp;#10;&#x9;ELSIF V_TP_MENSAGEM = 'P' THEN&amp;#10;&#x9;&#x9;MENSAGEM := MENSAGEM||'PRECAUCAO';&amp;#10;&#x9;&#x9;V_TITULO := 'Precaução';&amp;#10;&#x9;END IF;&amp;#10;&#x9;--MENSAGEM := MENSAGEM||'_NOVA';&amp;#10;&#x9;V_TITULO := V_TITULO||' - '||V_CD_MENSAGEM;&amp;#10;&#x9;&amp;#10;&#x9;/**JMS:28/09/2006:14099&amp;#10;&#x9; * MODIFICADO PARA QUANDO FOR CHAMAR A MENSAGEM NA TELA PARA O USUÁRIO ELE ABRA O MEU FORM COM A MENSAGEM&amp;#10;&#x9; * E NÃO A JANELA PADRÃO DO FORMS, DESTA FORMA É POSSÍVEL TRAZER MAIS DE 256 CAMPOS NA TELA.&amp;#10;&#x9; */&amp;#10;&#x9;IF (V_TP_MENSAGEM &lt;> 'A') THEN&amp;#10;&#x9;&#x9;PACK_MENSAGEM.SET_TITULO(V_TITULO);&amp;#10;&#x9;&#x9;PACK_MENSAGEM.SET_MENSAGEM(V_DS_MENSAGEM);&amp;#10;&#x9;&#x9;PACK_MENSAGEM.SET_TIPO_MENSAGEM(V_TP_MENSAGEM);&amp;#10;&#x9;&#x9;PACK_MENSAGEM.SET_CODIGO_MENSAGEM(V_CD_MENSAGEM);&amp;#10;&#x9;&#x9;CALL_FORM('ABT002', NO_HIDE, DO_REPLACE, NO_QUERY_ONLY);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;&#x9;MESSAGE(V_DS_MENSAGEM,ACKNOWLEDGE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;PACK_MENSAGEM.SET_CODIGO_MENSAGEM(NULL);&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN ARQUIVO_NAO_EXISTE THEN&amp;#10;&#x9;  NULL;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="MENSAGEM" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE MENSAGEM (V_DS_TITULO IN VARCHAR2,V_DS_MENSAGEM IN VARCHAR2,V_TP_MENSAGEM IN NUMBER) IS&amp;#10;/* &amp;#10;    &amp;#10;     Como usar?&amp;#10;     &amp;#10;     MENSAGEM (TITULO,MENSAGEM,ESTILO);&amp;#10;     &amp;#10;     TITULO(varchar2)   = titulo da janela de mensagem&amp;#10;     MENSAGEM(varchar2) = mensagem central&amp;#10;     ESTILO(Number)     = estilo da mensagem (icone)&amp;#10;       - 1 = Erro&amp;#10;       - 2 = Observacao&amp;#10;       - 3 = Precaucao&amp;#10;       - 4 = Aparece na barra (Não utiliza titulo) &amp;#10;&amp;#10;*/&amp;#10;&#x9;ALERT_ID ALERT;&amp;#10;&#x9;MENSAGEM VARCHAR2(32000);&amp;#10;  RETORNO  NUMBER;&amp;#10;  &amp;#10;  V_ST_PADRAO   VARCHAR2(1) := 'N'; -- 'S' - SIM 'N' - NÃO&amp;#10;  V_CD_MENSAGEM VARCHAR2(32000);&amp;#10;  V_NR_POSISAO  NUMBER;&amp;#10;  &amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;V_ST_PADRAO := 'N';&amp;#10;&#x9;&amp;#10;&#x9;-- TESTA SE A MENSAGEM EH PADÇÃO OU NAUM --&amp;#10;&#x9;IF INSTR(V_DS_MENSAGEM,'¢MPM=') > 0 THEN&amp;#10;&#x9;&#x9;V_ST_PADRAO   := 'S'; -- EH MENSAGEM PADRÃO Q VEIO DO BANCO DE DADOS&amp;#10;&#x9;&#x9;V_NR_POSISAO  := INSTR(V_DS_MENSAGEM,'¢MPM=') + 5;&amp;#10;&#x9;&#x9;V_CD_MENSAGEM := SUBSTR(V_DS_MENSAGEM,V_NR_POSISAO,9);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;V_ST_PADRAO := 'N'; -- NÃO EH MENSAGEM PADRÃO Q VEIO DO BANCO DE DADOS&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/**JMS:28/09/2006:14099&amp;#10;&#x9; * MODIFICADO PARA QUANDO FOR CHAMAR A MENSAGEM NA TELA PARA O USUÁRIO ELE ABRA O MEU FORM COM A MENSAGEM&amp;#10;&#x9; * E NÃO A JANELA PADRÃO DO FORMS, DESTA FORMA É POSSÍVEL TRAZER MAIS DE 256 CAMPOS NA TELA.&amp;#10;&#x9; */&amp;#10;&#x9;PACK_MENSAGEM.SET_CODIGO_MENSAGEM(NULL);&amp;#10;&#x9;IF (V_TP_MENSAGEM &lt;> 4) THEN&amp;#10;&#x9;&#x9;IF NVL(V_ST_PADRAO,'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;PACK_MENSAGEM.SET_TITULO(V_DS_TITULO);&amp;#10;&#x9;&#x9;&#x9;PACK_MENSAGEM.SET_MENSAGEM(V_DS_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;PACK_MENSAGEM.SET_TIPO_MENSAGEM(V_TP_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;CALL_FORM ('ABT002', NO_HIDE, DO_REPLACE, NO_QUERY_ONLY);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(V_CD_MENSAGEM,V_DS_MENSAGEM);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;&#x9;MESSAGE(V_DS_MENSAGEM,NO_ACKNOWLEDGE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;PACK_MENSAGEM.SET_CODIGO_MENSAGEM(NULL);&amp;#10;&amp;#10;&#x9;/*&amp;#10;&#x9;IF V_ST_PADRAO = 'N' THEN&amp;#10;&#x9;&#x9;MENSAGEM := 'MENSAGEM_';&amp;#10;&#x9;&#x9;IF (V_TP_MENSAGEM = 1) THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM := MENSAGEM || 'ERRO';&amp;#10;&#x9;&#x9;ELSIF (V_TP_MENSAGEM = 2) THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM := MENSAGEM || 'OBSERVACAO';&amp;#10;&#x9;&#x9;ELSIF (V_TP_MENSAGEM = 3) THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM := MENSAGEM || 'PRECAUCAO';&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;IF (V_TP_MENSAGEM &lt;> 4) THEN&amp;#10;&#x9;&#x9;&#x9;ALERT_ID := FIND_ALERT(MENSAGEM);&amp;#10;&#x9;&#x9;  SET_ALERT_PROPERTY(ALERT_ID,ALERT_MESSAGE_TEXT,V_DS_MENSAGEM);&amp;#10;&#x9;&#x9;  SET_ALERT_PROPERTY(ALERT_ID,TITLE,V_DS_TITULO);&amp;#10;&#x9;&#x9;  RETORNO := SHOW_ALERT(ALERT_ID);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;&#x9;&#x9;MESSAGE(V_DS_MENSAGEM,NO_ACKNOWLEDGE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;ELSIF V_ST_PADRAO = 'S' THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(V_CD_MENSAGEM,V_DS_MENSAGEM);&amp;#10;&#x9;END IF;&#x9;&amp;#10;&#x9;*/&amp;#10;&#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_MENSAGEM" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VALIDA_MENSAGEM IS&amp;#10;  TIPO_MENSAGEM   VARCHAR2(03) := MESSAGE_TYPE;&amp;#10;  CODIGO_MENSAGEM NUMBER       := MESSAGE_CODE;&amp;#10;BEGIN&amp;#10;  IF (TIPO_MENSAGEM = 'FRM') AND (CODIGO_MENSAGEM = 40400) THEN&amp;#10;      --Registro aplicado e salvo&amp;#10;      NULL;&amp;#10;  ELSE&amp;#10;     MESSAGE (MESSAGE_TYPE||'-'||MESSAGE_CODE||' '||MESSAGE_TEXT);&amp;#10;  END IF;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="AUDITA_GRAVACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE AUDITA_GRAVACAO IS&amp;#10;  PRIM_ITEM      VARCHAR2(80);&amp;#10;  ULTI_ITEM      VARCHAR2(80);&amp;#10;  STATUS         VARCHAR2(15);&amp;#10;  PROX_BLOCO     VARCHAR2(80);&amp;#10;  ULTI_BLOCO     VARCHAR2(80);&amp;#10;  TABELA         VARCHAR2(80);&amp;#10;  I_DS_DML       VARCHAR2(32000);&amp;#10;  I_TP_EVENTO    LOGUSUARIO.TP_EVENTO%TYPE;&amp;#10;  I_DS_EVENTO    VARCHAR2(32000);&amp;#10;  I_REGISTRO     VARCHAR2(32000);&amp;#10;  I_CAMPOS_INS   VARCHAR2(32000);&amp;#10;  I_VALORES_INS  VARCHAR2(32000);&amp;#10;  I_INSERT       VARCHAR2(32000);&amp;#10;  I_CONTADOR_INS NUMBER;&amp;#10;  I_CAMPOS_UPD   VARCHAR2(32000);&amp;#10;  I_VALORES_UPD  VARCHAR2(32000);&amp;#10;  I_UPDATE       VARCHAR2(32000);&amp;#10;  I_WHERE        VARCHAR2(32000);&amp;#10;  I_CONTADOR_UPD NUMBER;&amp;#10;BEGIN&amp;#10;  --DHG:22411:Incluida verificação para que sempre volte para o bloco origem após terminar a verificação&amp;#10;  :GLOBAL.MD_BLOCO := :SYSTEM.CURSOR_BLOCK;&amp;#10;  PROX_BLOCO := GET_FORM_PROPERTY(:SYSTEM.CURRENT_FORM,FIRST_BLOCK);&amp;#10;  ULTI_BLOCO := GET_FORM_PROPERTY(:SYSTEM.CURRENT_FORM,LAST_BLOCK);&amp;#10;  IF PROX_BLOCO IS NOT NULL THEN&amp;#10;    WHILE (PROX_BLOCO &lt;> ULTI_BLOCO) LOOP&amp;#10;      /* MRH:17/12/2008:20503&amp;#10;       * Verifico se o bloco atual não é um bloco padrão usado no Maxys.&amp;#10;       * Essa verificação evita que um desses blocos seja exibido na tela&amp;#10;       * caso o WHILE termine sobre um deles.&amp;#10;       */&amp;#10;      IF PROX_BLOCO NOT IN ('IMPRESSAO','CONSULTA','PROGRESSAO','PROGRESSAO2','VERSAO_REL','BALANCA') THEN&amp;#10;&#x9;    &#x9;/* MWE:18/09/2007:15149&amp;#10;&#x9;    &#x9; * ao alterar o TGR012, encontrei um erro neste procedimento.&amp;#10;&#x9;    &#x9; * O TGR012 tem um bloco que não tem item navegáveis e ocorre &amp;#10;&#x9;    &#x9; * erro ao entrar no bloco.&amp;#10;&#x9;    &#x9; * adicionado o comando para retornar true caso o bloco seja nevegável&amp;#10;&#x9;    &#x9; */ &amp;#10;&#x9;      IF GET_BLOCK_PROPERTY(PROX_BLOCO,ENTERABLE) = 'TRUE' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_BLOCK (PROX_BLOCO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_TP_EVENTO    := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_REGISTRO     := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_DS_EVENTO    := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CAMPOS_INS   := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_VALORES_INS  := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_INSERT       := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CONTADOR_INS := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CAMPOS_UPD   := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_VALORES_UPD  := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_UPDATE       := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CONTADOR_UPD := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_WHERE        := '';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;TABELA         := GET_BLOCK_PROPERTY(PROX_BLOCO,DML_DATA_TARGET_NAME);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;PRIM_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,FIRST_ITEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ULTI_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,LAST_ITEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;STATUS         := :SYSTEM.RECORD_STATUS;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;LOOP&amp;#10;&#x9;        &#x9;IF STATUS = 'INSERT' THEN&amp;#10;&#x9;        &#x9;&#x9;--GDG:05/01/2010:32828 Adicionada verificação para gravar auditoria dos campos sublinhados(por padrão, são campos obrigatórios)&amp;#10;&#x9;            IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' OR&amp;#10;&#x9;            &#x9; GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PROMPT_FONT_STYLE) = 'UNDERLINE' THEN&amp;#10;&#x9;              I_TP_EVENTO := 'I';&amp;#10;&#x9;              I_REGISTRO  := I_REGISTRO||' '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PROMPT_TEXT)||' '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;              I_DS_EVENTO := ('Inseriu na tabela ' || TABELA || ' o registro ' || I_REGISTRO);&amp;#10;&#x9;            END IF;&amp;#10;&#x9;            IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NOT NULL THEN&amp;#10;&#x9;              IF (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'TEXT ITEM') OR&amp;#10;&#x9;                 (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'LIST') OR  &amp;#10;&#x9;                 (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'RADIO GROUP') OR &amp;#10;&#x9;                 (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'CHECK BOX') THEN&amp;#10;&#x9;                IF I_CONTADOR_INS = 0 THEN&amp;#10;&#x9;                  I_CAMPOS_INS  := ' ( '||PRIM_ITEM;&amp;#10;&#x9;                  IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;                    I_VALORES_INS := ' ( '||CHR(39)||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;                  ELSE&amp;#10;&#x9;                    I_VALORES_INS := ' ( '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;                  END IF;&amp;#10;&#x9;                ELSE&amp;#10;&#x9;                  I_CAMPOS_INS := I_CAMPOS_INS||', '||PRIM_ITEM;&amp;#10;&#x9;                  IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;                    I_VALORES_INS := I_VALORES_INS||', '||CHR(39)||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;                  ELSE&amp;#10;&#x9;                    I_VALORES_INS := I_VALORES_INS||', '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;                  END IF;&amp;#10;&#x9;                END IF;&amp;#10;&#x9;                I_INSERT := 'INSERT INTO '||TABELA;&amp;#10;&#x9;              END IF;&amp;#10;&#x9;              I_CONTADOR_INS := I_CONTADOR_INS + 1;&amp;#10;&#x9;            END IF;&amp;#10;&#x9;          ELSIF STATUS = 'CHANGED' THEN&amp;#10;&#x9;            IF (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'TEXT ITEM') OR&amp;#10;&#x9;               (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'LIST') OR&amp;#10;&#x9;               (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'RADIO GROUP') OR&amp;#10;&#x9;               (GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,ITEM_TYPE) = 'CHECK BOX') THEN&amp;#10;&#x9;               GO_ITEM (PROX_BLOCO||'.'||PRIM_ITEM);&amp;#10;&#x9;              --GDG:05/01/2010:32828 Adicionada verificação para gravar auditoria dos campos sublinhados(por padrão, são campos obrigatórios)&amp;#10;&#x9;              IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' OR&amp;#10;&#x9;              &#x9; GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PROMPT_FONT_STYLE) = 'UNDERLINE' THEN&amp;#10;&#x9;                I_TP_EVENTO := 'A';&amp;#10;&#x9;                I_REGISTRO  := I_REGISTRO||' '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PROMPT_TEXT)||' '||:SYSTEM.CURSOR_VALUE;&amp;#10;&#x9;                I_DS_EVENTO := ('Atualizou o registro ' || I_REGISTRO || ' na tabela ' || TABELA);&amp;#10;&#x9;              END IF;&amp;#10;&#x9;              IF (:SYSTEM.CURSOR_VALUE IS NOT NULL) THEN&amp;#10;&#x9;                IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) &lt;> 'TRUE' THEN&amp;#10;&#x9;                  IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;                    IF (PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.HR_RECORD') THEN&amp;#10;&#x9;                      I_VALORES_UPD := I_VALORES_UPD||PRIM_ITEM||' = '||CHR(39)||TO_CHAR(RETORNA_DATAHORA,'HH24:MI')||CHR(39)||', ';&amp;#10;&#x9;                    ELSE&amp;#10;&#x9;                      I_VALORES_UPD := I_VALORES_UPD||PRIM_ITEM||' = '||CHR(39)||:SYSTEM.CURSOR_VALUE||CHR(39)||', ';&amp;#10;&#x9;                    END IF;&amp;#10;&#x9;                  ELSE&amp;#10;&#x9;                    IF (PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.DT_RECORD') THEN&amp;#10;&#x9;                      I_VALORES_UPD := I_VALORES_UPD||PRIM_ITEM||' = '||RETORNA_DATAHORA||', ';&amp;#10;&#x9;                    ELSE&amp;#10;&#x9;                      I_VALORES_UPD := I_VALORES_UPD||PRIM_ITEM||' = '||:SYSTEM.CURSOR_VALUE||', ';&amp;#10;&#x9;                    END IF;&amp;#10;&#x9;                  END IF;&amp;#10;&#x9;                END IF;&amp;#10;&#x9;              ELSIF (:SYSTEM.CURSOR_VALUE IS NULL) THEN&amp;#10;&#x9;                IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) &lt;> 'TRUE' THEN&amp;#10;&#x9;                  I_VALORES_UPD := I_VALORES_UPD||PRIM_ITEM||' = '||CHR(39)||' '||CHR(39)||', ';&amp;#10;&#x9;                END IF;&amp;#10;&#x9;              END IF;&amp;#10;&#x9;            END IF;&amp;#10;&#x9;            IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;&#x9;              IF I_CONTADOR_UPD = 0 THEN&amp;#10;&#x9;                IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;                  I_CAMPOS_UPD := I_CAMPOS_UPD||PRIM_ITEM||' = '||CHR(39)||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;                ELSE&amp;#10;&#x9;                  I_CAMPOS_UPD := I_CAMPOS_UPD||PRIM_ITEM||' = '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;                END IF;&amp;#10;&#x9;              ELSE&amp;#10;&#x9;                IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;                  I_CAMPOS_UPD := I_CAMPOS_UPD||' AND '||PRIM_ITEM||' = '||CHR(39)||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;                ELSE&amp;#10;&#x9;                  I_CAMPOS_UPD := I_CAMPOS_UPD||' AND '||PRIM_ITEM||' = '||GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;                END IF;&amp;#10;&#x9;              END IF;&amp;#10;&#x9;              I_CONTADOR_UPD := I_CONTADOR_UPD + 1;&amp;#10;&#x9;              I_WHERE        := ' WHERE '||I_CAMPOS_UPD;&amp;#10;&#x9;            END IF;&amp;#10;&#x9;          END IF;&amp;#10;&#x9;          EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;&#x9;          PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;&#x9;        END LOOP;&amp;#10;&#x9;        IF (I_CAMPOS_INS IS NOT NULL) AND (I_VALORES_INS IS NOT NULL) THEN&amp;#10;&#x9;          I_CAMPOS_INS  := I_CAMPOS_INS||')';&amp;#10;&#x9;          I_VALORES_INS := I_VALORES_INS||')';&amp;#10;&#x9;          I_INSERT      := I_INSERT||I_CAMPOS_INS||' VALUES '||I_VALORES_INS||';';&amp;#10;&#x9;        END IF;&amp;#10;&#x9;        IF (I_VALORES_UPD IS NOT NULL) THEN&amp;#10;&#x9;          I_VALORES_UPD := SUBSTR(I_VALORES_UPD,1,LENGTH(I_VALORES_UPD)-2);&amp;#10;&#x9;          I_UPDATE      := 'UPDATE '||TABELA||' SET '||I_VALORES_UPD||' '||I_WHERE||';';&amp;#10;&#x9;        END IF;&amp;#10;&#x9;        IF I_TP_EVENTO = 'I' THEN&amp;#10;&#x9;          I_DS_DML := I_INSERT;&amp;#10;&#x9;        ELSE&amp;#10;&#x9;          I_DS_DML := I_UPDATE;&amp;#10;&#x9;        END IF;&amp;#10;&#x9;        IF I_DS_EVENTO IS NOT NULL THEN&amp;#10;&#x9;          /*RDS:19/08/2008:18621&amp;#10;&#x9;        &#x9;* Alterado para gravar mais de uma linha na logusuario, caso ultrapasse os 2000 caracteres do campo ds_dml&amp;#10;&#x9;        &#x9;*/&amp;#10;&#x9;        &#x9;/*RDS:29177:06/10/2010&amp;#10;&#x9;        &#x9; * Acertado laço na gravação do log no procedimento audita_gravacao&amp;#10;&#x9;        &#x9;*/&amp;#10;&#x9;        &#x9;FOR I IN 1.. NVL((TRUNC(LENGTH(I_DS_DML) / 2000) + 1),1) LOOP   &amp;#10;&#x9;            BEGIN&amp;#10;&#x9;&#x9;            INSERT INTO LOGUSUARIO (CD_EMPRESA,CD_USUARIO,CD_MODULO,CD_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9;                                  DT_EVENTO,SQ_EVENTO,HR_EVENTO,DS_EVENTO,TP_EVENTO,DS_DML)&amp;#10;&#x9;&#x9;&#x9;                  VALUES (:GLOBAL.CD_EMPRESA,:GLOBAL.CD_USUARIO,:GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;                          :GLOBAL.CD_PROGRAMA,RETORNA_DATAHORA,SEQ_AUDITORIA.NEXTVAL,&amp;#10;&#x9;&#x9;&#x9;                          TO_CHAR(RETORNA_DATAHORA,'HH24:MI'),I_DS_EVENTO,I_TP_EVENTO,SUBSTR(I_DS_DML,((I - 1) * 2000 + 1),2000));&amp;#10;&#x9;&#x9;&#x9;        EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  DEBUG_PROGRAMA('AUDITA_GRAVACAO - Erro durante tentativa de inserção na tabela LOGUSUARIO: '||SQLERRM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;        END LOOP;&amp;#10;&#x9;        END IF;&amp;#10;&#x9;      END IF;&amp;#10;&#x9;    END IF; --IF PROX_BLOCO NOT IN ('IMPRESSAO','CONSULTA','PROGRESSAO','PROGRESSAO2','VERSAO_REL','BALANCA') THEN  &amp;#10;      -- pega o próximo bloco&amp;#10;      PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;    END LOOP;&amp;#10;  END IF;&amp;#10;  --DHG:22411:Incluida verificação para que sempre volte para o bloco origem após terminar a verificação&amp;#10;  GO_BLOCK(:GLOBAL.MD_BLOCO);&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="HABILITA_GRAVACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE HABILITA_GRAVACAO&amp;#10;   (BLOCO_INICIAL  IN VARCHAR2,&amp;#10;    BLOCO_FINAL    IN VARCHAR2,&amp;#10;    ITEM_EXCECAO   IN VARCHAR2,&amp;#10;    VERIFICA_CHAVE IN VARCHAR2) IS&amp;#10;    PRIM_ITEM     VARCHAR2(80);&amp;#10;    ULTI_ITEM     VARCHAR2(80);&amp;#10;    PROX_BLOCO    VARCHAR2(80);&amp;#10;    ULTI_BLOCO    VARCHAR2(80);&amp;#10;BEGIN&amp;#10;  PROX_BLOCO := BLOCO_INICIAL;&amp;#10;  ULTI_BLOCO := BLOCO_FINAL;&amp;#10;  IF :GLOBAL.TP_ACESSO = 'M' THEN&amp;#10;     SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_TRUE);&amp;#10;     IF (:SYSTEM.RECORD_STATUS = 'NEW') AND (:SYSTEM.LAST_RECORD = 'FALSE') THEN&amp;#10;        SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;     ELSIF (:SYSTEM.RECORD_STATUS = 'NEW') AND (:SYSTEM.LAST_RECORD = 'TRUE') THEN&amp;#10;        IF PROX_BLOCO IS NOT NULL THEN&amp;#10;          LOOP&amp;#10;            PRIM_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,FIRST_ITEM);&amp;#10;            ULTI_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,LAST_ITEM);&amp;#10;            LOOP&amp;#10;              IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' THEN&amp;#10;                 IF VERIFICA_CHAVE = 'S' THEN&amp;#10;                    IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                      END IF;&amp;#10;                    ELSIF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'FALSE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    END IF;&amp;#10;                 END IF;&amp;#10;              END IF;&amp;#10;              EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;              PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;            END LOOP;&amp;#10;            EXIT WHEN PROX_BLOCO = ULTI_BLOCO;&amp;#10;            PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;          END LOOP;&amp;#10;        END IF;  &amp;#10;     ELSIF (:SYSTEM.RECORD_STATUS = 'QUERY') AND (:SYSTEM.LAST_RECORD = 'FALSE') THEN&amp;#10;        IF PROX_BLOCO IS NOT NULL THEN&amp;#10;          LOOP&amp;#10;            PRIM_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,FIRST_ITEM);&amp;#10;            ULTI_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,LAST_ITEM);&amp;#10;            LOOP&amp;#10;              IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' THEN&amp;#10;                 IF VERIFICA_CHAVE = 'S' THEN&amp;#10;                    IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    ELSIF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'FALSE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    END IF;&amp;#10;                 END IF;&amp;#10;              END IF;&amp;#10;              EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;              PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;            END LOOP;&amp;#10;            EXIT WHEN PROX_BLOCO = ULTI_BLOCO;&amp;#10;            PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;          END LOOP;&amp;#10;        END IF;  &amp;#10;     ELSIF (:SYSTEM.RECORD_STATUS = 'QUERY') AND (:SYSTEM.LAST_RECORD = 'TRUE') THEN&amp;#10;        IF PROX_BLOCO IS NOT NULL THEN&amp;#10;           LOOP&amp;#10;             PRIM_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,FIRST_ITEM);&amp;#10;             ULTI_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,LAST_ITEM);&amp;#10;             LOOP&amp;#10;               IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' THEN&amp;#10;                 IF VERIFICA_CHAVE = 'S' THEN&amp;#10;                    IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    ELSIF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'FALSE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    END IF;&amp;#10;                 END IF;&amp;#10;              END IF;&amp;#10;              EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;              PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;            END LOOP;&amp;#10;            EXIT WHEN PROX_BLOCO = ULTI_BLOCO;&amp;#10;            PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;          END LOOP;&amp;#10;        END IF;  &amp;#10;     ELSIF (:SYSTEM.RECORD_STATUS = 'INSERT') AND (:SYSTEM.LAST_RECORD = 'TRUE') THEN&amp;#10;        IF PROX_BLOCO IS NOT NULL THEN&amp;#10;          LOOP&amp;#10;            PRIM_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,FIRST_ITEM);&amp;#10;            ULTI_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,LAST_ITEM);&amp;#10;            LOOP&amp;#10;              IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' THEN&amp;#10;                 IF VERIFICA_CHAVE = 'S' THEN&amp;#10;                    IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    ELSIF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'FALSE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    END IF;&amp;#10;                 END IF;&amp;#10;              END IF;&amp;#10;              EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;              PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;            END LOOP;&amp;#10;            EXIT WHEN PROX_BLOCO = ULTI_BLOCO;&amp;#10;            PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;          END LOOP;&amp;#10;        END IF;  &amp;#10;     ELSIF (:SYSTEM.RECORD_STATUS = 'INSERT') AND (:SYSTEM.LAST_RECORD = 'FALSE') THEN&amp;#10;        IF PROX_BLOCO IS NOT NULL THEN&amp;#10;          LOOP&amp;#10;            PRIM_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,FIRST_ITEM);&amp;#10;            ULTI_ITEM := GET_BLOCK_PROPERTY(PROX_BLOCO,LAST_ITEM);&amp;#10;            LOOP&amp;#10;              IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' THEN&amp;#10;                 IF VERIFICA_CHAVE = 'S' THEN&amp;#10;                    IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    ELSIF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,PRIMARY_KEY) = 'FALSE' THEN&amp;#10;                       IF PROX_BLOCO||'.'||PRIM_ITEM &lt;> ITEM_EXCECAO THEN&amp;#10;                          IF GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,DATABASE_VALUE) IS NULL THEN&amp;#10;                             SET_ITEM_PROPERTY('TOOLBAR.BTN_GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;                          END IF;&amp;#10;                       END IF;&amp;#10;                    END IF;&amp;#10;                 END IF;&amp;#10;              END IF;&amp;#10;              EXIT WHEN PROX_BLOCO||'.'||PRIM_ITEM = PROX_BLOCO||'.'||ULTI_ITEM;&amp;#10;              PRIM_ITEM := GET_ITEM_PROPERTY(PROX_BLOCO||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;            END LOOP;&amp;#10;            EXIT WHEN PROX_BLOCO = ULTI_BLOCO;&amp;#10;            PROX_BLOCO := GET_BLOCK_PROPERTY(PROX_BLOCO,NEXTBLOCK);&amp;#10;          END LOOP;&amp;#10;        END IF;  &amp;#10;     END IF;&amp;#10;  END IF;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="AUDITA_EXCLUSAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE AUDITA_EXCLUSAO IS&amp;#10;  PRIM_ITEM   VARCHAR2(80);&amp;#10;  ULTI_ITEM   VARCHAR2(80);&amp;#10;  ULTI_BLOCO  VARCHAR2(80);&amp;#10;  TABELA      VARCHAR2(80);&amp;#10;  I_TP_EVENTO LOGUSUARIO.TP_EVENTO%TYPE;&amp;#10;  I_DS_EVENTO LOGUSUARIO.DS_EVENTO%TYPE;&amp;#10;  I_REGISTRO  LOGUSUARIO.DS_EVENTO%TYPE;&amp;#10;  I_INSTRUCAO LOGUSUARIO.DS_DML%TYPE; --Armazena a instrução de delete completa&amp;#10;  I_CHAVE     LOGUSUARIO.DS_DML%TYPE; --Armazena e é zerada com os atributos chave&amp;#10;  I_CONTADOR  NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;--DHG:22411:Incluida verificação para que sempre volte para o bloco origem após terminar a verificação&amp;#10;&#x9;:GLOBAL.MD_BLOCO := :SYSTEM.CURSOR_BLOCK;&amp;#10;&#x9;I_REGISTRO  := NULL;&amp;#10;&#x9;I_DS_EVENTO := NULL;&amp;#10;&#x9;I_TP_EVENTO := NULL;&amp;#10;&#x9;TABELA      := GET_BLOCK_PROPERTY(:SYSTEM.CURSOR_BLOCK,DML_DATA_TARGET_NAME);&amp;#10;&#x9;PRIM_ITEM   := GET_BLOCK_PROPERTY(:SYSTEM.CURSOR_BLOCK,FIRST_ITEM);&amp;#10;&#x9;ULTI_ITEM   := GET_BLOCK_PROPERTY(:SYSTEM.CURSOR_BLOCK,LAST_ITEM);&amp;#10;&#x9;I_CONTADOR  := 0;&amp;#10;&#x9;I_CHAVE     := NULL;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;--GDG:05/01/2010:32828 Adicionada verificação para gravar auditoria dos campos sublinhados(por padrão, são campos obrigatórios)&amp;#10;&#x9;  IF GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,REQUIRED) = 'TRUE' OR&amp;#10;&#x9;     GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,PROMPT_FONT_STYLE) = 'UNDERLINE' THEN&amp;#10;&#x9;&#x9;&#x9;I_TP_EVENTO := 'E';&amp;#10;&#x9;&#x9;&#x9;I_REGISTRO  := I_REGISTRO||' '||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,PROMPT_TEXT)||' '||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;&#x9;&#x9;I_DS_EVENTO := ('Excluiu o registro ' || I_REGISTRO || ' da tabela ' || TABELA);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  IF GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;&#x9;&#x9;&#x9;IF I_CONTADOR = 0 THEN&amp;#10;&#x9;&#x9;&#x9;  IF GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CHAVE := GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,ITEM_NAME)||' = '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          CHR(39)||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;&#x9;&#x9;  ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CHAVE := GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,ITEM_NAME)||' = '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;ELSIF I_CONTADOR >= 1 THEN&amp;#10;&#x9;&#x9;&#x9;  IF GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CHAVE := I_CHAVE||' AND '||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,ITEM_NAME)||' = '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          CHR(39)||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;&#x9;&#x9;&#x9;  ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_CHAVE := I_CHAVE||' AND '||GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,ITEM_NAME)||' = '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;I_INSTRUCAO := 'DELETE FROM '||TABELA||' WHERE '||I_CHAVE;&amp;#10;&#x9;&#x9;&#x9;I_CONTADOR  := I_CONTADOR + 1;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  &amp;#10;&#x9;  EXIT WHEN :SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM = :SYSTEM.CURSOR_BLOCK||'.'||ULTI_ITEM;&amp;#10;&#x9;  PRIM_ITEM := GET_ITEM_PROPERTY(:SYSTEM.CURSOR_BLOCK||'.'||PRIM_ITEM,NEXTITEM);&amp;#10;&#x9;END LOOP;&amp;#10;&#x9;&amp;#10;&#x9;--DHG:22411:Incluida verificação para que sempre volte para o bloco origem após terminar a verificação&amp;#10;&#x9;GO_BLOCK(:GLOBAL.MD_BLOCO);&amp;#10;      &amp;#10;&#x9;IF I_INSTRUCAO IS NOT NULL THEN&amp;#10;&#x9;  I_INSTRUCAO := I_INSTRUCAO||';';&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  INSERT INTO LOGUSUARIO (CD_EMPRESA,CD_USUARIO,CD_MODULO,CD_PROGRAMA,&amp;#10;&#x9;                          DT_EVENTO,SQ_EVENTO,HR_EVENTO,DS_EVENTO,TP_EVENTO,DS_DML)&amp;#10;&#x9;           VALUES (:GLOBAL.CD_EMPRESA,:GLOBAL.CD_USUARIO,:GLOBAL.CD_MODULO,&amp;#10;&#x9;                   :GLOBAL.CD_PROGRAMA,RETORNA_DATAHORA,SEQ_AUDITORIA.NEXTVAL,&amp;#10;&#x9;                   TO_CHAR(RETORNA_DATAHORA,'HH24:MI:SS'),I_DS_EVENTO,I_TP_EVENTO,I_INSTRUCAO);&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  DEBUG_PROGRAMA('AUDITA_EXCLUSAO - Erro durante tentativa de inserção na tabela LOGUSUARIO: '||SQLERRM);&amp;#10;&#x9;END;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="AUDITORIA" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE AUDITORIA(&amp;#10;V_TP_EVENTO IN LOGUSUARIO.TP_EVENTO%TYPE,&amp;#10;V_DS_EVENTO IN LOGUSUARIO.DS_EVENTO%TYPE) IS&amp;#10;BEGIN  &amp;#10;   INSERT INTO LOGUSUARIO(CD_EMPRESA,&amp;#10;                          CD_USUARIO, &amp;#10;                          CD_MODULO,&amp;#10;                          CD_PROGRAMA,&amp;#10;                          DT_EVENTO, &amp;#10;                          TP_EVENTO, &amp;#10;                          DS_EVENTO,&amp;#10;                          SQ_EVENTO,&amp;#10;                          HR_EVENTO)&amp;#10;     VALUES            (:GLOBAL.CD_EMPRESA,&amp;#10;                        :GLOBAL.CD_USUARIO,&amp;#10;                        :GLOBAL.CD_MODULO,&amp;#10;                        :GLOBAL.CD_PROGRAMA,&amp;#10;                        SYSDATE,&amp;#10;                        V_TP_EVENTO,&amp;#10;                        V_DS_EVENTO,&amp;#10;                        SEQ_AUDITORIA.NEXTVAL,&amp;#10;                        TO_CHAR(SYSDATE,'HH24:MI'));&amp;#10;   &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="CRIA_RECORDGROUP" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE CRIA_RECORDGROUP(&#x9;NM_GRUPO IN VARCHAR2,V_INSTRUCAO  IN VARCHAR2,V_ERRO OUT NUMBER) IS&amp;#10;&#x9;V_GRUPO &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RECORDGROUP;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;V_GRUPO :=  FIND_GROUP(NM_GRUPO);&amp;#10;  IF NOT ID_NULL(V_GRUPO) THEN&amp;#10;  &#x9;DELETE_GROUP(V_GRUPO);&amp;#10;  END IF;  &amp;#10;&#x9;V_GRUPO:= CREATE_GROUP_FROM_QUERY(NM_GRUPO,V_INSTRUCAO); &amp;#10;&#x9;V_ERRO := POPULATE_GROUP(V_GRUPO);&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VERIFICA" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VERIFICA(&amp;#10;V_CD_CENTROCUSTO IN ITEMCOMPRACCUSTO.CD_CENTROCUSTO%TYPE,&amp;#10;EXISTE OUT BOOLEAN)  IS&amp;#10;BEGIN&amp;#10;   EXISTE := FALSE;&amp;#10;   FIRST_RECORD;&amp;#10;   WHILE :SYSTEM.LAST_RECORD = 'FALSE' LOOP&amp;#10;      IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO = V_CD_CENTROCUSTO THEN&amp;#10;         EXISTE := TRUE;&amp;#10;      END IF;&amp;#10;   END LOOP;   &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="CENTRALIZA_FORM" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE CENTRALIZA_FORM(NM_FORMPRINCIPAL IN VARCHAR2, NM_FORMFILHO IN VARCHAR2) IS&amp;#10;&#x9;V_WIDTH_PRINCIPAL&#x9; NUMBER;&amp;#10;&#x9;V_HEIGHT_PRINCIPAL NUMBER;&amp;#10;&#x9;V_WIDTH_LAYOUT&#x9;   NUMBER;&amp;#10;&#x9;V_HEIGHT_LAYOUT    NUMBER;&amp;#10;&#x9;V_X_POS&#x9;           NUMBER;&amp;#10;&#x9;V_Y_POS&#x9;           NUMBER;&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;V_WIDTH_PRINCIPAL  := GET_WINDOW_PROPERTY(NM_FORMPRINCIPAL,WIDTH);&amp;#10;&#x9;V_HEIGHT_PRINCIPAL := GET_WINDOW_PROPERTY(NM_FORMPRINCIPAL,HEIGHT);&amp;#10;&#x9;&amp;#10;&#x9;V_WIDTH_LAYOUT     := GET_WINDOW_PROPERTY(NM_FORMFILHO,WIDTH);&amp;#10;&#x9;V_HEIGHT_LAYOUT    := GET_WINDOW_PROPERTY(NM_FORMFILHO,HEIGHT);&amp;#10;&#x9;&amp;#10;&#x9;V_X_POS := (V_WIDTH_PRINCIPAL  - V_WIDTH_LAYOUT)  / 2;&amp;#10;&#x9;V_Y_POS := (V_HEIGHT_PRINCIPAL - V_HEIGHT_LAYOUT) / 2;&amp;#10;&#x9;&amp;#10;&#x9;SET_WINDOW_PROPERTY(NM_FORMFILHO,X_POS,V_X_POS);&amp;#10;&#x9;SET_WINDOW_PROPERTY(NM_FORMFILHO,Y_POS,V_Y_POS);&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_ERROS" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VALIDA_ERROS IS&amp;#10;  TIPO_ERRO   VARCHAR2(03)    := ERROR_TYPE;&amp;#10;  CODIGO_ERRO NUMBER          := ERROR_CODE;&amp;#10;  DBMSERRCODE NUMBER          := DBMS_ERROR_CODE;&amp;#10;  DBMSERRTEXT VARCHAR2(32000) := DBMS_ERROR_TEXT;&amp;#10;  V_DS_PROMPT&#x9;VARCHAR2(200);&amp;#10;  V_MASCARA&#x9;&#x9;VARCHAR2(30);&amp;#10;  V_DS_ITEM&#x9;&#x9;VARCHAR2(30);&amp;#10;  V_MENSAGEM&#x9;VARCHAR2(32000);&amp;#10;  E_GERAL&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&amp;#10;BEGIN&amp;#10;&#x9;/**&amp;#10;&#x9; * Última alteração : 14/11/2008&amp;#10;&#x9; * Programador      : RBS - Rubens Sertage&amp;#10;&#x9; * Modificação      : Trata a mensagem de erro quando a sessão do usuário expirar.&amp;#10;&#x9; */&amp;#10; &#x9;/** RBS:SOL20158:14/11/2008&amp;#10;&#x9; *  Trata a mensagem de erro quando a sessão do usuário expirar.&amp;#10;&#x9; *  Mostra a mensagem apenas uma vez. Deve estar no começo do código.&amp;#10;&#x9; *  Se for necessário colocar algum procedimento anterior a este,&amp;#10;&#x9; *  o procedimento não deve fazer consulta ao banco. Vai funcionar &amp;#10;&#x9; * &#x9;normalmente da outra maneira, mas se a sessão expirar os erros não &amp;#10;&#x9; *  serão tratados.&amp;#10;&#x9; */&amp;#10;&#x9;IF (DBMSERRCODE IN (-1012,-28)) THEN &amp;#10;&#x9;&#x9;--Verifica se a mensagem já foi mostrada.&amp;#10;  &#x9;IF (:GLOBAL.ST_SESSAO_EXPIRADA = 'N') THEN&amp;#10;&#x9;&#x9;  MESSAGE('A sua sessão expirou, a aplicação deve ser reiniciada!');&amp;#10;&#x9;&#x9;  MESSAGE(' ');&amp;#10;&#x9;&#x9;  :GLOBAL.ST_SESSAO_EXPIRADA := 'S';&amp;#10;  &#x9;END IF;&amp;#10;  ELSE&amp;#10;&#x9;  /** EDU:03/04/2007&amp;#10;&#x9;   * Adicionado apenas para verificar o que passa nas variáveis,&amp;#10;&#x9;   * para facilitar uma futura alteração.&amp;#10;&#x9;   */&amp;#10;&#x9;&#x9;DEBUG_PROGRAMA(:SYSTEM.CURRENT_FORM||'.'||'VALIDA_ERROS : ERROR_TYPE: '||TIPO_ERRO||' - ERROR_CODE: '||CODIGO_ERRO);&amp;#10;&#x9;&#x9;DEBUG_PROGRAMA(:SYSTEM.CURRENT_FORM||'.'||'VALIDA_ERROS : DBMS_ERROR_CODE: '||DBMSERRCODE||' - DBMS_ERROR_TEXT: '||DBMSERRTEXT);&amp;#10;&#x9;  &amp;#10;&#x9;&#x9;IF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41803) THEN&amp;#10;&#x9;&#x9;&#x9;--Não há registro anterior a partir do qual copiar valor&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40209) THEN&amp;#10;&#x9;&#x9;  --O campo deve ser da tela FM999G999G999D000.&amp;#10;&#x9;&#x9;  IF (:SYSTEM.TRIGGER_ITEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;  V_DS_ITEM &#x9;:= :SYSTEM.TRIGGER_ITEM;&amp;#10;&#x9;&#x9;&#x9;  V_DS_PROMPT&#x9;:= GET_ITEM_PROPERTY(V_DS_ITEM,PROMPT_TEXT);&amp;#10;&#x9;&#x9;&#x9;  V_MASCARA   := GET_ITEM_PROPERTY(V_DS_ITEM,FORMAT_MASK);&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := 'O Campo '||V_DS_PROMPT||' deve estar no Formato '||V_MASCARA||'. Favor Verifique!'||:system.record_status;&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 42100) THEN&amp;#10;&#x9;&#x9;  --Não foram encontrados erros recentemente&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41003) THEN&amp;#10;&#x9;&#x9;  --Esta função não pode ser executada aqui&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40815) THEN&amp;#10;&#x9;&#x9;  --A variável %s não existe&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40222) THEN&amp;#10;&#x9;&#x9;  --Item desativado %s falhou na validação&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40738) THEN&amp;#10;&#x9;&#x9;  --Argumento 1 para incorporar GO_BLOCK não pode ser nulo&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41058) THEN&amp;#10;&#x9;&#x9;  --Esta propriedade não existe para GET_ITEM_PROPERTY&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40104) THEN&amp;#10;&#x9;&#x9;  --No such block %s&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41045) THEN&amp;#10;&#x9;&#x9;  --Não é possível localizar o item : ID inválido&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41332) THEN&amp;#10;&#x9;&#x9;  --List element index out of range&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40401) THEN&amp;#10;&#x9;&#x9;  --Não há alterações a salvar&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40105) THEN&amp;#10;&#x9;&#x9;  --Não foi possível decompor referência ao item ..&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41830) THEN&amp;#10;&#x9;  &#x9;IF ( :SYSTEM.CURSOR_ITEM = 'ITEMCOMPRA.CD_MOVIMENTACAO' ) THEN&amp;#10;&#x9;&#x9;  &#x9;BELL;&amp;#10;&#x9;&#x9;  &#x9;MESSAGE('Nenhuma Movimentação cadastrada com o para a Empresa e o Item Selecionados ');&amp;#10;&#x9;  &#x9;ELSE&amp;#10;&#x9;  &#x9;&#x9;MESSAGE (ERROR_TYPE||'-'||ERROR_CODE||' '||ERROR_TEXT);&#x9;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 41009) THEN&amp;#10;&#x9;&#x9;  --Tecla de função não permitida&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40510) THEN&amp;#10;&#x9;&#x9;&#x9;IF INSTR(DBMSERRTEXT,'ORA-02292',1) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BELL;&amp;#10;&#x9;&#x9;&#x9;&#x9;MESSAGE('Não foi possivel deletar o registro, registro filho localizado.');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;BELL;&amp;#10;&#x9;&#x9;&#x9;&#x9;MESSAGE('Não foi possivel deletar o registro.');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9; &#x9;END IF;&amp;#10;&#x9;  /**JMS:26/12/2006:13363&amp;#10;&#x9;   * COLOCADO ESTE IF AQUI PARA QUE SE CASO VIER ALGUMA MSG DA PACK_ERRO.LEVANTA_ERRO&amp;#10;&#x9;   * ELE ESTOURE A MENSAGEM Q ELA ESTOUROU NÃO A MSG COM O ORA-20999&amp;#10;&#x9;   * QUEM DESENVOLVEU O &quot;IF&quot; FOI O &quot;EDU&quot; EU SOH COLOQUEI NO MODELO2 POR O EDU ESTAVA&amp;#10;&#x9;   * DE FÉRIAS&amp;#10;&#x9;   */&amp;#10;&#x9;  /** EDU:03/04/2007:13363&amp;#10;&#x9;   * Foi removida a verificação da condição do DBMS_ERROR_CODE.&amp;#10;&#x9;   * Por hora, vai ficar assim, que é mais garantido, mas pode acontecer casos&amp;#10;&#x9;   * que não deve passar por aqui, então será necessário alterar esta condição.&amp;#10;&#x9;   * Deixei assim justamente porque não sei quais são estes casos ainda.&amp;#10;&#x9;   * O DEBUG_PROGRAMA no início do procedimento foi colocado para verificar&amp;#10;&#x9;   * o que está passando nas variáveis para facilitar a alteração.&amp;#10;&#x9;   */&amp;#10;&#x9;  ELSIF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO = 40735) AND (DBMSERRTEXT IS NOT NULL) THEN&amp;#10;&#x9;&#x9;  /**JMS:11/05/2007:15981&amp;#10;&#x9;&#x9;   * MODIFICAO PARA CONCATENAR O ERROR_TEXT PARA QUE MESMO QUE ESTOURE 1403&amp;#10;&#x9;&#x9;   * NO DBMSERRTEXT ELE VAI ESTOURAR O ERRO CORRETO QUE OCORREU DENTRO &amp;#10;&#x9;&#x9;   * DE ALGUM GATILHO DENTRO DO FORMS MESMO, DAE É POSSIVEL&amp;#10;&#x9;&#x9;   * VER DENTRO DO BOTÃO DETALHES DA MENSAGEM.&amp;#10;&#x9;&#x9;   */&amp;#10;&#x9;&#x9;&#x9;MENSAGEM('Erro',DBMSERRTEXT||' - '||ERROR_TEXT,1);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;  &#x9;MESSAGE(ERROR_TYPE||'-'||ERROR_CODE||' '||ERROR_TEXT);&amp;#10;&#x9;  &#x9;/** EDU:05/10/2007&amp;#10;&#x9;  &#x9; * Adicionado a verificação de acordo com o erro para dar um RAISE, pois assim,&amp;#10;&#x9;  &#x9; * conseguimos tratar para no momento de gravar um bloco de banco, não ficar&amp;#10;&#x9;  &#x9; * dando a mensagem várias vezes.&amp;#10;&#x9;  &#x9; * Fiquei na dúvida se neste ELSE eu deixava o RAISE direto ou colocava uma condição.&amp;#10;&#x9;  &#x9; * Optei por colocar a condição, assim posso evitar de dar problemas generalizados.&amp;#10;&#x9;  &#x9; */&amp;#10;&#x9;  &#x9;IF (TIPO_ERRO = 'FRM') AND (CODIGO_ERRO IN (40202, 40102)) THEN&amp;#10;&#x9;  &#x9;&#x9;-- 40202 - O campo deve ser informado.&amp;#10;&#x9;  &#x9;&#x9;-- 40102 - O registro deve ser informado ou excluído primeiro.&amp;#10;&#x9;  &#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;IF NOT (PACK_PROCEDIMENTOS.V_MSG) THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,4);&amp;#10;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.V_MSG := TRUE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="PACK_GLOBAL" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE PACK_GLOBAL IS&amp;#10;&amp;#10;&#x9;TP_PEDIDO        TIPOPEDIDO.CD_TIPOPEDIDO%TYPE;&amp;#10;&#x9;ST_APROVSOLIC    VARCHAR2(1);&amp;#10;&#x9;TP_ITEM          VARCHAR2(1);&amp;#10;&#x9;QT_PREVISTA      NUMBER;&amp;#10;&#x9;TP_SELECAOCONTA  PARMRECEB.TP_SELECAOCONTA%TYPE;&amp;#10;&#x9;TP_APROVSOLIC    VARCHAR2(1);&amp;#10;&#x9;ST_VALIDACCUSTO  VARCHAR2(1);&amp;#10;&#x9;VALIDA_QUANTIDADE&#x9;BOOLEAN := TRUE;&amp;#10;&amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_TELA" ParentModule="BIB004" ParentModuleType="25" ParentName="PACK_TELA"
                     ProgramUnitText="PACKAGE BODY PACK_TELA IS&amp;#10;  ------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE VALIDA_OBRIGATORIO(I_NM_BLOCO IN VARCHAR2,&amp;#10;&#x9;                             O_MENSAGEM IN OUT VARCHAR2) IS&amp;#10;&#x9;&amp;#10;&#x9;  V_TP_BLOCO         NUMBER;&amp;#10;&#x9;  V_BL_VALIDA        BOOLEAN := TRUE;&amp;#10;&#x9;  V_ITEMINI&#x9;         VARCHAR2(61); -- Item Inicial&amp;#10;&#x9;&#x9;V_ITEM&#x9;&#x9;         VARCHAR2(61); -- Item Atual&amp;#10;&#x9;  V_NR_REGISTRO      NUMBER;&amp;#10;&#x9;  V_NR_REGISTROMSG   NUMBER;&amp;#10;&#x9;  V_ITEMMSG          VARCHAR2(61);&amp;#10;&#x9;  V_MENSAGEM         VARCHAR2(2000);&amp;#10;&#x9;  E_GERAL            EXCEPTION;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;V_TP_BLOCO := GET_BLOCK_PROPERTY(FIND_BLOCK(I_NM_BLOCO),RECORDS_DISPLAYED);&amp;#10;&#x9;&#x9;-- Deleta registros em branco quando o bloco for do tipo Grid --&amp;#10;&#x9;&#x9;IF (V_TP_BLOCO &lt;> 1) THEN&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK(I_NM_BLOCO);&amp;#10;&#x9;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  V_ITEMINI := GET_BLOCK_PROPERTY(I_NM_BLOCO, FIRST_ITEM) ;&amp;#10;&#x9;&#x9;    V_ITEM    := I_NM_BLOCO || '.' || V_ITEMINI ;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    -- Para cada item&amp;#10;&#x9;&#x9;    WHILE V_ITEMINI IS NOT NULL LOOP&amp;#10;&#x9;&#x9;      -- Verifica se o Item é visivel --&amp;#10;&#x9;&#x9;&#x9;    IF (GET_ITEM_PROPERTY(V_ITEM, VISIBLE) = 'TRUE') AND (GET_ITEM_PROPERTY(V_ITEM, ITEM_CANVAS) IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;      -- Verifica se o Item pode ser manipulado pelo usuário --&amp;#10;&#x9;&#x9;&#x9;      IF GET_ITEM_PROPERTY(V_ITEM, ITEM_TYPE) NOT IN ('DISPLAY ITEM','BUTTON','OLE OBJECT') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      -- Verifica se o Item está preenchido&amp;#10;&#x9;&#x9;&#x9;&#x9;      IF NAME_IN(V_ITEM) IS NOT NULL AND (GET_ITEM_PROPERTY(V_ITEM, ENABLED) = 'TRUE') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;V_BL_VALIDA := FALSE;&amp;#10;&#x9;&#x9;&#x9;&#x9;      END IF;&#x9;    &amp;#10;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    -- Próximo item --&amp;#10;&#x9;&#x9;&#x9;    V_ITEMINI   := NULL;&amp;#10;&#x9;&#x9;&#x9;    V_ITEMINI   := GET_ITEM_PROPERTY(V_ITEM, NEXTITEM);&amp;#10;&#x9;&#x9;&#x9;    V_ITEM      := I_NM_BLOCO || '.' || V_ITEMINI;&amp;#10;&#x9;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  IF V_BL_VALIDA THEN&amp;#10;&#x9;&#x9;    &#x9;DELETE_RECORD;&amp;#10;&#x9;&#x9;    &#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  IF (:SYSTEM.LAST_RECORD = 'TRUE' AND V_BL_VALIDA) THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;DELETE_RECORD;&amp;#10;&#x9;&#x9;  &#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;&#x9;&#x9;&#x9;&#x9;V_BL_VALIDA := TRUE;&amp;#10;&#x9;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;-- Apenas valida bloco informado, se a variavel de mensagem estiver nula, &amp;#10;&#x9;&#x9;-- indicando que as validações de bloco anteriores não tiveram erro nenhum.&amp;#10;&#x9;&#x9;IF O_MENSAGEM IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK(I_NM_BLOCO);&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;V_NR_REGISTRO := :SYSTEM.CURSOR_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;V_ITEMINI := GET_BLOCK_PROPERTY(I_NM_BLOCO, FIRST_ITEM) ;&amp;#10;&#x9;&#x9;    V_ITEM    := I_NM_BLOCO || '.' || V_ITEMINI ;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    -- Para cada item&amp;#10;&#x9;&#x9;    WHILE V_ITEMINI IS NOT NULL LOOP&amp;#10;&#x9;&#x9;      -- Verifica se o Item é visivel --&amp;#10;&#x9;&#x9;&#x9;    IF (GET_ITEM_PROPERTY(V_ITEM, VISIBLE) = 'TRUE') AND (GET_ITEM_PROPERTY(V_ITEM, ITEM_CANVAS) IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;      -- Verifica se o Item pode ser manipulado pelo usuário --&amp;#10;&#x9;&#x9;&#x9;      IF (GET_ITEM_PROPERTY(V_ITEM, ITEM_TYPE) NOT IN ('DISPLAY ITEM','BUTTON','OLE OBJECT')) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      -- Verifica se o Item é obrigatório (UNDERLINE) e está preenchido&amp;#10;&#x9;&#x9;&#x9;&#x9;      IF (GET_ITEM_PROPERTY(V_ITEM, PROMPT_FONT_STYLE) = 'UNDERLINE' AND NAME_IN(V_ITEM) IS NULL AND GET_ITEM_PROPERTY(V_ITEM, ENABLED) = 'TRUE') THEN&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;IF (V_NR_REGISTROMSG IS NULL AND V_ITEMMSG IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &#x9;V_NR_REGISTROMSG := V_NR_REGISTRO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &#x9;V_ITEMMSG        := V_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;V_MENSAGEM := V_MENSAGEM||PACK_MENSAGEM.MENS_PADRAO(1710,'¢DS_VARIAVEL='||GET_ITEM_PROPERTY(V_ITEM, PROMPT_TEXT)||'¢')||'§'; --É Obrigatório Informar o Campo ¢DS_VARIAVEL¢.;&amp;#10;&#x9;&#x9;&#x9;&#x9;      END IF;&#x9;    &amp;#10;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    -- Próximo item --&amp;#10;&#x9;&#x9;&#x9;    V_ITEMINI   := NULL;&amp;#10;&#x9;&#x9;&#x9;    V_ITEMINI   := GET_ITEM_PROPERTY(V_ITEM, NEXTITEM);&amp;#10;&#x9;&#x9;&#x9;    V_ITEM      := I_NM_BLOCO || '.' || V_ITEMINI;&amp;#10;&#x9;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  GO_RECORD(V_NR_REGISTROMSG);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_ITEM(V_ITEMMSG);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  &#x9;EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;&#x9;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  &amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;  WHEN E_GERAL THEN&amp;#10;&#x9;    O_MENSAGEM := V_MENSAGEM;&amp;#10;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;-- RRW:05/08/2011:32921: Padronização.&amp;#10;&#x9;  &#x9;/*Erro ao validar campos obrigatórios. Erro: ¢SQLERRM¢.¥Local: ¢DS_LOCAL¢*/&amp;#10;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(8034, '¢SQLERRM='||SQLERRM||'¢DS_LOCAL=NÃO INFORMADO¢');&amp;#10;&#x9;    --O_MENSAGEM := SQLERRM;&amp;#10;&#x9;END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE HABILITA_ITEM(V_DS_ITEM VARCHAR2,V_NR_REGISTRO NUMBER DEFAULT NULL) IS&amp;#10;  BEGIN&amp;#10;  &#x9;IF V_NR_REGISTRO IS NULL THEN&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,UPDATE_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY(V_DS_ITEM,NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,VISUAL_ATTRIBUTE,'');&amp;#10;  &#x9;ELSE&amp;#10;&#x9;  &#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,UPDATE_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,VISUAL_ATTRIBUTE,'');&amp;#10;&#x9;&#x9;END IF;&amp;#10;  END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE DESABILITA_ITEM(V_DS_ITEM VARCHAR2,V_NR_REGISTRO NUMBER DEFAULT NULL) IS&amp;#10;  BEGIN&amp;#10;  &#x9;IF V_NR_REGISTRO IS NULL THEN&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY(V_DS_ITEM,NAVIGABLE,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;IF GET_ITEM_PROPERTY(V_DS_ITEM,ITEM_TYPE) NOT IN ('RADIO GROUP','CHECKBOX','LIST') THEN&amp;#10;&#x9;  &#x9;&#x9;SET_ITEM_PROPERTY(V_DS_ITEM,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;  &#x9;END IF;&amp;#10;  &#x9;ELSE&amp;#10;&#x9;  &#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;  &#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,NAVIGABLE,PROPERTY_FALSE);&amp;#10;&#x9;  &#x9;IF GET_ITEM_PROPERTY(V_DS_ITEM,ITEM_TYPE) NOT IN ('RADIO GROUP','CHECKBOX','LIST') THEN&amp;#10;&#x9;  &#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY(V_DS_ITEM,V_NR_REGISTRO,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;  END;&amp;#10;  ------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE MOSTRA_ITEM(V_DS_ITEM VARCHAR2) IS&amp;#10;  BEGIN&amp;#10;  &#x9;IF GET_ITEM_PROPERTY(V_DS_ITEM,VISIBLE) = 'FALSE' THEN&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM||'__F',VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,VISIBLE,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY(V_DS_ITEM,NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY(V_DS_ITEM,UPDATE_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;  END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE OCULTA_ITEM(V_DS_ITEM VARCHAR2) IS&amp;#10;  BEGIN&amp;#10;  &#x9;IF GET_ITEM_PROPERTY(V_DS_ITEM,VISIBLE) = 'TRUE' THEN&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM||'__F',VISIBLE,PROPERTY_FALSE);&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY(V_DS_ITEM,VISIBLE,PROPERTY_FALSE);&amp;#10;  &#x9;END IF;&amp;#10;  END;&amp;#10;  ------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;END;"
                     ParentFilename="BIB004.OLB" ProgramUnitType="Corpo do Pacote" ParentType="28"/>
        <ProgramUnit Name="PACK_TELA" ParentModule="BIB004" ParentModuleType="25" ParentName="PACK_TELA"
                     ProgramUnitText="PACKAGE PACK_TELA IS&amp;#10;  ------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;/* DHG:20/07/2010:21411&amp;#10;&#x9; * Criação de um procedimento padrão que valida preenchimento de campos obrigatórios.&amp;#10;&#x9; * Para ser considerado campo obrigatório, o programa deve estar padronizado para tal,&amp;#10;&#x9; * ou seja, para campos obrigatórios, o prompt do item deve estar sublinhado, indicando&amp;#10;&#x9; * a obrigatoriedade.&amp;#10;&#x9; * Utilização: antes de efetuar inclusões ou alterações.&amp;#10;&#x9; * EX.: Utilizado no KEY-COMMIT:&amp;#10;&#x9;   -- Quando validamos apenas um bloco.&amp;#10;&#x9;   VALIDA_OBRIGATORIO('NOME_DO_BLOCO',V_MENSAGEM);&amp;#10;&#x9;   IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;     RAISE E_GERAL; -- RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;   END IF;&amp;#10;&#x9;   &amp;#10;&#x9;   -- Quando queremos validar varios blocos na sequencia&amp;#10;&#x9;   VALIDA_OBRIGATORIO('NOME_DO_BLOCO_1',V_MENSAGEM);&amp;#10;&#x9;   VALIDA_OBRIGATORIO('NOME_DO_BLOCO_2',V_MENSAGEM);&amp;#10;&#x9;   VALIDA_OBRIGATORIO('NOME_DO_BLOCO_N',V_MENSAGEM);&amp;#10;&#x9;   IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;     RAISE E_GERAL; -- RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;   END IF;&amp;#10;&#x9; */&amp;#10;&#x9;PROCEDURE VALIDA_OBRIGATORIO(I_NM_BLOCO IN VARCHAR2, O_MENSAGEM IN OUT VARCHAR2);&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;/* DHG:20/07/2010:21411&amp;#10;&#x9; * Procedimento utilizado para habilitar as propriedades INSERT, UPDATE e NAVIGABLE do item informado&amp;#10;&#x9; */&amp;#10;&#x9;PROCEDURE HABILITA_ITEM(V_DS_ITEM VARCHAR2, V_NR_REGISTRO NUMBER DEFAULT NULL);&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;/* DHG:20/07/2010:21411&amp;#10;&#x9; * Procedimento utilizado para desabilitar as propriedades INSERT, UPDATE e NAVIGABLE do item informado&amp;#10;&#x9; */&amp;#10;&#x9;PROCEDURE DESABILITA_ITEM(V_DS_ITEM VARCHAR2, V_NR_REGISTRO NUMBER DEFAULT NULL);&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;/* DHG:20/07/2010:21411&amp;#10;&#x9; * Procedimento utilizado para mostrar o item informado. Seta propriedade VISIBLE e dependências.&amp;#10;&#x9; * Padrão de utilização: para poder usar este recurso, é preciso ter um item do mesmo tipo criado&amp;#10;&#x9;                         antes do item que irá ser exibido ao usuário. Este item, obrigatoriamente&amp;#10;&#x9;                         deve ser o PREVIOUS_ITEM no nível de bloco para o item a ser ocultado e possuir&amp;#10;&#x9;                         o mesmo nome do item com a adição dos caracteres: &quot;__F&quot;. &amp;#10;&#x9; * Motivo do padrão &quot;__F&quot;: esses itens não serão armazenados no dicionario de dados para internacionalização.&amp;#10;&#x9; * EX: Item de Fundo/Sombra do tipo TEXT_ITEM: CD_EMPRESA__F. Propriedade ATIVADO deve estar NÃO!&amp;#10;&#x9;       Item para o usuário do tipo TEXT_ITEM: CD_EMPRESA.&amp;#10;&#x9;       &amp;#10;&#x9;       Item de Fundo/Sombra do tipo DISPLAY_ITEM: NM_EMPRESA__F.&amp;#10;&#x9;       Item para o usuário do tipo DISPLAY_ITEM: NM_EMPRESA.&amp;#10;&#x9;   Obs: LIST_BOX, BUTTON e CHECK_BOX não necessitam de fundo, porém caso seja preciso, utilizar DISPLAY_ITEM. &amp;#10;&#x9; */&amp;#10;&#x9;PROCEDURE MOSTRA_ITEM(V_DS_ITEM VARCHAR2);&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;/* DHG:20/07/2010:21411&amp;#10;&#x9; * Procedimento utilizado para mostrar o item informado. Seta propriedade VISIBLE e dependências.&amp;#10;&#x9; * Padrão de utilização: para poder usar este recurso, é preciso ter um item do mesmo tipo criado&amp;#10;&#x9;                         antes do item que irá ser exibido ao usuário. Este item, obrigatoriamente&amp;#10;&#x9;                         deve ser o PREVIOUS_ITEM no nível de bloco para o item a ser ocultado e possuir&amp;#10;&#x9;                         o mesmo nome do item com a adição dos caracteres: &quot;__F&quot;.&amp;#10;&#x9; * Motivo do padrão &quot;__F&quot;: esses itens não serão armazenados no dicionario de dados para internacionalização.&amp;#10;&#x9; * EX: Item de Fundo/Sombra do tipo TEXT_ITEM: CD_EMPRESA__F. Propriedade ATIVADO deve estar NÃO!&amp;#10;&#x9;       Item para o usuário do tipo TEXT_ITEM: CD_EMPRESA.&amp;#10;&#x9;       &amp;#10;&#x9;       Item de Fundo/Sombra do tipo DISPLAY_ITEM: NM_EMPRESA__F.&amp;#10;&#x9;       Item para o usuário do tipo DISPLAY_ITEM: NM_EMPRESA.&amp;#10;&#x9;   Obs: LIST_BOX, BUTTON e CHECK_BOX não necessitam de fundo, porém caso seja preciso, utilizar DISPLAY_ITEM. &amp;#10;&#x9; */&amp;#10;&#x9;PROCEDURE OCULTA_ITEM(V_DS_ITEM VARCHAR2);&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;&#x9;------------------------------------------------------------------------------------------------------&amp;#10;END;"
                     ParentFilename="BIB004.OLB" ProgramUnitType="Espec. do Pacote" ParentType="28"/>
        <ProgramUnit Name="VALIDA_MOVIMENTACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VALIDA_MOVIMENTACAO (V_MENSAGEM OUT VARCHAR2) IS&amp;#10;&#x9;V_CD_CONTACONTABIL     HISTCONTB.CD_CONTACONTABIL%TYPE;&amp;#10;&#x9;E_GERAL                EXCEPTION;&amp;#10;&#x9;V_DS_MOVIMENTACAO      VARCHAR2(60);&#x9;&amp;#10;&amp;#10;BEGIN&amp;#10;  &amp;#10;  /** WLV:13/08/2012:41514&amp;#10;&#x9;  * Padronização de mensagens.&amp;#10;&#x9;  */   &amp;#10;  &amp;#10;  /* RBM: 21356: 25/03/2009&amp;#10;   * Tratamento de consultas abaixo.&amp;#10;   */&#x9;&#x9;   &amp;#10;&#x9;IF :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO &amp;#10;&#x9;&#x9;&#x9;&#x9;INTO V_DS_MOVIMENTACAO &amp;#10;&#x9;&#x9;&#x9;&#x9;FROM PARMOVIMENT&amp;#10;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--V_MENSAGEM := 'Código de Movimentação não Cadastrado';&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ não está cadastrada. Verifique o programa TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM :=PACK_MENSAGEM.MENS_PADRAO(46, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;   &#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--V_MENSAGEM := 'Código de movimentação encontrado em duplicidade.';&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ está cadastrada várias vezes. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(47, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;   &#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--V_MENSAGEM := 'Erro ao consultar descrição da movimentação - '||SQLERRM;&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(48, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/** WLV:13/08/2012:41514&amp;#10;&#x9;&#x9;  * Comentado NEGOCIO do from e da clausula WHERE o N.CD_NEGOCIO = ITEMCONTANEG.CD_NEGOCIO&amp;#10;&#x9;&#x9;  * pois estava retornando TOO_MANY_ROWS mesmo com os NEGOCIOS diferentes.&amp;#10;&#x9;&#x9;  */   &amp;#10;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT,HISTCONTB,ITEMCONTANEG,PLANOCONTABIL&amp;#10;&#x9;       WHERE HISTCONTB.CD_HISTCONTB         = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;         AND PARMOVIMENT.CD_MOVIMENTACAO    = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;         AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;         AND ITEMCONTANEG.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;&#x9;         AND ITEMCONTANEG.CD_ITEM           = :ITEMCOMPRA.CD_ITEM   &amp;#10;&#x9;         AND ITEMCONTANEG.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;         AND ITEMCONTANEG.ST_SITUACAO       = 'A'&amp;#10;&#x9;         AND ITEMCONTANEG.CD_NEGOCIO        = (SELECT MIN(I.CD_NEGOCIO) &amp;#10;&#x9;                                                  FROM /*NEGOCIO N,*/ ITEMCONTANEG I &amp;#10;&#x9;                                                 WHERE /*N.CD_NEGOCIO     = ITEMCONTANEG.CD_NEGOCIO&amp;#10;&#x9;                                                   AND */I.CD_ITEM        = ITEMCONTANEG.CD_ITEM&amp;#10;&#x9;                                                   AND I.CD_EMPRESA       = ITEMCONTANEG.CD_EMPRESA&amp;#10;&#x9;                                                   AND I.ST_SITUACAO &#x9;&#x9;&#x9;= 'A'&amp;#10;&#x9;                                                   AND I.CD_CONTACONTABIL = ITEMCONTANEG.CD_CONTACONTABIL); &amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT, HISTCONTB, ITEMCONTANEG, PLANOCONTABILVERSAO&amp;#10;&#x9;       WHERE HISTCONTB.CD_HISTCONTB         = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;         AND PARMOVIMENT.CD_MOVIMENTACAO    = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;         AND PLANOCONTABILVERSAO.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;         AND ITEMCONTANEG.CD_CONTACONTABIL  = PLANOCONTABILVERSAO.CD_CONTACONTABIL&amp;#10;&#x9;         AND ITEMCONTANEG.CD_ITEM           = :ITEMCOMPRA.CD_ITEM   &amp;#10;&#x9;         AND ITEMCONTANEG.CD_EMPRESA        = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;         AND ITEMCONTANEG.ST_SITUACAO       = 'A'&amp;#10;&#x9;         AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:ITEMCOMPRA.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE))&amp;#10;&#x9;         AND ITEMCONTANEG.CD_NEGOCIO        = (SELECT MIN(I.CD_NEGOCIO) &amp;#10;&#x9;                                                 FROM ITEMCONTANEG I &amp;#10;&#x9;                                                WHERE I.CD_ITEM          = ITEMCONTANEG.CD_ITEM&amp;#10;&#x9;                                                  AND I.CD_EMPRESA       = ITEMCONTANEG.CD_EMPRESA&amp;#10;&#x9;                                                  AND I.ST_SITUACAO &#x9;&#x9; = 'A'&amp;#10;&#x9;                                                  AND I.CD_CONTACONTABIL = ITEMCONTANEG.CD_CONTACONTABIL); &#x9;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Conta Contábil não associada ao item ¢CD_ITEM¢, na empresa ¢CD_EMPRESA¢ e movimentação ¢CD_MOVIMENTACAO¢. Verifique os programas TCB008 e TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7955, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;   &#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--Conta Contábil associada várias vezes ao item ¢CD_ITEM¢, na empresa ¢CD_EMPRESA¢ e movimentação ¢CD_MOVIMENTACAO¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7956, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;   &#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;--Erro ao pesquisar conta contábil ¢CD_CONTACONTABIL¢. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(144, '¢CD_CONTACONTABIL='||V_CD_CONTACONTABIL||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END; &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;V_DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_SOLICITACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VALIDA_SOLICITACAO IS&#x9;&amp;#10;BEGIN&amp;#10;&#x9;IF :ITEMCOMPRA.CD_EMPRESA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;mensagem('Maxys','Informe o código da empresa',2);&amp;#10;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.CD_EMPRESA');&amp;#10;&#x9;&#x9;&#x9;--RAISE E_GERAL; &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;END IF; &#x9;&#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="PACK_GRUPO" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE PACK_GRUPO IS&amp;#10;  --CENTRO CUSTO&amp;#10;  PROCEDURE CRIA_GRUPO_CC;&amp;#10;  PROCEDURE ADICIONA_GRUPO_CC(I_CD_EMPRCCUSTODEST IN NUMBER,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_CD_ITEM  &#x9;&#x9;&#x9;    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_CENTROCUSTO    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_MOVIMENTACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_AUTORIZADOR    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_QT_PEDIDAUNIDSOL  IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_PC_PARTICIPACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_CD_NEGOCIO        IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_DS_OBSERVACAO     IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_CD_CONTAORCAMENTO IN NUMBER);&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;  PROCEDURE DELETA_GRUPO_CC  (I_CD_ITEM    IN NUMBER);&amp;#10;  PROCEDURE CARREGA_DADOS_CC (I_CD_ITEM    IN NUMBER);&amp;#10;  &amp;#10;&amp;#10;  --LOVS DO CENTRO DE CUSTO&amp;#10;  PROCEDURE CRIA_GRUPO_LOVCC;&amp;#10;  PROCEDURE ADICIONA_GRUPO_LOVCC(I_CD_ITEM     IN NUMBER,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     I_CD_CENTROCUSTO  IN NUMBER,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     I_PC_PARTICIPACAO IN NUMBER);&amp;#10;  PROCEDURE DELETA_GRUPO_LOVCC;&amp;#10;&amp;#10;  --PROCEDURE CARREGA_DADOS_NG (I_CD_ITEM    IN NUMBER);  &amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_GRUPO" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE BODY PACK_GRUPO IS&amp;#10;-----------------------------------------------------------------------------&amp;#10;-----------------------------------------------------------------------------&amp;#10;                             -- CENTRO CUSTO --&amp;#10;-----------------------------------------------------------------------------&amp;#10;-----------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE CRIA_GRUPO_CC IS&amp;#10;&#x9;&#x9;GRP_REPLICA RECORDGROUP;&amp;#10;&#x9;&#x9;COL_REPLICA GROUPCOLUMN;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  GRP_REPLICA := FIND_GROUP('GRUPO_CC');&amp;#10;&#x9;  IF NOT ID_NULL(GRP_REPLICA) THEN &amp;#10;&#x9;  &#x9;DELETE_GROUP(GRP_REPLICA); &amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;GRP_REPLICA := CREATE_GROUP('GRUPO_CC');&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_ITEM'     &#x9;&#x9; , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_CENTROCUSTO'   , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_NEGOCIO'       , NUMBER_COLUMN);/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_MOVIMENTACAO'  , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_AUTORIZADOR'   , CHAR_COLUMN,4);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'QT_PEDIDAUNIDSOL' , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'PC_PARTICIPACAO'  , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_EMPRCCUSTODEST', NUMBER_COLUMN);--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'DS_OBSERVACAO'    , CHAR_COLUMN,150);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_CC', 'CD_CONTAORCAMENTO', NUMBER_COLUMN);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END CRIA_GRUPO_CC;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;&#x9;PROCEDURE ADICIONA_GRUPO_CC(I_CD_EMPRCCUSTODEST IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_CD_ITEM      &#x9;&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_CENTROCUSTO    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_MOVIMENTACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_AUTORIZADOR    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_QT_PEDIDAUNIDSOL  IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_PC_PARTICIPACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_CD_NEGOCIO        IN NUMBER/*CSL:21/12/2010:30317*/,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_DS_OBSERVACAO     IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_CD_CONTAORCAMENTO IN NUMBER) IS&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;ADD_GROUP_ROW('GRUPO_CC',END_OF_GROUP);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_EMPRCCUSTODEST', GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_EMPRCCUSTODEST);--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM'&#x9;&#x9;      , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_ITEM     &#x9;&#x9;);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO'   , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_CENTROCUSTO  );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_NEGOCIO'       , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_NEGOCIO      );/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_MOVIMENTACAO'  , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_MOVIMENTACAO );&amp;#10;&#x9;&#x9;SET_GROUP_CHAR_CELL  ('GRUPO_CC.CD_AUTORIZADOR'   , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_AUTORIZADOR  );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.QT_PEDIDAUNIDSOL' , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.PC_PARTICIPACAO'  , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_PC_PARTICIPACAO );&amp;#10;&#x9;&#x9;SET_GROUP_CHAR_CELL  ('GRUPO_CC.DS_OBSERVACAO'    , GET_GROUP_ROW_COUNT('GRUPO_CC'), I_DS_OBSERVACAO   );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CONTAORCAMENTO', GET_GROUP_ROW_COUNT('GRUPO_CC'), I_CD_CONTAORCAMENTO);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END ADICIONA_GRUPO_CC;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE DELETA_GRUPO_CC( I_CD_ITEM IN NUMBER ) IS&amp;#10;&#x9;&#x9;NR_REG NUMBER;&amp;#10;&#x9;&#x9;NR_TOT NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;  NR_TOT := GET_GROUP_ROW_COUNT('GRUPO_CC');&amp;#10;&#x9;&#x9;  NR_REG := 0;&amp;#10;&#x9;&#x9;  FOR I IN 1 ..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;NR_REG := NR_REG + 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) = I_CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;DELETE_GROUP_ROW('GRUPO_CC', I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;    EXIT WHEN NR_TOT = NR_REG;&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;END DELETA_GRUPO_CC;&amp;#10;&#x9;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE CARREGA_DADOS_CC (I_CD_ITEM IN NUMBER) IS&amp;#10;&#x9;I_EXISTE &#x9;BOOLEAN;&amp;#10;&#x9;BEGIN  &amp;#10;&#x9;&#x9;I_EXISTE := FALSE;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;  CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;FIRST_RECORD;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;  FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;  &#x9;IF NVL(GET_GROUP_ROW_COUNT('GRUPO_CC'),0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;IF I_CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_EMPRCCUSTODEST', I);&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRACCUSTO.CD_ITEM   &#x9;&#x9;&#x9;  := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM'  &#x9;&#x9;&#x9;&#x9; , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.CD_CENTROCUSTO    := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO'   , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO   := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_MOVIMENTACAO'  , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.CD_AUTORIZADOR    := GET_GROUP_CHAR_CELL  ('GRUPO_CC.CD_AUTORIZADOR'   , I);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.PC_PARTICIPACAO   := GET_GROUP_NUMBER_CELL('GRUPO_CC.PC_PARTICIPACAO'  , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL  := GET_GROUP_NUMBER_CELL('GRUPO_CC.QT_PEDIDAUNIDSOL' , I);&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.CD_NEGOCIO&#x9;&#x9;&#x9;&#x9;:= GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_NEGOCIO'&#x9;&#x9;&#x9; , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRACCUSTO.DS_OBSERVACAO     := GET_GROUP_CHAR_CELL  ('GRUPO_CC.DS_OBSERVACAO'    , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    I_EXISTE := TRUE;&amp;#10;&#x9;&#x9;&#x9;&#x9;    NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;  END LOOP;&amp;#10;&#x9;&#x9;  FIRST_RECORD;&amp;#10;&#x9;&#x9;ELSE --IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN  /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;&#x9;FOR J IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_EMPRESA_AUX = PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_EMPRESA AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.NR_ITEMCOMPRA_AUX = PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).NR_ITEMCOMPRA THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :=&#x9; PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_ITEM;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_EMPRCCUSTODEST;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO &#x9;&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_CENTROCUSTO;&#x9; &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIO&#x9;&#x9; &#x9;&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_NEGOCIO;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO &#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).QT_PEDIDAUNIDSOL; &#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO    :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).PC_PARTICIPACAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_EXISTE := TRUE;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;END LOOP; --FOR J IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;END IF; --IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN &#x9;&amp;#10;&#x9;  IF NOT I_EXISTE THEN&amp;#10;&#x9;  &#x9;IF  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;  &#x9;  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO :=  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;&amp;#10;&#x9;      GO_ITEM('ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL');&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9; &#x9;ELSE&amp;#10;&#x9;    GO_ITEM('ITEMCOMPRACCUSTO.CD_CENTROCUSTO');&amp;#10;&#x9;  END IF;&#x9;&amp;#10;&#x9;END;&amp;#10;&#x9;&amp;#10;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;                             -- L O V CENTRO CUSTO --&amp;#10;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE CRIA_GRUPO_LOVCC IS&amp;#10;&#x9;&#x9;GRP_REPLICA RECORDGROUP;&amp;#10;&#x9;&#x9;COL_REPLICA GROUPCOLUMN;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  GRP_REPLICA := FIND_GROUP('GRUPO_LOVCC');&amp;#10;&#x9;  IF NOT ID_NULL(GRP_REPLICA) THEN DELETE_GROUP(GRP_REPLICA); END IF;&amp;#10;&#x9;&#x9;GRP_REPLICA := CREATE_GROUP('GRUPO_LOVCC');&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_LOVCC', 'CD_ITEM'   &#x9;&#x9; , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_LOVCC', 'CD_CENTROCUSTO', CHAR_COLUMN, 2000);&amp;#10;&#x9;END CRIA_GRUPO_LOVCC;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE ADICIONA_GRUPO_LOVCC(I_CD_ITEM      &#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     I_CD_CENTROCUSTO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     I_PC_PARTICIPACAO  IN NUMBER) IS&amp;#10;&#x9;V_CD_CENTROCUSTO VARCHAR2(2000);&amp;#10;&#x9;V_EXISTE         NUMBER;&amp;#10;&#x9;V_GRUPO          NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;V_CD_CENTROCUSTO := NULL;&amp;#10;&#x9;  V_EXISTE         := 0;&amp;#10;&#x9;&#x9;-- VERIFICA SE A CONTA ESTA NO RECORD GROUP --&amp;#10;&#x9;&#x9;FOR I IN 1 ..GET_GROUP_ROW_COUNT('GRUPO_LOVCC') LOOP&amp;#10;&#x9;&#x9;&#x9;IF NVL(GET_GROUP_ROW_COUNT('GRUPO_LOVCC'),0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;IF GET_GROUP_NUMBER_CELL('GRUPO_LOVCC.CD_ITEM' ,I) = I_CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_CENTROCUSTO := V_CD_CENTROCUSTO||', '||GET_GROUP_CHAR_CELL('GRUPO_LOVCC.CD_CENTROCUSTO', I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_GRUPO  := I;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_EXISTE := 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;IF V_EXISTE = 0 THEN&amp;#10;&#x9;&#x9;&#x9;ADD_GROUP_ROW('GRUPO_LOVCC',END_OF_GROUP);&amp;#10;&#x9;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_LOVCC.CD_ITEM' &#x9;&#x9;, GET_GROUP_ROW_COUNT('GRUPO_LOVCC'), I_CD_ITEM);&amp;#10;&#x9;&#x9;&#x9;SET_GROUP_CHAR_CELL('GRUPO_LOVCC.CD_CENTROCUSTO', GET_GROUP_ROW_COUNT('GRUPO_LOVCC'), I_CD_CENTROCUSTO||' x '||I_PC_PARTICIPACAO||'%') ;&amp;#10;&#x9;&#x9;ELSIF V_EXISTE = 1 THEN&amp;#10;&#x9;&#x9;&#x9;SET_GROUP_CHAR_CELL('GRUPO_LOVCC.CD_CENTROCUSTO', V_GRUPO, SUBSTR(V_CD_CENTROCUSTO,3,LENGTH(V_CD_CENTROCUSTO))||', '||&amp;#10;&#x9;&#x9;&#x9;                                                           I_CD_CENTROCUSTO||' x '||I_PC_PARTICIPACAO||'%');&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END ADICIONA_GRUPO_LOVCC;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE DELETA_GRUPO_LOVCC IS&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;DELETE_GROUP('GRUPO_LOVCC');&amp;#10;&#x9;&#x9;PACK_GRUPO.CRIA_GRUPO_LOVCC;&amp;#10;&#x9;END DELETA_GRUPO_LOVCC;&amp;#10;&amp;#10;&amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <ProgramUnit Name="ADICIONA_GRUPO" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE ADICIONA_GRUPO IS&amp;#10;BEGIN&#x9;&#x9;&#x9;&amp;#10;  --Adiciona novas linhas no grupo com os dados do bloco e nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;  --Deleta o quem tem no grupo com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;PACK_GRUPO.DELETA_GRUPO_CC(:ITEMCOMPRACCUSTO.CD_ITEM);&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_GRUPO.ADICIONA_GRUPO_CC(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRACCUSTO.CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRACCUSTO.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRACCUSTO.PC_PARTICIPACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRACCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRACCUSTO.DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;  NEXT_RECORD;&#x9;&amp;#10;&#x9;END LOOP;  &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="PACK_PROCEDIMENTOS" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE PACK_PROCEDIMENTOS IS &amp;#10;  &amp;#10;  V_MSG&#x9;BOOLEAN := FALSE;&amp;#10;  &amp;#10;  V_VT_PROJETORATEIO&#x9; &#x9;PACK_PROJETOMONI.REG_PROJETORATEIO;  &amp;#10;  NR_REGBLOCO           NUMBER;&amp;#10;  &amp;#10;  TYPE TB_ITENS IS TABLE OF NUMBER INDEX BY BINARY_INTEGER;&amp;#10;  T_ITENS   TB_ITENS;&amp;#10;  &amp;#10;  TYPE TB_STRING IS TABLE OF VARCHAR2(32000) INDEX BY BINARY_INTEGER;&amp;#10;  T_ERROS &#x9;TB_STRING;&amp;#10;  &amp;#10;  V_VERIFICA_CHAMADA_RCO6&#x9;BOOLEAN := FALSE;&amp;#10;  V_DUPLICADO &#x9;BOOLEAN := FALSE; /*ATR:80785:11/02/2015*/&amp;#10;  V_CCUSTO&#x9;  &#x9;BOOLEAN := FALSE; &amp;#10;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE MOSTRA_ULTIMAS_COMPRAS;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE SOLICITACAO_DEVOLVIDA;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;FUNCTION RETORNA_TP_PEDIDO RETURN VARCHAR2;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;FUNCTION PERMITE_COMPRA(I_QT_ESTOQUEMAX&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_SALDO&#x9;&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_ESTOQUE&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_PEDIDA&#x9;&#x9;&#x9;IN NUMBER) RETURN BOOLEAN;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE CARREGA_ITEMCOMPRA(I_CD_EMPRESA &#x9;  IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   I_NR_LOTECOMPRA  IN ITEMCOMPRA.NR_LOTECOMPRA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   O_MENSAGEM&#x9;&#x9;   OUT VARCHAR2);&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE CARREGA_ITEMCOMPRACCUSTO(I_CD_EMPRESA &#x9;  IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   I_NR_ITEMCOMPRA  IN ITEMCOMPRA.NR_ITEMCOMPRA%TYPE);&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;PROCEDURE CARREGA_LOTE;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  TYPE R_ITEMCOMPRA IS RECORD(NR_ITEMCOMPRA &#x9;ITEMCOMPRA.NR_ITEMCOMPRA%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_EMPRESA&#x9;&#x9;&#x9;ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_ITEM&#x9; &#x9;&#x9;&#x9;&#x9;ITEMCOMPRA.CD_ITEM%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  CD_MOVIMENTACAO&#x9;ITEMCOMPRA.CD_MOVIMENTACAO%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  QT_PREVISTA&#x9;&#x9;&#x9;ITEMCOMPRA.QT_PREVISTA%TYPE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  );&amp;#10;&#x9;&amp;#10;&#x9;TYPE T_ITEMCOMPRA IS TABLE OF R_ITEMCOMPRA INDEX BY BINARY_INTEGER;&amp;#10;&#x9;&amp;#10;&#x9;VET_ITEMCOMPRA T_ITEMCOMPRA;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  TYPE R_ITEMCOMPRACCUSTO IS RECORD(NR_ITEMCOMPRA&#x9;&#x9;&#x9;ITEMCOMPRACCUSTO.NR_ITEMCOMPRA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_EMPRESA&#x9;&#x9;&#x9;&#x9;ITEMCOMPRACCUSTO.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ITEMCOMPRA.CD_ITEM%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_EMPRCCUSTODEST&#x9;ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_CENTROCUSTO    ITEMCOMPRACCUSTO.CD_CENTROCUSTO%TYPE,   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_NEGOCIO&#x9;&#x9;&#x9;&#x9;ITEMCOMPRACCUSTO.CD_NEGOCIO%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  CD_MOVIMENTACAO   ITEMCOMPRACCUSTO.CD_MOVIMENTACAO%TYPE,   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  QT_PEDIDAUNIDSOL&#x9;ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  PC_PARTICIPACAO&#x9;&#x9;ITEMCOMPRACCUSTO.PC_PARTICIPACAO%TYPE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  );   &amp;#10;&#x9;&amp;#10;&#x9;TYPE T_ITEMCOMPRACCUSTO IS TABLE OF R_ITEMCOMPRACCUSTO INDEX BY BINARY_INTEGER;&amp;#10;&#x9;&amp;#10;&#x9;VET_ITEMCOMPRACCUSTO   T_ITEMCOMPRACCUSTO;&amp;#10;&#x9;VET_ITEMCOMPRANEGOCIO  T_ITEMCOMPRACCUSTO;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  PROCEDURE CARREGA_PEDIDOINTERNO_EMV078;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  /* ASF:25/03/2019:132689 */  &amp;#10; &#x9;PROCEDURE CARREGA_ITENSSOLICCOMPRA_TMP;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  /* ASF:17/06/2019:134714 */ &amp;#10;  ST_VALIDA_ANOSAFRA BOOLEAN DEFAULT FALSE;&amp;#10;   &amp;#10; &#x9;PROCEDURE VALIDA_ANOSAFRA(O_MENSAGEM OUT VARCHAR2);&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  /*ASF:08/07/2019:134720*/&amp;#10;  PROCEDURE SALVA_ANEXO(O_MENSAGEM OUT VARCHAR2); &amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  /*ASF:09/07/2019:134720*/&amp;#10;&#x9;TYPE TDSARQUIVOS IS RECORD(&amp;#10;&#x9;    CD_EMPRESA    NUMBER,&amp;#10;&#x9;    NR_ITEMCOMPRA NUMBER,&amp;#10;&#x9;    DS_ARQUIVO    VARCHAR2(32000));&amp;#10;&#x9;    &amp;#10;  TYPE T_DSARQUIVOS IS TABLE OF TDSARQUIVOS INDEX BY BINARY_INTEGER;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ARQUIVOS T_DSARQUIVOS;  &amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;PROCEDURE GRAVA_ARQUIVOS_VETOR(V_CD_EMPRESA    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NR_ITEMCOMPRA IN NUMBER, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_DS_ARQUIVO    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_MENSAGEM     OUT VARCHAR2);&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;FUNCTION EXISTE_ARQUIVOS(V_CD_EMPRESA    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NR_ITEMCOMPRA IN NUMBER) RETURN BOOLEAN;&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE VALIDA_AUTORIZADOR(I_MENSAGEM OUT VARCHAR2);&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  PROCEDURE VALIDA_LOCALARMAZ(V_MENSAGEM OUT VARCHAR2); &amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  PROCEDURE CONSULTA_NM_LOCALARMAZENAGEM;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  &amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_PROCEDIMENTOS" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE BODY PACK_PROCEDIMENTOS IS&amp;#10;  PROCEDURE MOSTRA_ULTIMAS_COMPRAS IS&amp;#10;  &#x9;I_QT_PEDEXIBIR  PARMCOMPRA.QT_PEDEXIBIR%TYPE;&amp;#10;&#x9;&#x9;I_MENSAGEM      VARCHAR2(2000);&amp;#10;&#x9;&#x9;E_GERAL         EXCEPTION;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;--Informe o item para visualizar as últimas compras!&amp;#10;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4678,'');&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;SELECT QT_PEDEXIBIR &amp;#10;&#x9;&#x9;  INTO I_QT_PEDEXIBIR&amp;#10;&#x9;&#x9;  FROM PARMCOMPRA&amp;#10;&#x9;&#x9; WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;  &amp;#10;&#x9;  DECLARE&amp;#10;&#x9;&#x9;  CURSOR CUR_ULTIMASCOMPRAS IS&amp;#10;&#x9;&#x9;&#x9;SELECT CD_CLIFOR, &amp;#10;&#x9;&#x9;&#x9;       NM_CLIFOR, &amp;#10;&#x9;&#x9;&#x9;       NR_NFFORNEC, &amp;#10;&#x9;&#x9;&#x9;       DT_EMISSAO,&amp;#10;&#x9;&#x9;&#x9;       PS_ATENDIDO, &amp;#10;&#x9;&#x9;&#x9;       QT_ATENDIDA, &amp;#10;&#x9;&#x9;&#x9;       VL_UNITITEM, &amp;#10;&#x9;&#x9;&#x9;       VL_TOTITEM,PC_IPI&amp;#10;&#x9;&#x9;&#x9;&#x9;FROM VIEW_ULTIMASCOMPRAS&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA  = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;   AND CD_ITEM     = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;     ORDER BY TRUNC(DT_EMISSAO) DESC, NM_CLIFOR;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ULTIMASCOMPRAS');&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_BLOCK_PROPERTY('ULTIMASCOMPRAS',INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;FOR I IN CUR_ULTIMASCOMPRAS LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.NR_NFEMPR   := I.NR_NFFORNEC;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.CD_CLIFOR   := I.CD_CLIFOR;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.NM_CLIFOR   := I.NM_CLIFOR;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.PS_ATENDIDO := I.PS_ATENDIDO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.QT_ATENDIDA := I.QT_ATENDIDA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.VL_UNITITEM := I.VL_UNITITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.VL_TOTITEM  := I.VL_TOTITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.DT_EMISSAO  := I.DT_EMISSAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ULTIMASCOMPRAS.PC_IPI      := I.PC_IPI;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_BLOCK_PROPERTY('ULTIMASCOMPRAS',INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;mensagem('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;MENSAGEM('Maxys COM001 - Erro',SQLERRM,1);&amp;#10;&#x9;END MOSTRA_ULTIMAS_COMPRAS;&amp;#10;  &amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  &amp;#10;  PROCEDURE SOLICITACAO_DEVOLVIDA IS&amp;#10;  &amp;#10;  BEGIN&amp;#10;&#x9;&#x9; GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9; CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9; --:CONTROLE.DS_OBSCANCEL := NULL;&amp;#10;&#x9;&amp;#10;&#x9;&#x9; GO_BLOCK('DEVOLUCAO');&amp;#10;&#x9;&#x9; EXECUTE_QUERY;&amp;#10;  END SOLICITACAO_DEVOLVIDA;&amp;#10;&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;&#x9;FUNCTION RETORNA_TP_PEDIDO RETURN VARCHAR2 IS&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;  &#x9;RETURN PACK_GLOBAL.TP_PEDIDO;&amp;#10;&#x9;  END RETORNA_TP_PEDIDO;&amp;#10;  &amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;&#x9;/* MGK:60876:26/07/2013  &amp;#10;&#x9; * Determina se é possível lançar o item numa compra através da fórmula:&amp;#10;&#x9; *&amp;#10;&#x9; * Estoque atual do item(I_QT_ESTOQUE) + &amp;#10;&#x9; * Solicitações cujo pedido ainda não foi recebido no REC001(I_QT_SALDO) + &amp;#10;&#x9; * Quantidade pedida na solicitação de compra atual(I_QT_PEDIDA).&amp;#10;&#x9; * &amp;#10;&#x9; * Caso o resultado deste cálculo seja superior à quantidade máxima planejada para o item (I_QT_ESTOQUEMAX), não será possível &amp;#10;&#x9; * adicioná-lo na solicitação de compra.&amp;#10;&#x9; */&amp;#10;&#x9;FUNCTION PERMITE_COMPRA(I_QT_ESTOQUEMAX&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_SALDO&#x9;&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_ESTOQUE&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_QT_PEDIDA&#x9;&#x9;&#x9;IN NUMBER) RETURN BOOLEAN IS&amp;#10;&#x9;&amp;#10;&#x9;V_NOVO_SALDO&#x9;NUMBER;&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;V_NOVO_SALDO := NVL(I_QT_SALDO,0) + NVL(I_QT_ESTOQUE,0) + NVL(I_QT_PEDIDA,0);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(V_NOVO_SALDO,0) > NVL(I_QT_ESTOQUEMAX,0) THEN&amp;#10;&#x9;&#x9;&#x9;RETURN (FALSE);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;RETURN (TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;END;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  /*ATR:80785:11/02/2015 -- Procedimento criado para carregar os dados da solicitação de&amp;#10;   *compra para a tela de duplicação de lote*/&amp;#10;  PROCEDURE CARREGA_ITEMCOMPRA(I_CD_EMPRESA &#x9;  IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   I_NR_LOTECOMPRA  IN ITEMCOMPRA.NR_LOTECOMPRA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   O_MENSAGEM&#x9;&#x9;   OUT VARCHAR2) IS&amp;#10;&#x9;V_INSTRUCAO       VARCHAR2(1000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;V_ERRO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;V_INSTRUCAO := 'SELECT ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ITEMCOMPRA.QT_PREVISTA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMCOMPRA.CD_EMPRESA = '||I_CD_EMPRESA||'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMCOMPRA.NR_LOTECOMPRA = '||I_NR_LOTECOMPRA;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;CRIA_RECORDGROUP('GRUPO_ITEMCOMPRA_DUPL',V_INSTRUCAO,V_ERRO);&amp;#10;&#x9;  IF V_ERRO &lt;> 0 THEN&amp;#10;&#x9;&#x9;&#x9;IF V_ERRO = 1403 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A consulta não retornou dados para os parâmetros informados.&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1544,NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;--Ocorreu um erro inesperado ao criar o grupo de registros. Erro: '||SQLERRM&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1853,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;  END IF; --IF V_ERRO &lt;> 0 THEN&amp;#10;&#x9;  &amp;#10;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_ITEMCOMPRA_DUPL') LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.CD_EMPRESA&#x9;&#x9;   := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.CD_EMPRESA',I);&amp;#10;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.NR_LOTECOMPRA   := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.NR_LOTECOMPRA',I);&amp;#10;&#x9;&#x9;&#x9;  :DUPLICAITEMCOMPRA.NR_ITEMCOMPRA   := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.NR_ITEMCOMPRA',I);&amp;#10;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.CD_ITEM         := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.CD_ITEM',I);&amp;#10;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.CD_MOVIMENTACAO := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.CD_MOVIMENTACAO',I);&amp;#10;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.QT_PREVISTA     := GET_GROUP_NUMBER_CELL('GRUPO_ITEMCOMPRA_DUPL.QT_PREVISTA',I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :DUPLICAITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.DS_ITEM := PACK_VALIDATE.RETORNA_DS_ITEM(:DUPLICAITEMCOMPRA.CD_ITEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&#x9;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN E_GERAL THEN&amp;#10;  &#x9;&#x9;O_MENSAGEM := 'CARREGA_ITEMCOMPRA: '||V_MENSAGEM;&amp;#10;  &#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;GO_ITEM('CONS_ITEMCOMPRA.NR_LOTECOMPRA');&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;--Ocorreu um erro inesperado ao criar o grupo de registros. Erro ¢SQLERRM¢.&amp;#10;  &#x9;&#x9;O_MENSAGEM := 'CARREGA_ITEMCOMPRA: '||PACK_MENSAGEM.MENS_PADRAO(1853, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9; &#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;GO_ITEM('CONS_ITEMCOMPRA.NR_LOTECOMPRA');&amp;#10;&#x9;END CARREGA_ITEMCOMPRA;&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  /*ATR:80785:11/02/2015 -- Procedimento criado para carregar os dados de centro de custo&amp;#10;   *para a tela de duplicação de lote*/&amp;#10;  PROCEDURE CARREGA_ITEMCOMPRACCUSTO(I_CD_EMPRESA &#x9;  IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   I_NR_ITEMCOMPRA  IN ITEMCOMPRA.NR_ITEMCOMPRA%TYPE) IS&amp;#10;&#x9;V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;&amp;#10;&#x9;CURSOR CUR_ITEMCOMPRACCUSTO IS&amp;#10;&#x9;&#x9;SELECT ITEMCOMPRACCUSTO.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL,&amp;#10;&#x9;&#x9;       ITEMCOMPRACCUSTO.PC_PARTICIPACAO&amp;#10;&#x9;&#x9;  FROM ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9; WHERE ITEMCOMPRACCUSTO.CD_EMPRESA = I_CD_EMPRESA&amp;#10;&#x9;&#x9;   AND ITEMCOMPRACCUSTO.NR_ITEMCOMPRA = I_NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;  FROM ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9;&#x9; WHERE ITEMCOMPRACCUSTO.CD_EMPRESA = I_CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;   AND ITEMCOMPRACCUSTO.NR_ITEMCOMPRA = I_NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF V_COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;V_CCUSTO := TRUE;&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;FOR I IN CUR_ITEMCOMPRACCUSTO LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;  :DUPLICAITEMCOMPRACC.NR_ITEMCOMPRA     := I.NR_ITEMCOMPRA;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.CD_EMPRESA        := I.CD_EMPRESA; &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  :DUPLICAITEMCOMPRACC.CD_EMPRCCUSTODEST := I.CD_EMPRCCUSTODEST;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.CD_CENTROCUSTO    := I.CD_CENTROCUSTO;     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.CD_NEGOCIO        := I.CD_NEGOCIO;         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.CD_MOVIMENTACAO   := I.CD_MOVIMENTACAO;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.CD_AUTORIZADOR    := I.CD_AUTORIZADOR;     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.QT_PEDIDAUNIDSOL  := I.QT_PEDIDAUNIDSOL;         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.PC_PARTICIPACAO   := I.PC_PARTICIPACAO;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :DUPLICAITEMCOMPRACC.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.DS_CENTROCUSTO := PACK_VALIDATE.RETORNA_DS_CENTROCUSTO(:DUPLICAITEMCOMPRACC.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :DUPLICAITEMCOMPRACC.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRACC.DS_MOVIMENTACAO := PACK_VALIDATE.RETORNA_DS_MOVIMENTACAO(:DUPLICAITEMCOMPRACC.CD_MOVIMENTACAO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&#x9;&amp;#10;&#x9;&#x9;&#x9;END LOOP; --FOR I IN CUR_ITEMCOMPRACCUSTO LOOP&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;V_CCUSTO := FALSE;&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&#x9;&amp;#10;&#x9;&#x9;END IF; --IF V_COUNT > 0 THEN&amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;NULL;&amp;#10;&#x9;END CARREGA_ITEMCOMPRACCUSTO;&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  /*ATR:80785:11/02/2015 -- Procedimento criado para carregar os dados do lote de compra &amp;#10;   *para a tela principal do COM001*/&amp;#10;  PROCEDURE CARREGA_LOTE IS &amp;#10;  V_ITEM VARCHAR2(100); &amp;#10;  BEGIN&amp;#10;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.V_DUPLICADO := TRUE;&#x9; &amp;#10;&#x9;&#x9;&amp;#10;  &#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.DELETE;&amp;#10;  &#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.DELETE;&amp;#10;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;V_ITEM := :SYSTEM.CURSOR_ITEM;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT + 1).NR_ITEMCOMPRA &#x9; := :DUPLICAITEMCOMPRA.NR_ITEMCOMPRA;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT    ).CD_EMPRESA&#x9;&#x9;&#x9; := :DUPLICAITEMCOMPRA.CD_EMPRESA;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT    ).CD_ITEM&#x9;&#x9;&#x9; &#x9; := :DUPLICAITEMCOMPRA.CD_ITEM;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT    ).CD_MOVIMENTACAO := :DUPLICAITEMCOMPRA.CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT    ).QT_PREVISTA&#x9;&#x9; := :DUPLICAITEMCOMPRA.QT_PREVISTA;&#x9;&#x9;&#x9;&#x9;&amp;#10; &#x9;&#x9;&#x9;&amp;#10; &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.CARREGA_ITEMCOMPRACCUSTO(:DUPLICAITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.NR_ITEMCOMPRA);&amp;#10;&#x9; &#x9;&#x9;IF V_CCUSTO = TRUE THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;LOOP&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :DUPLICAITEMCOMPRA.NR_ITEMCOMPRA = :DUPLICAITEMCOMPRACC.NR_ITEMCOMPRA AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:DUPLICAITEMCOMPRA.CD_EMPRESA = :DUPLICAITEMCOMPRACC.CD_EMPRESA THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT + 1).NR_ITEMCOMPRA &#x9; &#x9; := :DUPLICAITEMCOMPRACC.NR_ITEMCOMPRA;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_EMPRESA&#x9;&#x9;&#x9; &#x9; := :DUPLICAITEMCOMPRACC.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_ITEM&#x9;&#x9;&#x9; &#x9; &#x9; := :DUPLICAITEMCOMPRA.CD_ITEM;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_EMPRCCUSTODEST := :DUPLICAITEMCOMPRACC.CD_EMPRCCUSTODEST;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_CENTROCUSTO &#x9; := :DUPLICAITEMCOMPRACC.CD_CENTROCUSTO;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_NEGOCIO&#x9;&#x9; &#x9;&#x9; := :DUPLICAITEMCOMPRACC.CD_NEGOCIO;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).CD_MOVIMENTACAO &#x9; := :DUPLICAITEMCOMPRACC.CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).QT_PEDIDAUNIDSOL&#x9; := :DUPLICAITEMCOMPRACC.QT_PEDIDAUNIDSOL;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT    ).PC_PARTICIPACAO &#x9; := :DUPLICAITEMCOMPRACC.PC_PARTICIPACAO;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;&#x9;    &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;    &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END LOOP; --Loop Bloco DUPLICAITEMCOMPRACC&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  &#x9;GO_ITEM(V_ITEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9; &#x9;&#x9;END IF; --IF V_CCUSTO = TRUE THEN&amp;#10;&#x9; &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;    &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;END LOOP; --Loop Bloco DUPLICAITEMCOMPRA&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;  &#x9;FIRST_RECORD; &#x9;&amp;#10;&#x9;&#x9;GO_BLOCK('CONTROLE');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&#x9;&amp;#10;&#x9;&#x9;FOR I IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.NR_ITEMCOMPRA_AUX &#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(I).NR_ITEMCOMPRA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_EMPRESA_AUX&#x9;&#x9;&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(I).CD_EMPRESA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_ITEM&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(I).CD_ITEM;&#x9;&#x9;&#x9;    &#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_MOVIMENTACAO&#x9;&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(I).CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.QT_PREVISTA&#x9;&#x9;&#x9;&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRA(I).QT_PREVISTA;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;END LOOP; --FOR I IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.COUNT LOOP&amp;#10;&#x9;&#x9;FIRST_RECORD;&#x9;&#x9;&amp;#10;&#x9;/*&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&#x9;&amp;#10;&#x9;&#x9;FOR J IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.NR_ITEMCOMPRA &#x9; &#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).NR_ITEMCOMPRA;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRESA&#x9;&#x9;&#x9; &#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_EMPRESA;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_EMPRCCUSTODEST;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO &#x9;&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_CENTROCUSTO;&#x9; &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIO&#x9;&#x9; &#x9;&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_NEGOCIO;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO &#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL&#x9; :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).QT_PEDIDAUNIDSOL; &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO    :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO(J).PC_PARTICIPACAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.V_DUPLICADO := TRUE;&#x9; &amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;NEXT_RECORD; &amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;FIRST_RECORD;&#x9;&#x9;*/&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9; &#x9;&amp;#10;  &#x9;GO_ITEM('CONTROLE.CD_EMPRESA');&amp;#10;  &#x9;  &#x9;&amp;#10;  END CARREGA_LOTE;&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------AUG:130776:20/02/2019---------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  PROCEDURE CARREGA_PEDIDOINTERNO_EMV078 IS&amp;#10;&#x9;&#x9;CURSOR CUR_ITEMPEDIDOINTERNO_TMP IS &amp;#10;&#x9;&#x9;  SELECT CD_EMPRPEDINTERNO ,&amp;#10;&#x9;&#x9;  &#x9;&#x9;&#x9; NR_PEDIDOINTERNO  ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CD_ITEM           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; QT_PEDIDA         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PS_PEDIDO         &amp;#10;&#x9;&#x9;&#x9;&#x9;FROM ITEMPEDIDOINTERNO_TMP;&amp;#10;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;IF :PARAMETER.CD_MODULO   = 'EMV' AND &amp;#10;&#x9;&#x9;&#x9; :PARAMETER.CD_PROGRAMA = 78    THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.CD_EMPRESA &#x9;  := :PARAMETER.CD_EMPRCENTRODISTRIB;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.CD_EMPRESA',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO'); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.CD_EMPRESA',INSERT_ALLOWED,PROPERTY_FALSE);  &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;GO_ITEM('CONTROLE.DT_DESEJADA');&amp;#10;&#x9;&#x9;&#x9;:CONTROLE.DT_DESEJADA&#x9;  := :PARAMETER.DT_DESEJADA;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO'); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',INSERT_ALLOWED,PROPERTY_FALSE);  &amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&#x9;&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;FOR I IN CUR_ITEMPEDIDOINTERNO_TMP LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_EMPRESA &#x9;:= :PARAMETER.CD_EMPRCENTRODISTRIB;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.CD_ITEM&#x9;&#x9; &#x9;:= I.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA := NVL(I.QT_PEDIDA , I.PS_PEDIDO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRA.CD_ITEM',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO'); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRA.CD_ITEM',INSERT_ALLOWED,PROPERTY_FALSE);  &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRA.QT_PREVISTA',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO'); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRA.QT_PREVISTA',INSERT_ALLOWED,PROPERTY_FALSE);  &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;END CARREGA_PEDIDOINTERNO_EMV078;&amp;#10;&#x9;---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;&#x9;/* ASF:25/03/2019:132689 */  &amp;#10;    PROCEDURE CARREGA_ITENSSOLICCOMPRA_TMP IS&amp;#10;    &#x9;CURSOR CUR_ITENSSOLICCOMPRA_TMP IS&amp;#10;  &#x9;  &#x9;SELECT ITENSGERARSOLICCOMPRA_TMP.CD_ITEM,   &amp;#10;  &#x9;           ITEM.DS_ITEM,      &amp;#10;  &#x9;           ITENSGERARSOLICCOMPRA_TMP.QT_SOLICITADA&amp;#10;  &#x9;      FROM ITENSGERARSOLICCOMPRA_TMP, ITEM&amp;#10;  &#x9;     WHERE ITENSGERARSOLICCOMPRA_TMP.CD_ITEM = ITEM.CD_ITEM;&amp;#10;    &amp;#10;  &#x9;BEGIN&amp;#10;  &#x9;&#x9;&amp;#10;  &#x9;&#x9;IF NVL(:PARAMETER.CD_MODULO,'XXX') = 'RCO' AND NVL(:PARAMETER.CD_PROGRAMA,0) = 6 THEN&amp;#10;  &#x9;&#x9;&#x9;&amp;#10;  &#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.V_VERIFICA_CHAMADA_RCO6 := TRUE;&amp;#10;  &#x9;&#x9;&#x9;&amp;#10;  &#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;  &#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;  &#x9;&#x9;  FOR I IN CUR_ITENSSOLICCOMPRA_TMP LOOP &amp;#10;  &#x9;  &#x9;&#x9;:ITEMCOMPRA.CD_ITEM &#x9;&#x9; := I.CD_ITEM;&amp;#10;  &#x9;&#x9;  &#x9;:ITEMCOMPRA.QT_PREVISTA&#x9; := I.QT_SOLICITADA;&amp;#10;   &#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;  &#x9;&#x9;  END LOOP;&amp;#10;  &#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;  &#x9;&#x9;&#x9;&amp;#10;  &#x9;&#x9;&#x9;PACK_PROCEDIMENTOS.V_VERIFICA_CHAMADA_RCO6 := FALSE;&amp;#10;  &#x9;&#x9;END IF;  &amp;#10;  &#x9;END;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &#x9;&amp;#10;  /* ASF:17/06/2019:134714 */  &amp;#10;  PROCEDURE VALIDA_ANOSAFRA(O_MENSAGEM OUT VARCHAR2) IS  &amp;#10;&#x9;  V_ST_VALIDA_ANOSAFRA VARCHAR2(1);&#x9;&amp;#10;  BEGIN&amp;#10;&#x9;  &#x9;&amp;#10;&#x9;&#x9;V_ST_VALIDA_ANOSAFRA := PACK_PARMGEN.CONSULTA_PARAMETRO('VFT',4,'MAX',1,'LST_ANOSAFRA');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF (NVL(V_ST_VALIDA_ANOSAFRA,'N') IN ('S','I')) THEN --Parâmetro &quot;Utilizar cadastro de Ano Safra/Obrigar Informe&quot; - Página VFT004 do VFT028.&amp;#10;&#x9;&#x9;&#x9;IF (:CONTROLE.DT_ANOSAFRA IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT ANOSAFRA.NR_SEQUENCIAL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ANOSAFRA.DT_ANOSAFRA||' - '||ANOSAFRA.DS_ANOSAFRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO :CONTROLE.DT_ANOSAFRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.DS_ANOSAFRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;FROM ANOSAFRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ANOSAFRA.CD_EMPRESA &#x9;&#x9;= NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ANOSAFRA.NR_SEQUENCIAL = :CONTROLE.DT_ANOSAFRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_ANOSAFRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20997, '¢NR_SEQUENCIAL='||:CONTROLE.DT_ANOSAFRA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20998, '¢NR_SEQUENCIAL='||:CONTROLE.DT_ANOSAFRA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (O_MENSAGEM IS NOT NULL) AND (NOT ST_VALIDA_ANOSAFRA) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_ANOSAFRA := 'SEM CADASTRO DE ANO SAFRA.';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ST_VALIDA_ANOSAFRA  := TRUE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSIF (O_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (:SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_ANOSAFRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;IF (:CONTROLE.DT_ANOSAFRA IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_ANOSAFRA := 'SEM CADASTRO DE ANO SAFRA.';&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_ANOSAFRA := NULL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  &#x9;---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------&amp;#10;  /*ASF:08/07/2019:134720*/&amp;#10;  PROCEDURE SALVA_ANEXO(O_MENSAGEM OUT VARCHAR2) IS  &#x9;&amp;#10;&#x9;&#x9;V_DS_EVENTO    VARCHAR2(32000);&amp;#10;&#x9;&#x9;V_NM_ARQUIVO   VARCHAR2(32000);&amp;#10;&#x9;&#x9;V_NM_GRAVACAO  VARCHAR2(32000);&amp;#10;&amp;#10;&#x9;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9; EXCEPTION;&amp;#10;&#x9;BEGIN&amp;#10;&amp;#10;&#x9;  GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;  FIRST_RECORD;&amp;#10;&#x9;  LOOP&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;FOR J IN 1..ARQUIVOS.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF ARQUIVOS(J).CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA AND ARQUIVOS(J).NR_ITEMCOMPRA = :SYSTEM.CURSOR_RECORD THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    V_NM_GRAVACAO := NEW_SYSGUID()||'\'||ARQUIVOS(J).DS_ARQUIVO;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_FILELOADER.UPLOAD_ARQUIVOBD(I_DS_ARQUIVO  => ARQUIVOS(J).DS_ARQUIVO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; I_NM_GRAVACAO => V_NM_GRAVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_MENSAGEM&#x9;   => O_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF O_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_NM_ARQUIVO := PACK_ARQUIVOUTILS.RETORNA_NOMEARQUIVO(ARQUIVOS(J).DS_ARQUIVO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INSERT INTO ANEXOITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       (NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        DS_ARQUIVO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        NM_ARQUIVO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  DT_RECORD) &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VALUES (:ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        :ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_NM_GRAVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_NM_ARQUIVO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  SYSDATE); &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN DUP_VAL_ON_INDEX THEN&amp;#10;&#x9;&#x9;&#x9;        --O Anexo ¢V_NM_ARQUIVO¢ já foi inserido nessa solicitação de compra!&amp;#10;&#x9;&#x9;&#x9;        O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32684, '¢V_NM_ARQUIVO='||V_NM_ARQUIVO||'¢');&amp;#10;&#x9;&#x9;&#x9;        RAISE E_GERAL;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;/*Ocorreu o seguinte erro ao inserir na tabela ¢TABELA¢: ¢SQLERRM¢*/&amp;#10;&#x9;&#x9;&#x9;        O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(6980, '¢TABELA=ANEXOITEMCOMPRA¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;        RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    V_DS_EVENTO := 'O USUARIO ('||:GLOBAL.CD_USUARIO||') INSERIU NA TABELA ANEXO DE SOLICITAÇÃO DE COMPRA, COM O NR_ITEMCOMPRA '||&amp;#10;&#x9;&#x9;&#x9;                   '('||:ITEMCOMPRA.NR_ITEMCOMPRA||'), COM O EMPRESA ('||:ITEMCOMPRA.CD_EMPRESA||').' ;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    PACK_LOGUSUARIO.AUDITAR_INSERCAO(V_CD_EMPRESA  => :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;                                     V_CD_MODULO   => :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;                                     V_CD_PROGRAMA => :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9;                                     V_CD_USUARIO  => :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;                                     V_DS_EVENTO   => V_DS_EVENTO,&amp;#10;&#x9;&#x9;&#x9;                                     V_NM_ENTIDADE => 'ANEXOITEMCOMPRA',&amp;#10;&#x9;&#x9;&#x9;                                     V_DS_DML      => NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  END LOOP;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;  FIRST_RECORD;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(25697, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;END SALVA_ANEXO;&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE GRAVA_ARQUIVOS_VETOR(V_CD_EMPRESA    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NR_ITEMCOMPRA IN NUMBER, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_DS_ARQUIVO    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_MENSAGEM     OUT VARCHAR2) IS&amp;#10;    V_NR_ITENS     NUMBER;&amp;#10;&#x9;&#x9;V_NM_ARQUIVO   VARCHAR2(32000);&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9; EXCEPTION;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;  &#x9;&amp;#10;  &#x9;IF V_CD_EMPRESA IS NOT NULL AND V_NR_ITEMCOMPRA IS NOT NULL AND V_DS_ARQUIVO IS NOT NULL THEN&amp;#10;&#x9;  &#x9;V_NM_ARQUIVO := PACK_ARQUIVOUTILS.RETORNA_NOMEARQUIVO(V_DS_ARQUIVO);&amp;#10;&#x9;    V_NR_ITENS := 0;&amp;#10;&#x9;    -- Verifica se o item adicional, com a chave da combo principal já foi gravado no vetor&amp;#10;&#x9;    FOR J IN 1..ARQUIVOS.COUNT LOOP&amp;#10;&#x9;      IF ARQUIVOS(J).DS_ARQUIVO = V_DS_ARQUIVO &amp;#10;&#x9;      &#x9;AND ARQUIVOS(J).NR_ITEMCOMPRA = V_NR_ITEMCOMPRA&amp;#10;&#x9;      &#x9;AND ARQUIVOS(J).CD_EMPRESA = V_CD_EMPRESA THEN&amp;#10;&#x9;      &#x9;O_MENSAGEM := 'O Anexo ('||V_NM_ARQUIVO||') já foi inserido';&amp;#10;&#x9;      &#x9;RAISE E_GERAL;&amp;#10;&#x9;      END IF;      &#x9;&amp;#10;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;  V_NR_ITENS := NVL(ARQUIVOS.COUNT,0) + 1;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;ARQUIVOS(V_NR_ITENS).DS_ARQUIVO    := V_DS_ARQUIVO; &amp;#10;&#x9;&#x9;&#x9;ARQUIVOS(V_NR_ITENS).NR_ITEMCOMPRA := V_NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;ARQUIVOS(V_NR_ITENS).CD_EMPRESA    := V_CD_EMPRESA;  &amp;#10;&#x9;&#x9;END IF;&#x9; &amp;#10;&#x9;&amp;#10;  EXCEPTION&amp;#10;    WHEN E_GERAL THEN&amp;#10;      NULL;&amp;#10;    WHEN OTHERS THEN&amp;#10;      O_MENSAGEM := '¥[PACK_PROCEDIMENTOS.GRAVA_ARQUIVOS_VETOR: Erro] ¥'||SQLERRM;   &#x9;&amp;#10;&#x9;END;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&#x9;FUNCTION EXISTE_ARQUIVOS(V_CD_EMPRESA    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NR_ITEMCOMPRA IN NUMBER) RETURN BOOLEAN IS&amp;#10;   EXISTE BOOLEAN := FALSE;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;  BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;FOR I IN 1..ARQUIVOS.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;IF ARQUIVOS(I).CD_EMPRESA = V_CD_EMPRESA AND ARQUIVOS(I).NR_ITEMCOMPRA = V_NR_ITEMCOMPRA THEN&amp;#10;&#x9;&#x9;&#x9;  EXISTE := TRUE;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;  END LOOP;&amp;#10;    &amp;#10;    RETURN EXISTE;&amp;#10;    &amp;#10;&#x9;END;&#x9;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------  &amp;#10;  PROCEDURE VALIDA_AUTORIZADOR(I_MENSAGEM OUT VARCHAR2) IS&amp;#10;  &amp;#10;  V_CD_AUTORICCUSTO  AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;  V_CD_AUTORICCUSTO2 AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;  E_GERAL EXCEPTION; &amp;#10;    &amp;#10;  BEGIN&amp;#10;  &#x9; IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN --EML:13/01/2020:139947&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT MAX(AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR)&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO V_CD_AUTORICCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND AUTORIZCCUSTORESTRITO.CD_EMPRESA = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&#x9;&amp;#10;            EXCEPTION &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_AUTORICCUSTO := NULL;&#x9;&amp;#10;&#x9;&#x9;&#x9;    END;&amp;#10;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_CD_AUTORICCUSTO IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.CD_AUTORIZADOR IS NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/*O autorizador da tela principal deve ser informado.*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33735, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF; -- IF :CONTROLE.CD_AUTORIZADOR IS NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;    BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_AUTORICCUSTO2&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&#x9;&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND AUTORIZCCUSTORESTRITO.CD_EMPRESA = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&#x9;&amp;#10;&#x9;          EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33731, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&#x9;&amp;#10;&#x9;          END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;  --IF V_CD_AUTORICCUSTO IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN &amp;#10;        GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;    EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;    NEXT_RECORD;&amp;#10;      END LOOP;&amp;#10;    END IF;  -- IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;    &amp;#10;  EXCEPTION&amp;#10;&#x9;  WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;  NULL;&amp;#10;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  I_MENSAGEM :=  PACK_MENSAGEM.MENS_PADRAO(16084, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;  &amp;#10;  END;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;  PROCEDURE VALIDA_LOCALARMAZ(V_MENSAGEM OUT VARCHAR2) IS --eml:22/05/2020:148401&amp;#10;&amp;#10;  V_COUNT                NUMBER;&amp;#10;  E_GERAL                EXCEPTION;&amp;#10;&amp;#10;  BEGIN&amp;#10;  &amp;#10;    IF :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;      BEGIN&amp;#10;        SELECT COUNT(*)&amp;#10;          INTO V_COUNT&amp;#10;          FROM PARMOVIMENT, CMI&amp;#10;         WHERE PARMOVIMENT.CD_CMI = CMI.CD_CMI&amp;#10;           AND CMI.CD_OPERESTOQUE IS NOT NULL&amp;#10;           AND  PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;      EXCEPTION&amp;#10;        WHEN OTHERS THEN&amp;#10;          V_COUNT := 0;&amp;#10;      END;&amp;#10;      &amp;#10;      SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO'); &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE); &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_FALSE); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;      &amp;#10;      IF V_COUNT > 0 THEN --V_COUNT 1&amp;#10;        BEGIN&amp;#10;          SELECT COUNT(*)&amp;#10;            INTO V_COUNT&amp;#10;            FROM LOCALARMAZENAGEMUSUARIO&amp;#10;           WHERE (LOCALARMAZENAGEMUSUARIO.CD_EMPRESA = :CONTROLE.CD_EMPRESA OR LOCALARMAZENAGEMUSUARIO.CD_EMPRESA IS NULL)&amp;#10;             AND LOCALARMAZENAGEMUSUARIO.CD_USUARIO = :GLOBAL.CD_USUARIO&amp;#10;             AND NVL(LOCALARMAZENAGEMUSUARIO.ST_ATIVO, 'N') = 'S';&amp;#10;        EXCEPTION&amp;#10;          WHEN OTHERS THEN&amp;#10;            V_COUNT := 0;&amp;#10;        END;&amp;#10; &amp;#10;        IF V_COUNT > 0  THEN --V_COUNT &amp;#10;          BEGIN&amp;#10;            SELECT LOCALARMAZENAGEMUSUARIO.CD_TIPOLOCALARMAZ,&amp;#10;                   LOCALARMAZENAGEMUSUARIO.CD_LOCALARMAZ,&amp;#10;                   LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ1,&amp;#10;                   LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ2,&amp;#10;                   LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ3,&amp;#10;                   LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ4&amp;#10;              INTO :ITEMCOMPRA.CD_TIPOLOCALARMAZ,&amp;#10;                   :ITEMCOMPRA.CD_LOCALARMAZ,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ1,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ2,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ3,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ4&amp;#10;              FROM LOCALARMAZENAGEMUSUARIO&amp;#10;             WHERE (LOCALARMAZENAGEMUSUARIO.CD_EMPRESA = :CONTROLE.CD_EMPRESA OR LOCALARMAZENAGEMUSUARIO.CD_EMPRESA IS NULL)&amp;#10;               AND LOCALARMAZENAGEMUSUARIO.CD_USUARIO = :GLOBAL.CD_USUARIO&amp;#10;               AND NVL(LOCALARMAZENAGEMUSUARIO.ST_ATIVO, 'N') = 'S';&amp;#10;          EXCEPTION&amp;#10;            WHEN TOO_MANY_ROWS THEN&amp;#10;              IF SHOW_LOV('LOV_LOCALUSUARIO') THEN&amp;#10;                NULL;&amp;#10;              ELSE&amp;#10;                /*O Local de Armazenagem deve ser informado.*/&amp;#10;                 V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3619, NULL);&amp;#10;                 RAISE E_GERAL;&amp;#10;              END IF;&amp;#10;            WHEN OTHERS THEN&amp;#10;              :ITEMCOMPRA.CD_TIPOLOCALARMAZ  := NULL;&amp;#10;              :ITEMCOMPRA.CD_LOCALARMAZ      := NULL;&amp;#10;              :ITEMCOMPRA.NR_SUBLOCARMAZ1    := NULL;&amp;#10;              :ITEMCOMPRA.NR_SUBLOCARMAZ2    := NULL;&amp;#10;              :ITEMCOMPRA.NR_SUBLOCARMAZ3    := NULL;&amp;#10;              :ITEMCOMPRA.NR_SUBLOCARMAZ4    := NULL;&amp;#10;          END;&amp;#10;          &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;          BEGIN &amp;#10;            SELECT COUNT(*)&amp;#10;              INTO V_COUNT&amp;#10;              FROM ITEMLOCALARMAZ&amp;#10;             WHERE (ITEMLOCALARMAZ.CD_EMPRESA        = :GLOBAL.CD_EMPRESA)&amp;#10;               AND (ITEMLOCALARMAZ.CD_ITEM           = :ITEMCOMPRA.CD_ITEM)&amp;#10;               AND (ITEMLOCALARMAZ.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ)&amp;#10;               AND (ITEMLOCALARMAZ.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ)&amp;#10;               AND (ITEMLOCALARMAZ.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1)&amp;#10;               AND (ITEMLOCALARMAZ.NR_SUBLOCARMAZ2   = :ITEMCOMPRA.NR_SUBLOCARMAZ2)&amp;#10;               AND (ITEMLOCALARMAZ.NR_SUBLOCARMAZ3   = :ITEMCOMPRA.NR_SUBLOCARMAZ3)&amp;#10;               AND (ITEMLOCALARMAZ.NR_SUBLOCARMAZ4   = :ITEMCOMPRA.NR_SUBLOCARMAZ4)&amp;#10;               AND (NVL(ITEMLOCALARMAZ.ST_ITEMLOCAL , 'A') = 'A');&amp;#10;          EXCEPTION&amp;#10;            WHEN OTHERS THEN&amp;#10;              MENSAGEM_PADRAO(15996, '¢NM_TABELA='||'ITEMLOCALARMAZ'||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;               RAISE E_GERAL;&amp;#10;          END;&amp;#10;&amp;#10;&amp;#10;           IF V_COUNT = 0 THEN&amp;#10;            &#x9;/*O Local de Armazenagem ¢CD_TIPOLOCALARMAZ¢ - ¢CD_LOCALARMAZ¢- ¢NR_SUBLOCALARMAZ1¢ - ¢NR_SUBLOCALARMAZ2¢ - ¢NR_SUBLOCALARMAZ3¢ - ¢NR_SUBLOCALARMAZ4¢ não está cadastrado para o item ¢CD_ITEM¢ e empresa ¢CD_EMPRESA¢ . Verifique TIT001.*/&amp;#10;             V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(393, '¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢NR_SUBLOCALARMAZ1='||:ITEMCOMPRA.NR_SUBLOCARMAZ1||'¢NR_SUBLOCALARMAZ2='||:ITEMCOMPRA.NR_SUBLOCARMAZ2||'¢NR_SUBLOCALARMAZ3='||:ITEMCOMPRA.NR_SUBLOCARMAZ3||'¢NR_SUBLOCALARMAZ4='||:ITEMCOMPRA.NR_SUBLOCARMAZ4||'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;           &#x9; RAISE E_GERAL;&amp;#10;           END IF;&amp;#10;&amp;#10;        ELSIF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('TES',25,'MAX',:GLOBAL.CD_EMPRESA,'ST_VALIDALOCAL'),'N') = 'S' THEN --V_COUNT 2&amp;#10;&#x9;&#x9;      BEGIN&amp;#10;&#x9;&#x9;&#x9;      SELECT ITEMLOCALARMAZ.CD_TIPOLOCALARMAZ,&amp;#10;&#x9;&#x9;&#x9;             ITEMLOCALARMAZ.CD_LOCALARMAZ,&amp;#10;&#x9;&#x9;&#x9;             ITEMLOCALARMAZ.NR_SUBLOCARMAZ1,&amp;#10;&#x9;&#x9;&#x9;             ITEMLOCALARMAZ.NR_SUBLOCARMAZ2,&amp;#10;&#x9;&#x9;&#x9;             ITEMLOCALARMAZ.NR_SUBLOCARMAZ3,&amp;#10;&#x9;&#x9;&#x9;             ITEMLOCALARMAZ.NR_SUBLOCARMAZ4&amp;#10;&#x9;&#x9;&#x9;        INTO :ITEMCOMPRA.CD_TIPOLOCALARMAZ,&amp;#10;                   :ITEMCOMPRA.CD_LOCALARMAZ,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ1,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ2,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ3,&amp;#10;                   :ITEMCOMPRA.NR_SUBLOCARMAZ4           &amp;#10;&#x9;&#x9;&#x9;        FROM ITEMLOCALARMAZ&amp;#10;&#x9;&#x9;&#x9;       WHERE (ITEMLOCALARMAZ.CD_EMPRESA        = :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;         AND (ITEMLOCALARMAZ.CD_ITEM           = :ITEMCOMPRA.CD_ITEM)&amp;#10;&#x9;&#x9;&#x9;         AND (NVL(ITEMLOCALARMAZ.ST_ITEMLOCAL , 'A') = 'A');&amp;#10;&#x9;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;&#x9;    &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;        IF SHOW_LOV('LOV_LOCALUSUARIO') THEN --FZZER UMA LOV NOVA&amp;#10;&#x9;&#x9;&#x9;          NULL;&amp;#10;&#x9;&#x9;&#x9;        ELSE&amp;#10;&#x9;&#x9;&#x9;         /*O Local de Armazenagem deve ser informado.*/&amp;#10;&#x9;&#x9;&#x9;          V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3619, NULL);&amp;#10;&#x9;&#x9;&#x9;          RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;        END IF;&amp;#10;&#x9;&#x9;&#x9;      WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      /*O Local de Armazenagem ¢CD_TIPOLOCALARMAZ¢ - ¢CD_LOCALARMAZ¢- ¢NR_SUBLOCALARMAZ1¢ - ¢NR_SUBLOCALARMAZ2¢ - ¢NR_SUBLOCALARMAZ3¢ - ¢NR_SUBLOCALARMAZ4¢ não está cadastrado para o item ¢CD_ITEM¢ e empresa ¢CD_EMPRESA¢ . Verifique TIT001.*/&amp;#10;              V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(393, '¢CD_TIPOLOCALARMAZ='||:ITEMCOMPRA.CD_TIPOLOCALARMAZ||'¢CD_LOCALARMAZ='||:ITEMCOMPRA.CD_LOCALARMAZ||'¢NR_SUBLOCALARMAZ1='||:ITEMCOMPRA.NR_SUBLOCARMAZ1||'¢NR_SUBLOCALARMAZ2='||:ITEMCOMPRA.NR_SUBLOCARMAZ2||'¢NR_SUBLOCALARMAZ3='||:ITEMCOMPRA.NR_SUBLOCARMAZ3||'¢NR_SUBLOCALARMAZ4='||:ITEMCOMPRA.NR_SUBLOCARMAZ4||'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;           &#x9; RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END;    &amp;#10;        END IF; -- IF V_COUNT 2&amp;#10;      END IF; --IF V_COUNT 1&amp;#10;    ELSE&amp;#10;      SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_TIPOLOCALARMAZ',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO'); &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE); &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.CD_LOCALARMAZ',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ1',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ2',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE); &#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ3',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&#x9;&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,INSERT_ALLOWED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,UPDATE_ALLOWED,PROPERTY_TRUE); &amp;#10;&#x9;&#x9;&#x9;SET_ITEM_INSTANCE_PROPERTY ('ITEMCOMPRA.NR_SUBLOCARMAZ4',CURRENT_RECORD,VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;    END IF; --:ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL THEN &amp;#10;  EXCEPTION&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;    :ITEMCOMPRA.CD_TIPOLOCALARMAZ  := NULL;&amp;#10;      :ITEMCOMPRA.CD_LOCALARMAZ      := NULL;&amp;#10;      :ITEMCOMPRA.NR_SUBLOCARMAZ1    := NULL;&amp;#10;      :ITEMCOMPRA.NR_SUBLOCARMAZ2    := NULL;&amp;#10;      :ITEMCOMPRA.NR_SUBLOCARMAZ3    := NULL;&amp;#10;      :ITEMCOMPRA.NR_SUBLOCARMAZ4    := NULL;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys',V_MENSAGEM,2); &amp;#10;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(16084, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&amp;#10;  END VALIDA_LOCALARMAZ;&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &#x9;&amp;#10;  PROCEDURE CONSULTA_NM_LOCALARMAZENAGEM IS&amp;#10;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :ITEMCOMPRA.CD_TIPOLOCALARMAZ IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_LOCALARMAZ   IS NOT NULL /*AND&amp;#10;&#x9;&#x9;&#x9;-- :ITEMCOMPRA.NR_SUBLOCARMAZ1 IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9;-- :ITEMCOMPRA.NR_SUBLOCARMAZ2 IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9;-- :ITEMCOMPRA.NR_SUBLOCARMAZ3 IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9;/* :ITEMCOMPRA.NR_SUBLOCARMAZ4 IS NOT NULL*/ THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT DISTINCT LOCALARMAZENAGEM.DS_LOCALARMAZ&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRA.NM_LOCALARMAZENAGEM&amp;#10;&#x9;&#x9;&#x9;  &#x9;FROM LOCALARMAZENAGEM&amp;#10;&#x9;&#x9;&#x9;   WHERE LOCALARMAZENAGEM.CD_EMPRESA        = :CONTROLE.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ = :ITEMCOMPRA.CD_TIPOLOCALARMAZ&amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.CD_LOCALARMAZ     = :ITEMCOMPRA.CD_LOCALARMAZ   &amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ1   = :ITEMCOMPRA.NR_SUBLOCARMAZ1 &amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ2   = :ITEMCOMPRA.NR_SUBLOCARMAZ2 &amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ3   = :ITEMCOMPRA.NR_SUBLOCARMAZ3 &amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.NR_SUBLOCARMAZ4   = :ITEMCOMPRA.NR_SUBLOCARMAZ4&amp;#10;&#x9;&#x9;&#x9;     AND LOCALARMAZENAGEM.ST_OCUPACAO = 'A';&amp;#10;&#x9;&#x9;&#x9;EXCEPTION &amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRA.NM_LOCALARMAZENAGEM := NULL;&amp;#10;&#x9;&#x9;&#x9;END;&#x9;  &amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;END IF;&#x9; &#x9;&amp;#10;&#x9;END CONSULTA_NM_LOCALARMAZENAGEM;&#x9;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------ &amp;#10;&amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <ProgramUnit Name="VALIDA_DUPLICADOS" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE VALIDA_DUPLICADOS (O_MENSAGEM&#x9;&#x9;OUT VARCHAR2) IS&amp;#10;&amp;#10;  V_NR_REGISTRO     NUMBER;&amp;#10;  V_CD_CENTROCUSTO&#x9;ITEMCOMPRACCUSTO.CD_CENTROCUSTO%TYPE;&amp;#10;  V_CD_NEGOCIO      ITEMCOMPRACCUSTO.CD_NEGOCIO%TYPE; /*CSL:22/12/2010:30317*/&amp;#10;  V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;  E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;  V_CD_EMPRCCUSTODEST  EMPRESA.CD_EMPRESA%TYPE;&amp;#10;BEGIN&amp;#10;  &amp;#10;  GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;  FIRST_RECORD;&amp;#10;  LOOP&amp;#10;  &#x9;V_NR_REGISTRO    := :SYSTEM.CURSOR_RECORD;&amp;#10;  &#x9;V_CD_CENTROCUSTO := :ITEMCOMPRACCUSTO.CD_CENTROCUSTO;&amp;#10;  &#x9;V_CD_NEGOCIO     := :ITEMCOMPRACCUSTO.CD_NEGOCIO;&amp;#10;  &#x9;--GDG:22/07/2011:28715  &#x9;&amp;#10;  &#x9;V_CD_EMPRCCUSTODEST := NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :ITEMCOMPRACCUSTO.CD_EMPRESA);&amp;#10;    FIRST_RECORD;&amp;#10;    LOOP&amp;#10;    &#x9;IF (V_NR_REGISTRO &lt;> :SYSTEM.CURSOR_RECORD) THEN&amp;#10;    &#x9;&#x9;/**CSL:22/12/2010:30317&amp;#10;    &#x9;&#x9; * Alterado para passar a comparar também o código do negócio, pois poderá ser &amp;#10;    &#x9;&#x9; * informado varios centros de custos iguais, porém com códigos de negócio diferentes.&amp;#10;    &#x9;&#x9; */&amp;#10;    &#x9;&#x9;IF V_CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO AND V_CD_NEGOCIO = :ITEMCOMPRACCUSTO.CD_NEGOCIO&amp;#10;    &#x9;&#x9;&#x9;--GDG:22/07/2011:28715 VALIDAÇÃO DE REGISTRO DUPLICADO&amp;#10;    &#x9;&#x9;&#x9;AND V_CD_EMPRCCUSTODEST = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :ITEMCOMPRACCUSTO.CD_EMPRESA) THEN&amp;#10;    &#x9;&#x9;&#x9;--V_MENSAGEM := 'O Centro de Custo ('||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||') e o Negócio ('||:ITEMCOMPRACCUSTO.CD_NEGOCIO||') do registro atual ('||:SYSTEM.CURSOR_RECORD||') é igual ao do registro ('||V_NR_REGISTRO||'). Por favor verifique e altere.'; &amp;#10;    &#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(6353,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢CD_NEGOCIO='||:ITEMCOMPRACCUSTO.CD_NEGOCIO||'¢NR_REGATUAL='||:SYSTEM.CURSOR_RECORD||'¢NR_REGISTRO='||V_NR_REGISTRO||'¢');--O Centro de Custo ¢CD_CENTROCUSTO¢ e o Negócio ¢CD_NEGOCIO¢ do registro atual ¢NR_REGATUAL¢ é igual ao do registro ¢NR_REGISTRO¢. Por favor verifique e altere. &amp;#10;    &#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;    &#x9;END IF;&amp;#10;&#x9;   &amp;#10;&#x9;    EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;    END LOOP;&amp;#10;    &amp;#10;    GO_RECORD(V_NR_REGISTRO);&amp;#10;    EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;    NEXT_RECORD;&amp;#10;  END LOOP;&amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;  &#x9;O_MENSAGEM := V_MENSAGEM; &amp;#10;  WHEN OTHERS THEN&amp;#10;  &#x9;O_MENSAGEM := SQLERRM; &#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="ENVIA_EMAIL" PersistentClientInfoLength="0"
                     ProgramUnitText="PROCEDURE ENVIA_EMAIL(I_CD_EMPRESA&#x9;&#x9;IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_NR_LOTECOMPRA&#x9;IN ITEMCOMPRA.NR_LOTECOMPRA%TYPE) IS&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;  V_VET_DESTINATARIOS  PACK_DADOS_EMAIL.R_DESTINATARIOS;&amp;#10;  V_VET_ANEXOEMAIL &#x9;&#x9; PACK_DADOS_EMAIL.R_ANEXOEMAIL;&amp;#10;&#x9;V_REMETENTE &#x9;&#x9;&#x9;&#x9; PACK_DADOS_EMAIL.T_REMETENTE;&amp;#10;  V_NM_USUARIO         USUARIO.NM_USUARIO%TYPE;&amp;#10;  V_CORPOEMAIL         VARCHAR2(32000);&amp;#10;  V_MENSAGEM           VARCHAR2(32000);&amp;#10;  V_DS_MENSAGEMEMAIL   VARCHAR2(2000);&amp;#10;  V_NM_CONTAEMAIL      VARCHAR2(600);&amp;#10;  V_NM_EXIBICAOEMAIL   VARCHAR2(600);&amp;#10;  V_NM_USUARIOEMAIL    VARCHAR2(600);&amp;#10;  V_DS_SENHAEMAIL      VARCHAR2(600);&amp;#10;  V_NM_HOSTEMAIL       VARCHAR2(600);&amp;#10;  V_NR_PORTA           VARCHAR2(600);&amp;#10;  V_NM_CONTAEMAILDEST  VARCHAR2(60);&amp;#10;  V_NM_BASE            VARCHAR2(60);&amp;#10;  V_ST_CONEXAO&#x9;&#x9;&#x9;&#x9; VARCHAR2(1);&amp;#10;  V_COUNTFORNEC&#x9;&#x9;&#x9;&#x9; NUMBER; /*ATR:115974:26/12/2017*/&amp;#10;  V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NUMBER; /*ATR:115974:26/12/2017*/&amp;#10;  E_GERAL              EXCEPTION;&amp;#10;  V_NR_SID             NUMBER;&amp;#10;  --V_NR_SEQUENCIA       NUMBER;&amp;#10;  ----------------------------------------------------------------------------------------&amp;#10;&#x9;/* MGK:63701:10/10/2013&amp;#10;&#x9; * Estrutura utilizada para armazenar os dados das solicitações de compras. &amp;#10;&#x9; * Esses dados serão utilizados na composição do e-mail que será enviado ao autorizador.&amp;#10;&#x9; */&amp;#10;&amp;#10;&#x9;CURSOR CUR_USUARIOS IS &amp;#10;&#x9;&#x9;SELECT DISTINCT USUARIO.NM_CONTAEMAIL&amp;#10;&#x9;&#x9;  FROM USUARIO, SOLICITANTE, PARMCOMPRA&amp;#10;&#x9;&#x9; WHERE USUARIO.NM_CONTAEMAIL IS NOT NULL&amp;#10;&#x9;&#x9;   AND USUARIO.CD_USUARIO = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;   AND SOLICITANTE.CD_EMPRESA = PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.ST_APROVSOLIC&amp;#10;&#x9;&#x9;   AND (SOLICITANTE.DT_VENCIMENTO IS NULL OR TRUNC(SOLICITANTE.DT_VENCIMENTO) >= TRUNC(SYSDATE))&amp;#10;&#x9;&#x9;   AND PARMCOMPRA.CD_EMPRESA = I_CD_EMPRESA;&amp;#10;&#x9;&amp;#10;&#x9;CURSOR CUR_DADOS_SOLICITACOES IS&amp;#10;    SELECT (ITEMCOMPRA.CD_TIPOCOMPRA||' - '||TIPOCOMPRA.DS_TIPOCOMPRA) DS_TIPOCOMPRA,&amp;#10;           (NVL(ITEMCOMPRA.DS_OBSERVACAO,'Sem observação')) DS_OBSERVACAO,&amp;#10;           (ITEMCOMPRA.CD_ITEM||' - '||ITEM.DS_ITEM) DS_ITEM, &amp;#10;           (NVL(ITEMCOMPRA.QT_PREVISTA,0)) QT_PREVISTA, &amp;#10;           ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;    &#x9;&#x9;&#x9; ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;           ITEMCOMPRA.ST_ITEMCOMPRA,&amp;#10;           ITEMCOMPRA.CD_EMPRESA&amp;#10;      FROM ITEMCOMPRA, &amp;#10;      &#x9;&#x9; ITEM, &amp;#10;      &#x9;&#x9; TIPOCOMPRA&amp;#10;     WHERE ITEMCOMPRA.CD_ITEM &#x9;&#x9;&#x9;= ITEM.CD_ITEM&amp;#10;       AND ITEMCOMPRA.CD_TIPOCOMPRA&#x9;= TIPOCOMPRA.CD_TIPOCOMPRA&amp;#10;       AND ITEMCOMPRA.CD_EMPRESA&#x9;&#x9;= I_CD_EMPRESA&amp;#10;       AND ITEMCOMPRA.NR_LOTECOMPRA = I_NR_LOTECOMPRA;&amp;#10;     &amp;#10;&#x9;V_MSG_EMAIL&#x9;&#x9;  &#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;V_MSG_EMAIL_1   &#x9;&#x9;VARCHAR2(32000) := 'O número de lote ('||I_NR_LOTECOMPRA||') possui As seguintes solicitações de compras: ';&amp;#10;&#x9;V_MSG_EMAIL_2&#x9;  &#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;V_MSG_EMAIL_3   &#x9;&#x9;VARCHAR2(32000) := 'Estas solicitações de compras estão aguardando sua autorização. Verifique os programas indicados para cada solicitação.';&amp;#10;&#x9;V_NM_PROGRAMA   &#x9;&#x9;VARCHAR2(10);&amp;#10;  V_ST_APROVSOLIC &#x9;&#x9;VARCHAR2(1);&amp;#10;&#x9;----------------------------------------------------------------------------------------&amp;#10;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  &amp;#10;&#x9;  -- Buscando configuração de email do compras para a empresa logada.&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;  SELECT RETORNA_VALORSTRING(VL_PARAMETRO,1,'¢') NM_CONTAEMAIL,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,2,'¢') NM_EXIBICAOEMAIL,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,3,'¢') NM_USUARIOEMAIL,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,4,'¢') DS_SENHAEMAIL,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,5,'¢') NM_HOSTEMAIL,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,6,'¢') NR_PORTA,&amp;#10;&#x9;           RETORNA_VALORSTRING(VL_PARAMETRO,7,'¢') ST_CONEXAO&amp;#10;&#x9;      INTO V_NM_CONTAEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NM_EXIBICAOEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NM_USUARIOEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_DS_SENHAEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NM_HOSTEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_NR_PORTA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_ST_CONEXAO&amp;#10;&#x9;      FROM PARMGENERICO&amp;#10;&#x9;     WHERE RETORNA_VALORSTRING(NM_PARAMETRO,1,'¢') = 'EMAILCOMPRAS'&amp;#10;&#x9;       AND RETORNA_VALORSTRING(NM_PARAMETRO,2,'¢') = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9; AND PARMGENERICO.CD_MODULO   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = 'COM'&amp;#10;&#x9;       AND PARMGENERICO.CD_PROGRAMA &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = 9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;    V_NM_CONTAEMAIL    := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_EXIBICAOEMAIL := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_USUARIOEMAIL  := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_DS_SENHAEMAIL    := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_HOSTEMAIL     := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NR_PORTA         := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_ST_CONEXAO&#x9;&#x9;&#x9; := NULL;&amp;#10;&#x9;&#x9;&#x9;  --Não foram encontrados os parâmetros de envio de email para a  empresa ¢CD_EMPRESA¢. Verifique o Programa COM009 Página &quot;Envio Email&quot;.&amp;#10;&#x9;    &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(8356,'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;    &#x9;RAISE E_GERAL;&amp;#10;&#x9;    WHEN OTHERS THEN &amp;#10;&#x9;      V_NM_CONTAEMAIL    := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_EXIBICAOEMAIL := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_USUARIOEMAIL  := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_DS_SENHAEMAIL    := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NM_HOSTEMAIL     := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_NR_PORTA         := NULL;&amp;#10;&#x9;&#x9;&#x9;  V_ST_CONEXAO&#x9;&#x9;&#x9; := NULL;&amp;#10;&#x9;&#x9;&#x9;  --Ocorreu um erro ao consultar os parâmetros de envio de email para a  empresa ¢CD_EMPRESA¢. Verifique o Programa COM009 Página &quot;Envio Email&quot;. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(8357,'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;END; &amp;#10;&#x9;&#x9;IF V_NM_USUARIOEMAIL IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;  SELECT PARMGENERICO.NM_PARAMETRO DS_MENSAGEMEMAIL&amp;#10;&#x9;&#x9;      INTO V_DS_MENSAGEMEMAIL&amp;#10;&#x9;&#x9;      FROM PARMGENERICO&amp;#10;&#x9;&#x9;     WHERE RETORNA_VALORSTRING(VL_PARAMETRO,1,'¢') = 'EMAILCOMPRAS'&amp;#10;&#x9;&#x9;       AND RETORNA_VALORSTRING(VL_PARAMETRO,2,'¢') = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;       AND PARMGENERICO.CD_PROGRAMA &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = 9&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; AND PARMGENERICO.CD_MODULO   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; = 'COM';&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;    V_DS_MENSAGEMEMAIL := NULL;&amp;#10;&#x9;&#x9;    WHEN OTHERS THEN &amp;#10;&#x9;&#x9;      V_DS_MENSAGEMEMAIL := NULL;&amp;#10;&#x9;&#x9;&#x9;END; &amp;#10;&#x9;  &#x9;&amp;#10;&#x9;  &#x9;/**MPB:09/04/2012:43880&amp;#10;&#x9;&#x9;&#x9; * Realizado alteração de tabela para compatibilizar as operações com a estrutura do Oracle RAC.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;  &amp;#10;&#x9;    -- busca do SID do logado..&amp;#10;&#x9;    BEGIN&amp;#10;&#x9;  &#x9;  SELECT DISTINCT MAX$MYSTAT.SID&amp;#10;&#x9;        INTO V_NR_SID&amp;#10;&#x9;        FROM MAX$MYSTAT;&amp;#10;&#x9;    EXCEPTION&amp;#10;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;    &#x9;  NULL;&amp;#10;&#x9;    END;&amp;#10;&#x9;    &amp;#10;&#x9;&#x9;&#x9;-- Qual base esta logado&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT NM_HOST&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_NM_BASE&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM HOST;&amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;    V_NM_BASE := 'MAXYS_PROD';&#x9;  &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;    V_COUNTFORNEC := 0;&amp;#10;&#x9;    IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN &amp;#10;&#x9;    &#x9;BEGIN&amp;#10;&#x9;&#x9;    &#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;        INTO V_COUNTFORNEC&amp;#10;&#x9;&#x9;        FROM USUARIO&amp;#10;&#x9;&#x9;       WHERE USUARIO.NM_CONTAEMAIL IS NOT NULL&amp;#10;&#x9;&#x9;         AND USUARIO.CD_USUARIO = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;    &#x9;V_COUNTFORNEC := 0;&amp;#10;&#x9;&#x9;    END;&amp;#10;&#x9;    ELSE &amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;    &#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;    &#x9;  INTO V_COUNTFORNEC&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM USUARIO, SOLICITANTE, PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE USUARIO.NM_CONTAEMAIL IS NOT NULL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND USUARIO.CD_USUARIO = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND SOLICITANTE.CD_EMPRESA = PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.ST_APROVSOLIC&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND (SOLICITANTE.DT_VENCIMENTO IS NULL OR TRUNC(SOLICITANTE.DT_VENCIMENTO) >= TRUNC(SYSDATE))&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PARMCOMPRA.CD_EMPRESA = I_CD_EMPRESA;&amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;    &#x9;V_COUNTFORNEC := 0;&amp;#10;&#x9;&#x9;    END;&amp;#10;&#x9;    END IF;&amp;#10;&#x9;  /*  --buscando dados do email do fornecedor.&amp;#10;&#x9;    BEGIN&amp;#10;&#x9;      SELECT USUARIO.NM_CONTAEMAIL, &amp;#10;&#x9;             USUARIO.NM_USUARIO &amp;#10;&#x9;        INTO V_NM_CONTAEMAILDEST,&amp;#10;&#x9;             V_NM_USUARIO&amp;#10;&#x9;        FROM USUARIO&amp;#10;&#x9;       WHERE CD_USUARIO = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;    EXCEPTION&amp;#10;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;    &#x9;&#x9;--Autorizador ¢CD_AUTORIZADOR¢ não possui email configurado. Verifique ANV001.&amp;#10;&#x9;    &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4751,'¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||' - '||:CONTROLE.NM_USUAUTORIZ||'¢');&amp;#10;&#x9;        RAISE E_GERAL;&amp;#10;&#x9;      WHEN OTHERS THEN&amp;#10;&#x9;        V_MENSAGEM := 'Impossível buscar email de autorizador '||SQLERRM;&amp;#10;&#x9;        RAISE E_GERAL;&amp;#10;&#x9;    END;*/&amp;#10;&#x9;    IF V_COUNTFORNEC > 0 THEN&amp;#10;&#x9;&#x9;    /*RETORNA_SEQUENCIA('SQEMAIL',:GLOBAL.CD_EMPRESA,V_NR_SEQUENCIA,V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;  IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;RAISE E_GERAL;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;  END IF;*/&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    --Buscar o parâmetro &quot;Aprovar solicitação de Compras&quot;, da página &quot;Validações&quot; do COM009.&amp;#10;&#x9;&#x9;    BEGIN  &amp;#10;&#x9;&#x9;&#x9;    SELECT NVL(PARMCOMPRA.ST_APROVSOLIC,'N')&amp;#10;&#x9;&#x9;&#x9;      INTO V_ST_APROVSOLIC&amp;#10;&#x9;&#x9;&#x9;      FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9;     WHERE PARMCOMPRA.CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;  EXCEPTION &amp;#10;&#x9;&#x9;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;      V_ST_APROVSOLIC := 'N';&amp;#10;&#x9;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    --MGK:63701:10/10/2013 - Incluído o código abaixo, cuja finalidade é compor a mensagem que será enviada ao autorizador da solicitação de compra.&amp;#10;&#x9;&#x9;    FOR I IN CUR_DADOS_SOLICITACOES LOOP&amp;#10;&#x9;&#x9;    &#x9;IF ((NVL(V_ST_APROVSOLIC,'N') = 'S') OR (I.ST_ITEMCOMPRA = 0)) THEN&amp;#10;&#x9;&#x9;&#x9;      V_NM_PROGRAMA := 'COM002';&amp;#10;&#x9;&#x9;&#x9;    ELSIF ((NVL(V_ST_APROVSOLIC,'N') = 'N') OR (I.ST_ITEMCOMPRA IN (1,14))) THEN&amp;#10;&#x9;&#x9;&#x9;      V_NM_PROGRAMA := 'COM006';&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;    &#x9;IF (V_MSG_EMAIL_2 IS NULL) THEN&amp;#10;&#x9;&#x9;    &#x9;&#x9;V_MSG_EMAIL_2 := CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '>> Solicitação ('||I.NR_ITEMCOMPRA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; ') da empresa ('||I.CD_EMPRESA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; '), item ('||I.DS_ITEM||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; '), quantidade ('||I.QT_PREVISTA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; '), tipo de compra ('||I.DS_TIPOCOMPRA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; ') observação ('||I.DS_OBSERVACAO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; '). (Verificar o programa '||V_NM_PROGRAMA||')';&amp;#10;&#x9;&#x9;    &#x9;ELSE&amp;#10;&#x9;&#x9;    &#x9;&#x9;V_MSG_EMAIL_2 := V_MSG_EMAIL_2||'; '||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '>> Solicitação ('||I.NR_ITEMCOMPRA||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ') da empresa ('||I.CD_EMPRESA||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '), item ('||I.DS_ITEM||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '), quantidade ('||I.QT_PREVISTA  ||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '), tipo de compra ('||I.DS_TIPOCOMPRA||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ') observação ('||I.DS_OBSERVACAO||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '). (Verificar o programa '||V_NM_PROGRAMA||')';&amp;#10;&#x9;&#x9;    &#x9;END IF;&amp;#10;&#x9;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    --MGK:63701:10/10/2013 - Junção das variáveis&amp;#10;&#x9;&#x9;    V_MSG_EMAIL := V_MSG_EMAIL_1||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_MSG_EMAIL_2||'.'||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_MSG_EMAIL_3;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    --Mensagem do corpo do email.&amp;#10;&#x9;&#x9;    V_CORPOEMAIL := CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  'Atenção:'||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MSG_EMAIL||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'Solicitado por: '||:GLOBAL.CD_USUARIO||' - '||:GLOBAL.NM_USUARIO||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'Obs.: '||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CHR(10)||&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DS_MENSAGEMEMAIL;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    --MGK:63701:10/10/2013 - preenchimento das variáveis que serão passadas para o procedimento INCLUI_FILAEMAIL.&amp;#10;&#x9;&#x9;    IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;--buscando dados do email do fornecedor.&amp;#10;&#x9;&#x9;&#x9;    BEGIN&amp;#10;&#x9;&#x9;&#x9;      SELECT USUARIO.NM_CONTAEMAIL, &amp;#10;&#x9;&#x9;&#x9;             USUARIO.NM_USUARIO &amp;#10;&#x9;&#x9;&#x9;        INTO V_NM_CONTAEMAILDEST,&amp;#10;&#x9;&#x9;&#x9;             V_NM_USUARIO&amp;#10;&#x9;&#x9;&#x9;        FROM USUARIO&amp;#10;&#x9;&#x9;&#x9;       WHERE CD_USUARIO = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;--Autorizador ¢CD_AUTORIZADOR¢ não possui email configurado. Verifique ANV001.&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4751,'¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||' - '||:CONTROLE.NM_USUAUTORIZ||'¢');&amp;#10;&#x9;&#x9;&#x9;        RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;      WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;        V_MENSAGEM := 'Impossível buscar email de autorizador '||SQLERRM;&amp;#10;&#x9;&#x9;&#x9;        RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;    END;&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;&#x9;    V_REMETENTE.DS_ASSUNTO&#x9;&#x9;&#x9;            := 'Solicitações aguardando sua liberação.';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_EXIBICAOEMAIL            := V_NM_EXIBICAOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_USUARIOEMAIL             := V_NM_USUARIOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_CONTAEMAIL               := V_NM_CONTAEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_SENHAEMAIL               := V_DS_SENHAEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_HOSTEMAIL                := V_NM_HOSTEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NR_PORTAEMAIL               := V_NR_PORTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.ST_CONEXAO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  := V_ST_CONEXAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_COMPLEMENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:= V_CORPOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_MENSAGEMEMAIL            := 'Solicitações aguardando sua liberação.'||CHR(10);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_VET_DESTINATARIOS(1).DS_EMAIL &#x9;&#x9;&#x9;&#x9;:= V_NM_CONTAEMAILDEST;&amp;#10;&#x9;    &#x9;&#x9;V_VET_DESTINATARIOS(1).NM_EXIBICAOEMAIL := NULL;&amp;#10;&#x9;&#x9;&#x9;    V_VET_DESTINATARIOS(1).NR_DESTINATARIO&#x9;:= 1;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;    ELSE&amp;#10;&#x9;&#x9;    &#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;    &#x9;FOR I IN CUR_USUARIOS LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_COUNT := V_COUNT + 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_REMETENTE.DS_ASSUNTO&#x9;&#x9;&#x9;            := 'Solicitações aguardando sua liberação.';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_EXIBICAOEMAIL            := V_NM_EXIBICAOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_USUARIOEMAIL             := V_NM_USUARIOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_CONTAEMAIL               := V_NM_CONTAEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_SENHAEMAIL               := V_DS_SENHAEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NM_HOSTEMAIL                := V_NM_HOSTEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.NR_PORTAEMAIL               := V_NR_PORTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.ST_CONEXAO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  := V_ST_CONEXAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_COMPLEMENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:= V_CORPOEMAIL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_REMETENTE.DS_MENSAGEMEMAIL            := 'Solicitações aguardando sua liberação.'||CHR(10);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_VET_DESTINATARIOS(V_COUNT).DS_EMAIL &#x9;&#x9;&#x9;&#x9;:= I.NM_CONTAEMAIL;&amp;#10;&#x9;&#x9;    &#x9;&#x9;V_VET_DESTINATARIOS(V_COUNT).NM_EXIBICAOEMAIL := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_VET_DESTINATARIOS(V_COUNT).NR_DESTINATARIO&#x9;:= V_COUNT;&#x9;&#x9;    &#x9;&#x9;&amp;#10;&#x9;&#x9;    &#x9;END LOOP;&amp;#10;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--MGK:63701:10/10/2013 - gravação na tabela EMAIL e DESTINATARIO_EMAIL.&amp;#10;&#x9;&#x9;&#x9;    PACK_DADOS_EMAIL.INCLUI_FILAEMAIL(I_CD_EMPRESA &#x9;&#x9;&#x9;&#x9;=> :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_CD_USUARIO &#x9;&#x9;&#x9;&#x9;=> :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_SID &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;=> V_NR_SID,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_REMETENTE &#x9;&#x9;&#x9;&#x9;=> V_REMETENTE,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_VET_DESTINATARIOS => V_VET_DESTINATARIOS,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_VET_ANEXOEMAIL &#x9;&#x9;=> V_VET_ANEXOEMAIL,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    I_TP_PRIORIDADE &#x9;&#x9;=> 4,&amp;#10;&#x9;&#x9;&#x9;&#x9;                                    O_MENSAGEM &#x9;&#x9;&#x9;&#x9;&#x9;=> V_MENSAGEM);&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  /**FLA:06/12/2019:142176&amp;#10;&#x9;   * Adicionado para impedir o travamento da sessão da tela&amp;#10;&#x9;   */&amp;#10;&#x9;  FAZ_COMMIT;&amp;#10;&#x9;   &amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9; /**FLA:06/12/2019:142176&amp;#10;&#x9;    * Adicionado para impedir o travamento da sessão da tela&amp;#10;&#x9;    */&amp;#10;&#x9;&#x9;  FAZ_ROLLBACK;&amp;#10;&#x9;&#x9;  MENSAGEM('Maxys',V_MENSAGEM,2);&amp;#10;&#x9;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="PACK_AUDITORIA" PersistentClientInfoLength="0"
                     ProgramUnitText="/**FZA:29085:09/11/2010&amp;#10;***Criado pacote para gravacao de logs de todos os campos alterados nos blocos de banco do programa.&amp;#10;***A chamada dos procedimentos dessa PACK estao nos gatilhos PRE-INSERT  e PRE-UPDATE de cada bloco, &amp;#10;***assim ele grava log de todos os registros alterados dentro do bloco, pois todos regitros alterados passam&amp;#10;***por esses gatilhos.&amp;#10;***Na procedure AUDITA_GRAVACAO, foi ajustado para nao inserir LOG dos blocos que sao inseridos por essa PACK.&amp;#10;***A gravacao dos Log referente as exclusoes estao sendo gravados na Procedure AUDITA_EXCLUSAO normalmente&amp;#10;**/&amp;#10;PACKAGE BODY PACK_AUDITORIA IS&amp;#10;&#x9;--Procedimento que insere os dados atualizados do bloco.&amp;#10;&#x9;PROCEDURE AUDITA_ATUALIZACAO (V_BLOCO IN VARCHAR2) IS&amp;#10;&#x9;&#x9;DS_TABELA       VARCHAR2(32000);&amp;#10;&#x9;&#x9;DS_PRIM_ITEM    VARCHAR2(32000);&amp;#10;&#x9;&#x9;DS_ULTI_ITEM    VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_UPDATE        VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_VALORES_UPD   VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_REGISTRO      VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_DS_EVENTO     VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_DS_VALOR      VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_DS_DML&#x9;&#x9;&#x9;  VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_CAMPOS_UPD    VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_WHERE         VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_CONTADOR_UPD  NUMBER := 0;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;DS_TABELA         := GET_BLOCK_PROPERTY(V_BLOCO,DML_DATA_TARGET_NAME);&amp;#10;&#x9;&#x9;DS_PRIM_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,FIRST_ITEM);&amp;#10;&#x9;&#x9;DS_ULTI_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,LAST_ITEM);&amp;#10;&#x9;&#x9;LOOP                &amp;#10;      IF (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'TEXT ITEM') OR&amp;#10;         (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'LIST') OR&amp;#10;         (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'RADIO GROUP') OR&amp;#10;         (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'CHECK BOX') THEN&amp;#10;        --Verifica se o campo é uma coluna da tabela&amp;#10;      &#x9;IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,COLUMN_NAME) IS NOT NULL THEN          &amp;#10;      &#x9;&#x9;--Busca o valor do campo e concatena a mensagem que ira aparecer no anv7&amp;#10;      &#x9;&#x9;I_DS_VALOR :=  NAME_IN(V_BLOCO||'.'||DS_PRIM_ITEM);&amp;#10;          I_REGISTRO  := I_REGISTRO||' '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,PROMPT_TEXT)||' '||I_DS_VALOR;&amp;#10;          I_DS_EVENTO := ('Atualizou o registro ' || I_REGISTRO || ' na tabela ' || DS_TABELA);&amp;#10;      &#x9;END IF;&amp;#10;      &#x9;--Monta o WHERE da SQL referente a alteracao efetuada.&amp;#10;        IF (I_DS_VALOR IS NOT NULL) THEN&amp;#10;          IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,PRIMARY_KEY) &lt;> 'TRUE' THEN&amp;#10;            IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;              IF (V_BLOCO||'.'||DS_PRIM_ITEM = V_BLOCO||'.HR_RECORD') THEN&amp;#10;                I_VALORES_UPD := I_VALORES_UPD||DS_PRIM_ITEM||' = '||CHR(39)||TO_CHAR(RETORNA_DATAHORA,'HH24:MI')||CHR(39)||', ';&amp;#10;              ELSE&amp;#10;                I_VALORES_UPD := I_VALORES_UPD||DS_PRIM_ITEM||' = '||CHR(39)||:SYSTEM.CURSOR_VALUE||CHR(39)||', ';&amp;#10;              END IF;&amp;#10;            ELSE&amp;#10;              IF (V_BLOCO||'.'||DS_PRIM_ITEM = V_BLOCO||'.DT_RECORD') THEN&amp;#10;                I_VALORES_UPD := I_VALORES_UPD||DS_PRIM_ITEM||' = '||RETORNA_DATAHORA||', ';&amp;#10;              ELSE&amp;#10;                I_VALORES_UPD := I_VALORES_UPD||DS_PRIM_ITEM||' = '||:SYSTEM.CURSOR_VALUE||', ';&amp;#10;              END IF;&amp;#10;            END IF;&amp;#10;          END IF;&amp;#10;        ELSIF (I_DS_VALOR IS NULL) THEN&amp;#10;          IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,PRIMARY_KEY) &lt;> 'TRUE' THEN&amp;#10;            I_VALORES_UPD := I_VALORES_UPD||DS_PRIM_ITEM||' = '||CHR(39)||' '||CHR(39)||', ';&amp;#10;          END IF;&amp;#10;        END IF;&amp;#10;        --Monta os Campos atualizados da SQL&amp;#10;        IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,PRIMARY_KEY) = 'TRUE' THEN&amp;#10;          IF I_CONTADOR_UPD = 0 THEN&amp;#10;            IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;              I_CAMPOS_UPD := I_CAMPOS_UPD||DS_PRIM_ITEM||' = '||CHR(39)||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;            ELSE&amp;#10;              I_CAMPOS_UPD := I_CAMPOS_UPD||DS_PRIM_ITEM||' = '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE);&amp;#10;            END IF;&amp;#10;          ELSE&amp;#10;            IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;              I_CAMPOS_UPD := I_CAMPOS_UPD||' AND '||DS_PRIM_ITEM||' = '||CHR(39)||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;            ELSE&amp;#10;              I_CAMPOS_UPD := I_CAMPOS_UPD||' AND '||DS_PRIM_ITEM||' = '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE);&amp;#10;            END IF;&amp;#10;          END IF;&amp;#10;          I_CONTADOR_UPD := I_CONTADOR_UPD + 1;&amp;#10;          I_WHERE        := ' WHERE '||I_CAMPOS_UPD;&amp;#10;        END IF;        &amp;#10;      END IF;&#x9;&#x9;&#x9;&amp;#10;      EXIT WHEN V_BLOCO||'.'||DS_PRIM_ITEM = V_BLOCO||'.'||DS_ULTI_ITEM;&amp;#10;      DS_PRIM_ITEM := GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,NEXTITEM);&amp;#10;&#x9;&#x9;END LOOP;&#x9;&#x9;&#x9;&#x9;&amp;#10;    --Contatena os valores que foram alterados&amp;#10;    IF (I_VALORES_UPD IS NOT NULL) THEN&amp;#10;      I_VALORES_UPD := SUBSTR(I_VALORES_UPD,1,LENGTH(I_VALORES_UPD)-2);&amp;#10;      I_UPDATE      := 'UPDATE '||DS_TABELA||' SET '||I_VALORES_UPD||' '||I_WHERE||';';&amp;#10;      I_DS_DML      := I_UPDATE;&amp;#10;    END IF;  &amp;#10;    &amp;#10;    --Chama o procedimento para inserir na tabela LOGUSUARIO&amp;#10;    PACK_AUDITORIA.INSERE_LOGUSUARIO(I_DS_EVENTO,I_DS_DML,'A');&#x9;&amp;#10;    &amp;#10;&#x9;END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------------------------------------------&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;&#x9;PROCEDURE AUDITA_INSERCAO(V_BLOCO IN VARCHAR2) IS&amp;#10;&#x9;&#x9;--Procedimento que grava os dados inseridos no Bloco&amp;#10;&#x9;&#x9;DS_TABELA       VARCHAR2(32000);&amp;#10;&#x9;&#x9;DS_PRIM_ITEM    VARCHAR2(32000);&amp;#10;&#x9;&#x9;DS_ULTI_ITEM    VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_INSERT        VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_VALORES_INS   VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_REGISTRO      VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_DS_EVENTO     VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_DS_DML&#x9;&#x9;&#x9;  VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_CAMPOS_INS    VARCHAR2(32000);&amp;#10;&#x9;&#x9;I_CONTADOR_INS  NUMBER:=0;&#x9;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;DS_TABELA         := GET_BLOCK_PROPERTY(V_BLOCO,DML_DATA_TARGET_NAME);&amp;#10;&#x9;&#x9;DS_PRIM_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,FIRST_ITEM);&amp;#10;&#x9;&#x9;DS_ULTI_ITEM      := GET_BLOCK_PROPERTY(:SYSTEM.CURRENT_BLOCK,LAST_ITEM);&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;--Verifica se o campo é uma coluna da tabela&amp;#10;&#x9;    IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,COLUMN_NAME) IS NOT NULL THEN&#x9;&amp;#10;&#x9;    &#x9;--Busca o valor do campo e concatena a mensagem que ira aparecer no anv7            &#x9;&amp;#10;&#x9;      I_REGISTRO  := I_REGISTRO||' '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,PROMPT_TEXT)||' '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE);&amp;#10;&#x9;      I_DS_EVENTO := ('Inseriu na tabela ' || DS_TABELA || ' o registro ' || I_REGISTRO);&amp;#10;&#x9;    END IF;&amp;#10;&#x9;    --Verifica se foi inserido valor nessa coluna&amp;#10;      IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE) IS NOT NULL THEN&amp;#10;        IF (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'TEXT ITEM') OR&amp;#10;           (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'LIST') OR  &amp;#10;           (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'RADIO GROUP') OR &amp;#10;           (GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,ITEM_TYPE) = 'CHECK BOX') THEN&amp;#10;          IF I_CONTADOR_INS = 0 THEN&amp;#10;            I_CAMPOS_INS  := ' ( '||DS_PRIM_ITEM;&amp;#10;            IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;              I_VALORES_INS := ' ( '||CHR(39)||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;            ELSE&amp;#10;              I_VALORES_INS := ' ( '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE);&amp;#10;            END IF;&amp;#10;          ELSE&amp;#10;            I_CAMPOS_INS := I_CAMPOS_INS||', '||DS_PRIM_ITEM;&amp;#10;            IF GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATATYPE) = 'CHAR' THEN&amp;#10;              I_VALORES_INS := I_VALORES_INS||', '||CHR(39)||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE)||CHR(39);&amp;#10;            ELSE&amp;#10;              I_VALORES_INS := I_VALORES_INS||', '||GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,DATABASE_VALUE);&amp;#10;            END IF;&amp;#10;          END IF;&amp;#10;          I_INSERT := 'INSERT INTO '||DS_TABELA;&amp;#10;        END IF;&amp;#10;        I_CONTADOR_INS := I_CONTADOR_INS + 1;&amp;#10;      END IF;&amp;#10;      EXIT WHEN V_BLOCO||'.'||DS_PRIM_ITEM = V_BLOCO||'.'||DS_ULTI_ITEM;&amp;#10;      DS_PRIM_ITEM := GET_ITEM_PROPERTY(V_BLOCO||'.'||DS_PRIM_ITEM,NEXTITEM);&#x9;    &amp;#10;&#x9;&#x9;END LOOP;&amp;#10;    --Contatena os valores que foram inseridos&amp;#10;    IF (I_CAMPOS_INS IS NOT NULL) AND (I_VALORES_INS IS NOT NULL) THEN&amp;#10;      I_CAMPOS_INS  := I_CAMPOS_INS||')';&amp;#10;      I_VALORES_INS := I_VALORES_INS||')';&amp;#10;      I_INSERT      := I_INSERT||I_CAMPOS_INS||' VALUES '||I_VALORES_INS||';';&amp;#10;      I_DS_DML &#x9;&#x9;&#x9;:= I_INSERT;&amp;#10;    END IF;&amp;#10;    &amp;#10;    --Chama o procedimento para inserir na tabela LOGUSUARIO&amp;#10;    PACK_AUDITORIA.INSERE_LOGUSUARIO(I_DS_EVENTO,I_DS_DML,'I');&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END;&amp;#10;&#x9;------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------------------------------------------&#x9;&amp;#10;  ------------------------------------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;--Procedimento que insere as alteracoes feitas na tabela LOGUSUARIO&amp;#10;&#x9;PROCEDURE INSERE_LOGUSUARIO(I_DS_EVENTO   IN LOGUSUARIO.DS_EVENTO%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_DS_DML      IN LOGUSUARIO.DS_DML%TYPE   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_TP_EVENTO   IN LOGUSUARIO.TP_EVENTO%TYPE) IS&amp;#10;&#x9;&#x9;I_TAM_EVENTO NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;    &amp;#10;&#x9;&#x9;--Verifica qual das duas descricoes tem o tamanho maior para quebrar em duas linhas caso seja maior que 2000 caracteres&amp;#10;&#x9;  IF LENGTH(I_DS_DML) >= LENGTH(I_DS_EVENTO) THEN&amp;#10;&#x9;  &#x9;I_TAM_EVENTO := LENGTH(I_DS_DML);&amp;#10;&#x9;  ELSE&amp;#10;&#x9;  &#x9;I_TAM_EVENTO := LENGTH(I_DS_EVENTO);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;IF I_DS_EVENTO IS NOT NULL THEN&amp;#10;&#x9;   &#x9;FOR I IN 1.. NVL((TRUNC(I_TAM_EVENTO / 2000) + 1),1) LOOP   &amp;#10;&#x9;      BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Insere os dados no Log.&amp;#10;&#x9;        INSERT INTO LOGUSUARIO (CD_EMPRESA,&amp;#10;&#x9;        &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_USUARIO,&amp;#10;&#x9;        &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_MODULO,&amp;#10;&#x9;        &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_PROGRAMA,&amp;#10;&#x9;                                DT_EVENTO,&amp;#10;&#x9;                                SQ_EVENTO,&amp;#10;&#x9;                                HR_EVENTO,&amp;#10;&#x9;                                DS_EVENTO,&amp;#10;&#x9;                                TP_EVENTO,&amp;#10;&#x9;                                DS_DML)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                VALUES (:GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                &#x9;&#x9;&#x9;&#x9;:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                &#x9;&#x9;&#x9;&#x9;:GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        RETORNA_DATAHORA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        SEQ_AUDITORIA.NEXTVAL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        TO_CHAR(RETORNA_DATAHORA,'HH24:MI'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        SUBSTR(I_DS_EVENTO,((I - 1) * 2000 + 1),2000),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        I_TP_EVENTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                        SUBSTR(I_DS_DML   ,((I - 1) * 2000 + 1),2000));&amp;#10;&#x9;      EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  DEBUG_PROGRAMA('AUDITA_GRAVACAO - Erro durante tentativa de inserção na tabela LOGUSUARIO: '||SQLERRM);&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END;&amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <ProgramUnit Name="PACK_AUDITORIA" PersistentClientInfoLength="0"
                     ProgramUnitText="PACKAGE PACK_AUDITORIA IS&amp;#10;&amp;#10;&#x9;PROCEDURE AUDITA_ATUALIZACAO(V_BLOCO IN VARCHAR2);&amp;#10;&#x9;---------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;---------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE AUDITA_INSERCAO(V_BLOCO IN VARCHAR2);&amp;#10;&#x9;---------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;---------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE INSERE_LOGUSUARIO(I_DS_EVENTO   IN LOGUSUARIO.DS_EVENTO%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_DS_DML      IN LOGUSUARIO.DS_DML%TYPE   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_TP_EVENTO   IN LOGUSUARIO.TP_EVENTO%TYPE);&amp;#10;&amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_GRAVALIBERACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="/** WLV:15/02/2012:40906&amp;#10;  * Criado para fazer a verificação se foi alterado a solicitação de compra.&amp;#10;  * pois antes mesmo quando não se alterava nada na solicitação ele estourava o alerta de confirmação&amp;#10;  */ &amp;#10;PACKAGE PACK_GRAVALIBERACAO IS &amp;#10;   TYPE R_DADOSGRAVACAO IS RECORD(CD_EMPRESA          &#x9;&#x9;ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_AUTORIZADOR          ITEMCOMPRA.CD_AUTORIZADOR%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_TIPOCOMPRA           ITEMCOMPRA.CD_TIPOCOMPRA%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_DESEJADA&#x9;&#x9;&#x9;&#x9;      ITEMCOMPRA.DT_DESEJADA%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NR_LOTECOMPRA&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;ITEMCOMPRA.NR_LOTECOMPRA%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_INICIO&#x9;&#x9;&#x9;&#x9;&#x9;      ITEMCOMPRA.DT_INICIO%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NR_CONTRATO           &#x9;ITEMCOMPRA.NR_CONTRATO%TYPE,&amp;#10;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_DEPARTAMENTO         ITEMCOMPRA.CD_DEPARTAMENTO%TYPE);&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9; TYPE T_DADOSGRAVACAO IS TABLE OF R_DADOSGRAVACAO INDEX BY BINARY_INTEGER;&amp;#10;&#x9; VET_DADOSGRAVACAO    T_DADOSGRAVACAO;&amp;#10;&#x9; &amp;#10;&#x9; PROCEDURE GRAVA_VETOR(I_CD_EMPRESA          &#x9;IN ITEMCOMPRA.CD_EMPRESA%TYPE,     &amp;#10;&#x9;                       I_CD_AUTORIZADOR       IN ITEMCOMPRA.CD_AUTORIZADOR%TYPE, &amp;#10;&#x9;                       I_CD_TIPOCOMPRA        IN ITEMCOMPRA.CD_TIPOCOMPRA%TYPE,  &amp;#10;&#x9;                       I_DT_DESEJADA&#x9;&#x9;&#x9;&#x9;  IN ITEMCOMPRA.DT_DESEJADA%TYPE,    &amp;#10;&#x9;                       I_NR_LOTECOMPRA&#x9;&#x9;&#x9;&#x9;IN ITEMCOMPRA.NR_LOTECOMPRA%TYPE,  &amp;#10;&#x9;                       I_DT_INICIO&#x9;&#x9;&#x9;&#x9;&#x9;  IN ITEMCOMPRA.DT_INICIO%TYPE,      &amp;#10;&#x9;                       I_NR_CONTRATO          IN ITEMCOMPRA.NR_CONTRATO%TYPE,&amp;#10;&#x9;                       I_CD_DEPARTAMENTO      IN ITEMCOMPRA.CD_DEPARTAMENTO%TYPE,&amp;#10;&#x9;                       O_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; OUT VARCHAR2);   &amp;#10;&#x9;  &amp;#10;&#x9;  &amp;#10;   TYPE R2_DADOSGRAVACAO IS RECORD(CD_ITEM             &#x9;&#x9;&#x9;ITEMCOMPRA.CD_ITEM%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        &#x9;&#x9;&#x9;&#x9;   CD_MOVIMENTACAO      &#x9;&#x9;ITEMCOMPRA.CD_MOVIMENTACAO%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           QT_PREVISTA              ITEMCOMPRA.QT_PREVISTA%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           DS_OBSERVACAOEXT&#x9;&#x9;&#x9;&#x9;  ITEMCOMPRA.DS_OBSERVACAOEXT%TYPE,&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           DS_OBSERVACAO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ITEMCOMPRA.DS_OBSERVACAO%TYPE);&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           &amp;#10;   TYPE T2_DADOSGRAVACAO IS TABLE OF R2_DADOSGRAVACAO INDEX BY BINARY_INTEGER;&amp;#10;&#x9; VET2_DADOSGRAVACAO    T2_DADOSGRAVACAO;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           &amp;#10;&#x9;  &amp;#10;&#x9;  &amp;#10;&#x9; PROCEDURE GRAVA_VETOR_ITENS(O_MENSAGEM OUT VARCHAR2); &amp;#10;&#x9;  &amp;#10;&#x9;  &amp;#10;&#x9; PROCEDURE VERIFICA_DADOS_MODIFICADOS(RETORNO OUT BOOLEAN, O_MENSAGEM OUT VARCHAR2);&amp;#10;&#x9; &amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_GRAVALIBERACAO" PersistentClientInfoLength="0"
                     ProgramUnitText="/** WLV:15/02/2012:40906&amp;#10;  * Criado para fazer a verificação se foi alterado a solicitação de compra.&amp;#10;  * pois antes mesmo quando não se alterava nada na solicitação ele estourava o alerta de confirmação&amp;#10;  */ &amp;#10;PACKAGE BODY PACK_GRAVALIBERACAO IS&amp;#10;  &amp;#10;&#x9;&amp;#10;&#x9;PROCEDURE GRAVA_VETOR(I_CD_EMPRESA          &#x9;IN ITEMCOMPRA.CD_EMPRESA%TYPE,     &amp;#10;                        I_CD_AUTORIZADOR        IN ITEMCOMPRA.CD_AUTORIZADOR%TYPE, &amp;#10;                        I_CD_TIPOCOMPRA         IN ITEMCOMPRA.CD_TIPOCOMPRA%TYPE,  &amp;#10;                        I_DT_DESEJADA&#x9;&#x9;&#x9;&#x9;&#x9;  IN ITEMCOMPRA.DT_DESEJADA%TYPE,    &amp;#10;                        I_NR_LOTECOMPRA&#x9;&#x9;&#x9;&#x9;&#x9;IN ITEMCOMPRA.NR_LOTECOMPRA%TYPE,  &amp;#10;                        I_DT_INICIO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IN ITEMCOMPRA.DT_INICIO%TYPE,      &amp;#10;                        I_NR_CONTRATO           IN ITEMCOMPRA.NR_CONTRATO%TYPE,&amp;#10;                        I_CD_DEPARTAMENTO       IN ITEMCOMPRA.CD_DEPARTAMENTO%TYPE,&amp;#10;                        O_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; OUT VARCHAR2) IS&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  &#x9;&amp;#10;  &#x9;VET_DADOSGRAVACAO.DELETE;&amp;#10;  &#x9;VET_DADOSGRAVACAO(1).CD_EMPRESA       := I_CD_EMPRESA; &amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).CD_AUTORIZADOR &#x9;:= I_CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).CD_TIPOCOMPRA    := I_CD_TIPOCOMPRA;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).DT_DESEJADA&#x9;&#x9;  := I_DT_DESEJADA;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).NR_LOTECOMPRA&#x9;  := I_NR_LOTECOMPRA;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).DT_INICIO&#x9;&#x9;&#x9;  := I_DT_INICIO;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).NR_CONTRATO      := I_NR_CONTRATO;&amp;#10;&#x9;&#x9;VET_DADOSGRAVACAO(1).CD_DEPARTAMENTO  := I_CD_DEPARTAMENTO;&amp;#10;&#x9;&amp;#10;&#x9;EXCEPTION  &#x9;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;  &#x9;O_MENSAGEM := 'Não foi possível gravar vetor. '||SQLERRM;&#x9;&amp;#10;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;PROCEDURE GRAVA_VETOR_ITENS(O_MENSAGEM OUT VARCHAR2) IS&amp;#10;&#x9; V_COUNT   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&#x9;&amp;#10;&#x9; &amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;VET2_DADOSGRAVACAO.DELETE;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_COUNT := NVL(VET2_DADOSGRAVACAO.LAST,0) + 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;VET2_DADOSGRAVACAO(V_COUNT).CD_ITEM          := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;  VET2_DADOSGRAVACAO(V_COUNT).CD_MOVIMENTACAO  := :ITEMCOMPRA.CD_MOVIMENTACAO;&amp;#10;&#x9;&#x9;&#x9;  VET2_DADOSGRAVACAO(V_COUNT).QT_PREVISTA      := :ITEMCOMPRA.QT_PREVISTA;  &amp;#10;&#x9;&#x9;&#x9;  VET2_DADOSGRAVACAO(V_COUNT).DS_OBSERVACAOEXT := :ITEMCOMPRA.DS_OBSERVACAOEXT;  &amp;#10;&#x9;&#x9;&#x9;  VET2_DADOSGRAVACAO(V_COUNT).DS_OBSERVACAO&#x9;   := :ITEMCOMPRA.DS_OBSERVACAO;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;EXCEPTION  &#x9;&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;  O_MENSAGEM := 'Não foi possível gravar vetor. '||SQLERRM;&amp;#10;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;PROCEDURE VERIFICA_DADOS_MODIFICADOS(RETORNO OUT BOOLEAN, O_MENSAGEM OUT VARCHAR2) IS&amp;#10;&#x9;  V_FLAG_BLOCO1 BOOLEAN;&amp;#10;&#x9;  V_FLAG_BLOCO2 BOOLEAN;&amp;#10;&#x9;  &amp;#10;&#x9;  V_COUNT  NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;V_FLAG_BLOCO1 := TRUE;&amp;#10;&#x9;&#x9;RETORNO&#x9;&#x9;&#x9;&#x9;:= TRUE;&amp;#10;&#x9;&#x9;GO_BLOCK('CONTROLE');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(VET_DADOSGRAVACAO(1).CD_EMPRESA,0) &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NVL(:CONTROLE.CD_EMPRESA,0) &#x9;&#x9;&#x9;&#x9;AND&amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).CD_AUTORIZADOR,'-1') &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NVL(:CONTROLE.CD_AUTORIZADOR,'-1')  AND&amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).CD_TIPOCOMPRA,'-1')   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NVL(:CONTROLE.CD_TIPOCOMPRA,'-1')   AND&amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).DT_DESEJADA,TO_DATE('01/01/1900','DD/MM/RRRR')) = NVL(:CONTROLE.DT_DESEJADA,TO_DATE('01/01/1900','DD/MM/RRRR'))AND   &amp;#10;&#x9;&#x9;   VET_DADOSGRAVACAO(1).NR_LOTECOMPRA&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= :CONTROLE.NR_LOTECOMPRA&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND &amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).DT_INICIO,TO_DATE('01/01/1900','DD/MM/RRRR'))&#x9;&#x9;= NVL(:CONTROLE.DT_INICIO,TO_DATE('01/01/1900','DD/MM/RRRR'))AND     &amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).NR_CONTRATO,0)     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= NVL(:CONTROLE.NR_CONTRATO,0) AND&amp;#10;&#x9;&#x9;   NVL(VET_DADOSGRAVACAO(1).CD_DEPARTAMENTO,0)     &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  = NVL(:CONTROLE.CD_DEPARTAMENTO,0) THEN&amp;#10;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9; V_FLAG_BLOCO1 := TRUE;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9; V_FLAG_BLOCO1 := FALSE;&amp;#10;&#x9;&#x9;END IF; &amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;V_FLAG_BLOCO2 := TRUE;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;  V_COUNT := NVL(V_COUNT,0) + 1;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;FOR I IN 1..NVL(VET2_DADOSGRAVACAO.COUNT,0)LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF VET2_DADOSGRAVACAO(I).CD_ITEM      &#x9;&#x9;&#x9;= :ITEMCOMPRA.CD_ITEM THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF VET2_DADOSGRAVACAO(I).CD_MOVIMENTACAO  = :ITEMCOMPRA.CD_MOVIMENTACAO AND&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   VET2_DADOSGRAVACAO(I).QT_PREVISTA&#x9;&#x9;&#x9;= :ITEMCOMPRA.QT_PREVISTA AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   NVL(VET2_DADOSGRAVACAO(I).DS_OBSERVACAOEXT,' ') = NVL(:ITEMCOMPRA.DS_OBSERVACAOEXT,' ') AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   NVL(VET2_DADOSGRAVACAO(I).DS_OBSERVACAO,' ')    = NVL(:ITEMCOMPRA.DS_OBSERVACAO,' ') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_FLAG_BLOCO2 := FALSE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;  &#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;--caso a quantidade de itens do Lote de Compra for difrente do Vetor, entende que foi inserido&amp;#10;&#x9;&#x9;IF NVL(V_COUNT,0) &lt;> NVL(VET2_DADOSGRAVACAO.COUNT,0) THEN&amp;#10;&#x9;&#x9;&#x9;V_FLAG_BLOCO2 := FALSE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;IF V_FLAG_BLOCO1 AND V_FLAG_BLOCO2 THEN&amp;#10;&#x9;&#x9;&#x9;RETORNO := TRUE;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;RETORNO := FALSE;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;EXCEPTION  &#x9;&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;  O_MENSAGEM := 'Erro ao verificar dados '||SQLERRM;&amp;#10;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <ProgramUnit Name="DEFINIR_ROUND"
                     ProgramUnitText="PROCEDURE DEFINIR_ROUND (I_CD_ITEM&#x9;IN&#x9;ITEMEMPRESA.CD_ITEM%TYPE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_MENSAGEM&#x9;OUT&#x9;VARCHAR2) IS&amp;#10;&amp;#10;&#x9;V_TP_UNIDMED &#x9;&#x9;&#x9;TIPOCALCULOPRECO.TP_UNIDMED%TYPE;&amp;#10;&#x9;V_CD_TIPOCALCULO&#x9;ITEMEMPRESA.CD_TIPOCALCULO%TYPE;&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;  /* MGK:52401:03/12/2012&amp;#10;  ** Criado procedimento para controlar o arredondamento do campo QT_PREVISTA.&amp;#10;  */&amp;#10;  BEGIN&amp;#10;&#x9;  SELECT ITEMEMPRESA.CD_TIPOCALCULO&amp;#10;&#x9;  &#x9;INTO V_CD_TIPOCALCULO&amp;#10;&#x9;  &#x9;FROM ITEMEMPRESA&amp;#10;&#x9;   WHERE ITEMEMPRESA.CD_ITEM    = I_CD_ITEM&amp;#10;&#x9;   &#x9; AND ITEMEMPRESA.CD_EMPRESA = :CONTROLE.CD_EMPRESA;&amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;V_CD_TIPOCALCULO := NULL;&amp;#10;  &#x9;&#x9;--Não existe um tipo de cálculo válido para o item ¢CD_ITEM¢ na empresa ¢CD_EMPRESA¢. Verifique TIT001, aba Empresa.&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1348, '¢CD_ITEM='||I_CD_ITEM||'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;  &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;  &#x9;&#x9;----Mais de um Tipo de Cálculo para o Item (¢CD_ITEM¢) e Empresa (¢CD_EMPRESA¢) encontrados. Verifique TIT001!&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(12220, '¢CD_ITEM='||I_CD_ITEM||'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;--Ocorreu um erro durante a consulta dos dados do item ¢CD_ITEM¢. Erro: ¢SQLERRM¢.&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(60, '¢CD_ITEM='||I_CD_ITEM||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  END;&amp;#10;  &amp;#10;  BEGIN&amp;#10;  &#x9;SELECT TIPOCALCULOPRECO.TP_UNIDMED&amp;#10;  &#x9;&#x9;INTO V_TP_UNIDMED&amp;#10;  &#x9;&#x9;FROM TIPOCALCULOPRECO&amp;#10;  &#x9; WHERE TIPOCALCULOPRECO.CD_TIPOCALCULO = V_CD_TIPOCALCULO;&amp;#10;  EXCEPTION&amp;#10;  &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;  &#x9;&#x9;V_TP_UNIDMED := NULL;&amp;#10;  &#x9;&#x9;--Unidade de medida não está cadastrada para o item ¢CD_ITEM¢. Verifique TIT001.&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(302, '¢CD_ITEM='||I_CD_ITEM||'¢');&amp;#10;  &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;  &#x9;&#x9;--Unidade de medida cadastrada várias vezes para o item ¢CD_ITEM¢. Verifique TIT001&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(303, '¢CD_ITEM='||I_CD_ITEM||'¢');&amp;#10;  &#x9;WHEN OTHERS THEN&amp;#10;  &#x9;&#x9;--Erro ao buscar do tipo de unidade de medida para o item ¢CD_ITEM¢ na empresa ¢CD_EMPRMOVTO¢. Erro: ¢SQLERRM¢.&amp;#10;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7191, '¢CD_ITEM='||I_CD_ITEM||'¢CD_EMPRMOVTO='||:CONTROLE.CD_EMPRESA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;  END;&amp;#10;  &amp;#10;  IF (V_TP_UNIDMED = '1') THEN -- Item é por peso&amp;#10;    NULL;&amp;#10;  ELSIF (V_TP_UNIDMED = '2') THEN -- Item é por qtde&amp;#10;    :ITEMCOMPRA.QT_PREVISTA := ROUND(:ITEMCOMPRA.QT_PREVISTA);&amp;#10;  ELSE&amp;#10;    O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(471, '¢CD_ITEM='||I_CD_ITEM||'¢CD_EMPRESA='||:CONTROLE.CD_EMPRESA||'¢');&amp;#10;    RAISE E_GERAL;&amp;#10;  END IF;--IF (V_TP_UNIDMED = 1) THEN&amp;#10;  &amp;#10;EXCEPTION  &amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="CANCELAR_ITEMCOMPRA"
                     ProgramUnitText="PROCEDURE CANCELAR_ITEMCOMPRA (I_NR_ITEMCOMPRA  IN ITEMCOMPRA.NR_ITEMCOMPRA%TYPE,&amp;#10;&#x9;&#x9;                        &#x9; I_CD_EMPRESA     IN ITEMCOMPRA.CD_EMPRESA%TYPE,&amp;#10;&#x9;&#x9;                        &#x9; I_CD_ITEM     &#x9;&#x9;IN ITEMCOMPRA.CD_ITEM%TYPE,&amp;#10;&#x9;&#x9;                        &#x9; O_MENSAGEM&#x9;&#x9;&#x9; OUT VARCHAR2) IS &amp;#10;&#x9;&amp;#10;&#x9;V_COUNT_PONTOPEDIDO&#x9;&#x9;&#x9;      &#x9;NUMBER;&amp;#10;&#x9;V_COUNT_ITEMCOMPRACCUSTO      &#x9;NUMBER;&amp;#10;&#x9;V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;NUMBER;&amp;#10;&#x9;V_MENSAGEM &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &#x9;EXCEPTION;&amp;#10;&#x9;V_DADOS_ENTRADA&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PEDIDOINTERNO.R_DADOS_ENTRADA;&amp;#10;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA&#x9;&#x9;PEDIDOINTERNOINTECOMPRA%ROWTYPE;&amp;#10;&#x9;V_ROW_ITEMPEDIDOINTERNO&#x9;&#x9;&#x9;&#x9;&#x9;ITEMPEDIDOINTERNO%ROWTYPE;&amp;#10;&#x9;V_NR_PEDIDOINTERNO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PEDIDOINTERNO.NR_PEDIDOINTERNO%TYPE;&amp;#10;&#x9;V_QTDE_PESO_RECALCULADO&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;V_CD_UNIDMEDESTQ &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(10);&amp;#10;&#x9;V_TP_UNIDMED&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(10);&#x9;&amp;#10;BEGIN&amp;#10;&amp;#10;  BEGIN&amp;#10;&#x9;  UPDATE ITEMCOMPRA&amp;#10;&#x9;     SET ITEMCOMPRA.ST_ITEMCOMPRA = 99,&amp;#10;&#x9;         ITEMCOMPRA.DS_OBSCANCEL  = :ITEMCOMPRA.DS_OBSCANCEL&amp;#10;&#x9;   WHERE ITEMCOMPRA.NR_ITEMCOMPRA = I_NR_ITEMCOMPRA &amp;#10;&#x9;     AND ITEMCOMPRA.CD_EMPRESA    = I_CD_EMPRESA;&amp;#10;  EXCEPTION&amp;#10;    WHEN OTHERS THEN&amp;#10;      -- Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥.&amp;#10;      V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864, '¢NM_TABELA='||'ITEMCOMPRA'||'¢SQLERRM='||SQLERRM||'¢DS_DETALHE='||'Houve erro ao atualizar a solicitação de Compra ('||I_NR_ITEMCOMPRA||') na empresa ('||I_CD_EMPRESA||').'||'¢'); &amp;#10;      RAISE E_GERAL;&amp;#10;  END;&amp;#10;&amp;#10;&#x9;IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;  PACK_LOGUSUARIO.AUDITAR_ATUALIZACAO (V_CD_EMPRESA  => :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;                                       V_CD_MODULO &#x9; => :GLOBAL.CD_MODULO,&amp;#10;&#x9;                                       V_CD_PROGRAMA => :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;                                       V_CD_USUARIO  => :GLOBAL.CD_USUARIO,&amp;#10;&#x9;                                       V_DS_EVENTO &#x9; => 'O usuário ('||:GLOBAL.CD_USUARIO||') efetuou o cancelamento da solicitação de compra ('||I_NR_ITEMCOMPRA||') na empresa ('||I_CD_EMPRESA||').',&amp;#10;&#x9;                                       V_NM_ENTIDADE => 'ITEMCOMPRA',&amp;#10;&#x9;                                       V_DS_DML &#x9;&#x9; => 'UPDATE ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    SET ITEMCOMPRA.ST_ITEMCOMPRA = 99&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHERE ITEMCOMPRA.NR_ITEMCOMPRA = '||I_NR_ITEMCOMPRA||' &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND ITEMCOMPRA.CD_EMPRESA    = '||I_CD_EMPRESA);&amp;#10;&#x9;END IF; --IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;----------------------------------------------&amp;#10;&#x9;&amp;#10; &#x9;BEGIN &amp;#10; &#x9;&#x9;SELECT COUNT(*) &amp;#10; &#x9;&#x9;&#x9;INTO V_COUNT_ITEMCOMPRACCUSTO &amp;#10; &#x9;&#x9;&#x9;FROM ITEMCOMPRACCUSTO &amp;#10;&#x9;&#x9; WHERE ITEMCOMPRACCUSTO.NR_ITEMCOMPRA = I_NR_ITEMCOMPRA &amp;#10;&#x9;&#x9;   AND ITEMCOMPRACCUSTO.CD_EMPRESA    = I_CD_EMPRESA; &amp;#10; &#x9;EXCEPTION &amp;#10; &#x9;&#x9;WHEN OTHERS THEN &amp;#10; &#x9;&#x9;&#x9;V_COUNT_ITEMCOMPRACCUSTO := 0; &amp;#10; &#x9;END; &amp;#10; &#x9;&amp;#10; &#x9;IF (NVL(V_COUNT_ITEMCOMPRACCUSTO,0) > 0) THEN&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;  UPDATE ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9;     SET ITEMCOMPRACCUSTO.ST_ITEMCOMPRA = 99&amp;#10;&#x9;&#x9;   WHERE ITEMCOMPRACCUSTO.NR_ITEMCOMPRA = I_NR_ITEMCOMPRA &amp;#10;&#x9;&#x9;     AND ITEMCOMPRACCUSTO.CD_EMPRESA    = I_CD_EMPRESA;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;      -- Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥.&amp;#10;&#x9;      V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864, '¢NM_TABELA='||'ITEMCOMPRACCUSTO'||'¢SQLERRM='||SQLERRM||'¢DS_DETALHE='||'Houve erro ao atualizar a solicitação de Compra ('||I_NR_ITEMCOMPRA||') na empresa ('||I_CD_EMPRESA||').'||'¢'); &amp;#10;&#x9;      RAISE E_GERAL;&amp;#10;&#x9;  END;  &amp;#10;&#x9;  &amp;#10;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;  PACK_LOGUSUARIO.AUDITAR_ATUALIZACAO (V_CD_EMPRESA  => :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;                                       V_CD_MODULO &#x9; => :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;                                       V_CD_PROGRAMA => :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;&#x9;                                       V_CD_USUARIO  => :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;                                       V_DS_EVENTO &#x9; => 'O usuário ('||:GLOBAL.CD_USUARIO||') efetuou o cancelamento da solicitação de compra ('||I_NR_ITEMCOMPRA||') na empresa ('||I_CD_EMPRESA||') e os centros de custo associados a esta solicitação de compra.',&amp;#10;&#x9;&#x9;                                       V_NM_ENTIDADE => 'ITEMCOMPRACCUSTO',&amp;#10;&#x9;&#x9;                                       V_DS_DML &#x9;&#x9; => 'UPDATE ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    SET ITEMCOMPRACCUSTO.ST_ITEMCOMPRA = 99&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHERE ITEMCOMPRACCUSTO.NR_ITEMCOMPRA = '||I_NR_ITEMCOMPRA||' &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND ITEMCOMPRACCUSTO.CD_EMPRESA    = '||I_CD_EMPRESA);&amp;#10;&#x9;&#x9;END IF; --IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;END IF; --IF (NVL(V_COUNT_ITEMCOMPRACCUSTO,0) > 0) THEN&amp;#10;  -------------------------------------------------------&amp;#10;  &amp;#10;  /** ALE:27/07/2013:59721&amp;#10;   *  Quando o parâmetro &quot;Ativar Controle de Ponto de Pedido&quot; estiver configurado na página &quot;Validações&quot; do COM009, será&amp;#10;   *&#x9;realizado o reprocesso de solicitação de compras.&amp;#10;   *&amp;#10;   *&#x9;O calculo que o Maxys realizar para definir o status da solicitação para &quot;Dentro do Ponto de Pedido&quot; é o seguinte: &amp;#10;   *&#x9;&quot;Quantidade em estoque - Soma total das solicitações de compras com status &quot;Dentro do Ponto de Pedido&quot; - Quando solicitada &amp;#10;   *&#x9;na solicitação que está realizada no momento&quot;.&amp;#10;&#x9; * &amp;#10;&#x9; *&#x9;Se o resultado dessa fórmula for maior ou igual ao a quantidade configurada para o ponto de pedido do item no TIT001, &amp;#10;&#x9; *&#x9;a solicitação de compras ficará com o status &quot;Dentro do Ponto de Pedido&quot;. Se o resultado dessa fórmula for menor que a &amp;#10;&#x9; *&#x9;quantidade configurada para o ponto de pedido do item no TIT001, a solicitação ficará com o status &quot;Liberado&quot;. &amp;#10;&#x9; *&amp;#10;&#x9; *  No cotidiano das empresas, é comum o estoque dos itens sofrerem alterações de seus saldos no estoque, uma vez que são &amp;#10;&#x9; *&#x9;realizadas entradas e saídas do item. Como o item pode sofrer essas alterações de saldo, o status da solicitação de compra &amp;#10;&#x9; *&#x9;que estiver dentro do ponto do pedido ou liberada para o processo de compras, pode se tornar obsoleto e para resolver &amp;#10;&#x9; *&#x9;esse problema, a cada alteração no estoque, os status devem ser reprocessados para representar a situação atual da empresa.&amp;#10;&#x9; *&amp;#10;&#x9; *&#x9;O reprocesso dos status de solicitações de compras sempre irá ocorrer em dois momentos: &amp;#10;&#x9; *&#x9;- Quando a quantidade em estoque do item for atualizada (compra, venda e cancelamento de movimentação de estoque);&amp;#10;&#x9; *&#x9;- Cancelamento de solicitações de compras com status ¿Liberado¿, ¿Em Cotação¿ e ¿Dentro do Ponto de Pedido¿.   &amp;#10;   */  &amp;#10;&#x9;IF (NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',I_CD_EMPRESA,'ST_PONTOPEDIDO'),'N') = 'S') THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT COUNT(ITEMCOMPRA.NR_ITEMCOMPRA)&amp;#10;&#x9;&#x9;&#x9;&#x9;INTO V_COUNT_PONTOPEDIDO&amp;#10;        FROM ITEMCOMPRA&amp;#10;       WHERE ITEMCOMPRA.ST_ITEMCOMPRA IN (1,3,14)&amp;#10;         AND ITEMCOMPRA.CD_ITEM = I_CD_ITEM;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_COUNT_PONTOPEDIDO := 0;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF (NVL(V_COUNT_PONTOPEDIDO,0) > 0) THEN&amp;#10;&#x9;&#x9;&#x9;PACK_COMPRAS.VERIFICA_PONTOPEDIDO (I_CD_ITEM  => I_CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_MENSAGEM => V_MENSAGEM);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF; --IF (V_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;END IF; --IF (NVL(V_COUNT_PONTOPEDIDO,0) > 0) THEN&amp;#10;&#x9;END IF; --IF (NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',V_CD_EMPRESA,'ST_PONTOPEDIDO'),'N') = 'S') THEN  &amp;#10;&#x9;---------------------------------------------------------------------------------------------------------------&amp;#10;  &amp;#10;  &amp;#10;  /*AUG:130776:20/02/2019*/&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT NR_PEDIDOINTERNO&amp;#10;&#x9;&#x9;  INTO V_NR_PEDIDOINTERNO &amp;#10;&#x9;&#x9;  FROM PEDIDOINTERNOINTECOMPRA&amp;#10;&#x9;&#x9; WHERE PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO = :CONTROLE.CD_EMPRESA&amp;#10;&#x9;&#x9;   --AND PEDIDOINTERNOINTECOMPRA.NR_PEDIDOINTERNO  = :PARAMETER.NR_PEDIDOINTERNO   &amp;#10;&#x9;&#x9;   AND PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA     = :ITEMCOMPRA.CD_ITEM          &amp;#10;&#x9;&#x9;   AND PEDIDOINTERNOINTECOMPRA.CD_EMPRCOMPRA     = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;  V_COUNT := 0;&amp;#10;&#x9;END;&amp;#10;&#x9;&amp;#10;&#x9;IF V_NR_PEDIDOINTERNO IS NOT NULL THEN  &amp;#10;&#x9;&#x9;V_DADOS_ENTRADA.CD_MODULO   &#x9;:= :GLOBAL.CD_MODULO;   &amp;#10;&#x9;&#x9;V_DADOS_ENTRADA.CD_PROGRAMA &#x9;:= :GLOBAL.CD_PROGRAMA; &amp;#10;&#x9;&#x9;V_DADOS_ENTRADA.CD_EMPRESA  &#x9;:= :GLOBAL.CD_EMPRESA;&#x9;&amp;#10;&#x9;&#x9;V_DADOS_ENTRADA.CD_USUARIO  &#x9;:= :GLOBAL.CD_USUARIO;&#x9;&amp;#10;&#x9;&#x9;V_DADOS_ENTRADA.ST_AUDITORIA&#x9;:= :GLOBAL.ST_AUDITORIA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO := :CONTROLE.CD_EMPRESA;&amp;#10;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.NR_PEDIDOINTERNO  :=  V_NR_PEDIDOINTERNO;&amp;#10;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA     := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRCOMPRA     := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;/*AUG:130776:20/02/2019*/&amp;#10;&#x9;&#x9;PACK_PEDIDOINTERNO.CANCELA_PEDINTERNOINTECOMPRA(V_DADOS_ENTRADA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.NR_LOTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM);&amp;#10;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;      SELECT *&amp;#10;        INTO V_ROW_ITEMPEDIDOINTERNO&amp;#10;        FROM ITEMPEDIDOINTERNO&amp;#10;       WHERE ITEMPEDIDOINTERNO.CD_EMPRPEDINTERNO&#x9;= V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO&amp;#10;         AND ITEMPEDIDOINTERNO.NR_PEDIDOINTERNO&#x9;&#x9;= V_ROW_PEDIDOINTERNOINTECOMPRA.NR_PEDIDOINTERNO&amp;#10;         AND ITEMPEDIDOINTERNO.CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA;&amp;#10;    EXCEPTION&amp;#10;      WHEN OTHERS THEN&amp;#10;        O_MENSAGEM := 'Erro desconhecido ao alterar a tabela ITEMPEDIDOINTERNO..: '||SQLERRM;&amp;#10;        RAISE E_GERAL;&amp;#10;    END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PEDIDOINTERNO.RETORNA_UNIDMED( V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO,  &amp;#10;&#x9;                                    &#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;                                    &#x9;V_TP_UNIDMED,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_UNIDMEDESTQ);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;IF NVL(V_TP_UNIDMED, '1') = '2' AND V_CD_UNIDMEDESTQ IS NULL THEN&amp;#10;&#x9;&#x9;  PACK_PEDIDOINTERNO.VALIDA_QTDE_PESO(V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO,&amp;#10;&#x9;&#x9;                                      V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;                                      :ITEMCOMPRA.QT_PREVISTA,&amp;#10;&#x9;&#x9;                                      V_QTDE_PESO_RECALCULADO,&amp;#10;&#x9;&#x9;                                      'Q',&amp;#10;&#x9;&#x9;                                      O_MENSAGEM);&amp;#10;&#x9;&#x9;  IF O_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;      &amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA := V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA - V_QTDE_PESO_RECALCULADO;&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;  PACK_PEDIDOINTERNO.VALIDA_QTDE_PESO(V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO,&amp;#10;&#x9;&#x9;                                      V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA,  &amp;#10;&#x9;&#x9;                                      V_QTDE_PESO_RECALCULADO,  &amp;#10;&#x9;&#x9;                                      :ITEMCOMPRA.QT_PREVISTA,&amp;#10;&#x9;&#x9;                                      'P',&amp;#10;&#x9;&#x9;                                      O_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;IF O_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;         &#x9;                                      &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;V_ROW_ITEMPEDIDOINTERNO.PS_PEDIDO := V_ROW_ITEMPEDIDOINTERNO.PS_PEDIDO - V_QTDE_PESO_RECALCULADO;&amp;#10;&#x9;&#x9; END IF;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PEDIDOINTERNO.GRAVA_ITEMPEDIDOINTERNO(V_DADOS_ENTRADA,&amp;#10;                                               V_ROW_ITEMPEDIDOINTERNO,&amp;#10;                                               O_MENSAGEM);&amp;#10;    IF O_MENSAGEM IS NOT NULL THEN&amp;#10;      RAISE E_GERAL;&amp;#10;    END IF;                                    &amp;#10;&#x9;END IF;--IF NVL(V_COUNT,0) > 0 THEN  &amp;#10;  /* WLV:16/02/2012:40906 - Adicionado para mostrar ao usuário que o item foi cancelado*/  &amp;#10;  --O item ¢CD_ITEM¢ da solicitação de compra ¢NR_ITEMCOMPRA¢ da empresa ¢CD_EMPRESA¢ foi cancelada com sucesso. Verifique se status no COM003.&amp;#10;  MENSAGEM_PADRAO(16208, '¢CD_ITEM='||I_CD_ITEM||'¢NR_ITEMCOMPRA='||I_NR_ITEMCOMPRA||'¢CD_EMPRESA='||I_CD_EMPRESA||'¢');&amp;#10;  &amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;    O_MENSAGEM := '[CANCELAR_ITEMCOMPRA] - '||V_MENSAGEM;&amp;#10;  WHEN OTHERS THEN&amp;#10;    O_MENSAGEM := '[CANCELAR_ITEMCOMPRA] - '||SQLERRM;&amp;#10;END CANCELAR_ITEMCOMPRA;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_CONTA_ORCAMENTO"
                     ProgramUnitText="PROCEDURE VALIDA_CONTA_ORCAMENTO(I_TRIGGER_ITEM    IN VARCHAR2, &amp;#10;                                 I_CD_MOVIMENTACAO IN NUMBER, &amp;#10;                               ---  &amp;#10;                                 I_CD_CENTROCUSTO  IN VARCHAR2,&amp;#10;                                 I_CD_NEGOCIO      IN NUMBER DEFAULT NULL ) IS                                &amp;#10;BEGIN&amp;#10;  IF PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' AND &amp;#10;  &#x9; PACK_ORC051.RETORNA_TIPO_ORCAMENTO(SYSDATE) = 'O' AND &amp;#10;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO ('ORC',50,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTAORCCOMPRAS'),'N') = 'S' THEN   &#x9; &amp;#10;    BEGIN&amp;#10;  &#x9;  SELECT HISTCONTB.CD_CONTACONTABIL&amp;#10;  &#x9;    INTO :CONTROLE.CD_CONTACONTABIL&amp;#10;        FROM PARMOVIMENT,&amp;#10;             HISTCONTB&amp;#10;       WHERE PARMOVIMENT.CD_MOVIMENTACAO = I_CD_MOVIMENTACAO&amp;#10;         AND PARMOVIMENT.CD_HISTCONTB&#x9;&#x9; = HISTCONTB.CD_HISTCONTB;&amp;#10;         &amp;#10;&#x9;&#x9;&#x9;:CONTROLE.CD_CONTAORCAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT R.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM RELACAOCONTASORCCTB R, PLANOCONTASORCAMENTO P , PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE R.CD_CONTACONTABIL  = :CONTROLE.CD_CONTACONTABIL                           &amp;#10;&#x9;&#x9;&#x9;&#x9;   AND R.CD_CONTAORCAMENTO = P.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND R.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND ((I_CD_CENTROCUSTO IS NOT NULL &amp;#10;&#x9;&#x9;&#x9;&#x9;         AND EXISTS (SELECT PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO&amp;#10;                               FROM PLANOCONTASORCAMENTOCUSTO&amp;#10;                              WHERE PLANOCONTASORCAMENTOCUSTO.CD_CONTAORCAMENTO = R.CD_CONTAORCAMENTO&amp;#10;                                AND PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO    = I_CD_CENTROCUSTO&amp;#10;                              )) &amp;#10;               OR&amp;#10;&#x9;&#x9;&#x9;&#x9;       (I_CD_CENTROCUSTO IS NULL &amp;#10;&#x9;&#x9;&#x9;&#x9;         AND 0 = (SELECT COUNT(PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO)&amp;#10;                            FROM PLANOCONTASORCAMENTOCUSTO&amp;#10;                           WHERE PLANOCONTASORCAMENTOCUSTO.CD_CONTAORCAMENTO = R.CD_CONTAORCAMENTO &amp;#10;                             AND PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO IS NULL))                                                               &amp;#10;                            );   &amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;    :CONTROLE.CD_CONTAORCAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(28965, '¢CD_CONTACONTABIL='||:CONTROLE.CD_CONTACONTABIL||'¢CD_CENTROCUSTO='||NVL(I_CD_CENTROCUSTO,'Não Informado')||'¢');&amp;#10;&#x9;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;    LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  IF SHOW_LOV('LOV_CONTAORC') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;    END LOOP;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF :CONTROLE.CD_CONTAORCAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;COPY(:CONTROLE.CD_CONTAORCAMENTO, I_TRIGGER_ITEM);&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9; &amp;#10;    EXCEPTION&amp;#10;    &#x9;WHEN OTHERS THEN&amp;#10;        NULL;&amp;#10;    END;    &amp;#10;  END IF;&#x9;&#x9;&#x9;  &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="MANIPULA_CAMPO"
                     ProgramUnitText="PROCEDURE MANIPULA_CAMPO(I_DS_CAMPO IN VARCHAR2,&amp;#10;                         I_TIPO     IN VARCHAR2) IS&amp;#10;BEGIN &amp;#10;  IF I_TIPO = 'A' THEN&amp;#10;  &#x9;IF GET_ITEM_PROPERTY(I_DS_CAMPO,ENABLED) = 'FALSE' THEN&amp;#10;&#x9;  &#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,ENABLED          ,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,NAVIGABLE        ,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,VISUAL_ATTRIBUTE ,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,PROMPT_FONT_STYLE,FONT_UNDERLINE);&#x9;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;IF GET_ITEM_PROPERTY(I_DS_CAMPO,ENABLED) = 'TRUE' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,ENABLED          ,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,REQUIRED         ,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,VISUAL_ATTRIBUTE ,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY (I_DS_CAMPO,PROMPT_FONT_STYLE,FONT_PLAIN);&amp;#10;    END IF;&amp;#10;  END IF;&#x9;&#x9;&#x9;&#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="PACK_GRUPO_NEGOCIO"
                     ProgramUnitText="PACKAGE PACK_GRUPO_NEGOCIO IS&amp;#10;  --CENTRO CUSTO&amp;#10;  PROCEDURE CRIA_GRUPO_NEGOCIO;&amp;#10;  PROCEDURE ADICIONA_GRUPO_NEGOCIO( I_CD_EMPRCCUSTODEST IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_CD_ITEM  &#x9;&#x9;&#x9;    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_CENTROCUSTO    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_MOVIMENTACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_AUTORIZADOR    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_QT_PEDIDAUNIDSOL  IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_PC_PARTICIPACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_CD_NEGOCIO        IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_DS_OBSERVACAO     IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;      I_CD_CONTAORCAMENTO IN NUMBER);&amp;#10;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;  PROCEDURE DELETA_GRUPO_NEGOCIO  (I_CD_ITEM    IN NUMBER);&amp;#10;  PROCEDURE CARREGA_DADOS_NEGOCIO (I_CD_ITEM    IN NUMBER);&amp;#10;  &amp;#10;&amp;#10;  --LOVS DO CENTRO DE CUSTO&amp;#10;  /*PROCEDURE CRIA_GRUPO_LOVCC;&amp;#10;  PROCEDURE ADICIONA_GRUPO_LOVCC(I_CD_ITEM     IN NUMBER,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     I_CD_CENTROCUSTO  IN NUMBER,&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     I_PC_PARTICIPACAO IN NUMBER);&amp;#10;  PROCEDURE DELETA_GRUPO_LOVCC;*/&amp;#10;&amp;#10;  --PROCEDURE CARREGA_DADOS_NG (I_CD_ITEM    IN NUMBER);  &amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_GRUPO_NEGOCIO"
                     ProgramUnitText="PACKAGE BODY PACK_GRUPO_NEGOCIO IS&amp;#10;-----------------------------------------------------------------------------&amp;#10;-----------------------------------------------------------------------------&amp;#10;                             -- CENTRO CUSTO --&amp;#10;-----------------------------------------------------------------------------&amp;#10;-----------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE CRIA_GRUPO_NEGOCIO IS&amp;#10;&#x9;&#x9;GRP_REPLICA RECORDGROUP;&amp;#10;&#x9;&#x9;COL_REPLICA GROUPCOLUMN;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;  GRP_REPLICA := FIND_GROUP('GRUPO_NEGOCIO');&amp;#10;&#x9;  IF NOT ID_NULL(GRP_REPLICA) THEN &amp;#10;&#x9;  &#x9;DELETE_GROUP(GRP_REPLICA); &amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;GRP_REPLICA := CREATE_GROUP('GRUPO_NEGOCIO');&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_ITEM'     &#x9;&#x9; , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_CENTROCUSTO'   , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_NEGOCIO'       , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_MOVIMENTACAO'  , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_AUTORIZADOR'   , CHAR_COLUMN,4);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'QT_PEDIDAUNIDSOL' , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'PC_PARTICIPACAO'  , NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_EMPRCCUSTODEST', NUMBER_COLUMN);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'DS_OBSERVACAO'    , CHAR_COLUMN,150);&amp;#10;&#x9;&#x9;COL_REPLICA := ADD_GROUP_COLUMN('GRUPO_NEGOCIO', 'CD_CONTAORCAMENTO', NUMBER_COLUMN);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END CRIA_GRUPO_NEGOCIO;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;&#x9;PROCEDURE ADICIONA_GRUPO_NEGOCIO( I_CD_EMPRCCUSTODEST IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_CD_ITEM      &#x9;&#x9;&#x9;IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_CENTROCUSTO    IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_MOVIMENTACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_CD_AUTORIZADOR    IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    I_QT_PEDIDAUNIDSOL  IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_PC_PARTICIPACAO   IN NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_CD_NEGOCIO        IN NUMBER/*CSL:21/12/2010:30317*/,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_DS_OBSERVACAO     IN VARCHAR2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;    I_CD_CONTAORCAMENTO IN NUMBER) IS&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;ADD_GROUP_ROW('GRUPO_NEGOCIO',END_OF_GROUP);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_EMPRCCUSTODEST', GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_EMPRCCUSTODEST);--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM'&#x9;&#x9;      , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_ITEM     &#x9;&#x9;);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_CENTROCUSTO'   , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_CENTROCUSTO  );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_NEGOCIO'       , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_NEGOCIO      );/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_MOVIMENTACAO'  , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_MOVIMENTACAO );&amp;#10;&#x9;&#x9;SET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.CD_AUTORIZADOR'   , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_AUTORIZADOR  );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.QT_PEDIDAUNIDSOL' , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_QT_PEDIDAUNIDSOL);&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.PC_PARTICIPACAO'  , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_PC_PARTICIPACAO );&amp;#10;&#x9;&#x9;SET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.DS_OBSERVACAO'    , GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_DS_OBSERVACAO   );&amp;#10;&#x9;&#x9;SET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_CONTAORCAMENTO', GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'), I_CD_CONTAORCAMENTO);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;END ADICIONA_GRUPO_NEGOCIO;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE DELETA_GRUPO_NEGOCIO( I_CD_ITEM IN NUMBER ) IS&amp;#10;&#x9;&#x9;NR_REG NUMBER;&amp;#10;&#x9;&#x9;NR_TOT NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;LOOP&amp;#10;&#x9;&#x9;  NR_TOT := GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO');&amp;#10;&#x9;&#x9;  NR_REG := 0;&amp;#10;&#x9;&#x9;  FOR I IN 1 ..GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO') LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;NR_REG := NR_REG + 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM', I) = I_CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;DELETE_GROUP_ROW('GRUPO_NEGOCIO', I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END LOOP;&amp;#10;&#x9;    EXIT WHEN NR_TOT = NR_REG;&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;END DELETA_GRUPO_NEGOCIO;&amp;#10;&#x9;&amp;#10;&#x9;---------------------------------------------------------------------------------------------&amp;#10;&#x9;PROCEDURE CARREGA_DADOS_NEGOCIO (I_CD_ITEM IN NUMBER) IS&amp;#10;&#x9;I_EXISTE &#x9;BOOLEAN;&amp;#10;&#x9;BEGIN  &amp;#10;&#x9;&#x9;I_EXISTE := FALSE;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;  CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;FIRST_RECORD;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN &amp;#10;&#x9;&#x9;  FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO') LOOP&amp;#10;&#x9;&#x9;  &#x9;IF NVL(GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO'),0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;IF I_CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_EMPRCCUSTODEST', I);&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_ITEM   &#x9;&#x9;&#x9;   := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM'  &#x9;&#x9;&#x9;&#x9; , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;   -- :ITEMCOMPRANEGOCIO.CD_CENTROCUSTO    := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_CENTROCUSTO'   , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO   := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_MOVIMENTACAO'  , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    --:ITEMCOMPRANEGOCIO.CD_AUTORIZADOR    := GET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.CD_AUTORIZADOR'   , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO   := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.PC_PARTICIPACAO'  , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL  := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.QT_PEDIDAUNIDSOL' , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRANEGOCIO.CD_NEGOCIO&#x9;&#x9;&#x9;&#x9; := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_NEGOCIO'&#x9;&#x9;&#x9; , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    :ITEMCOMPRANEGOCIO.DS_OBSERVACAO     := GET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.DS_OBSERVACAO'    , I);&amp;#10;&#x9;&#x9;&#x9;&#x9;    I_EXISTE := TRUE;&amp;#10;&#x9;&#x9;&#x9;&#x9;    NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;  END LOOP;&amp;#10;&#x9;&#x9;  FIRST_RECORD;&amp;#10;&#x9;&#x9;ELSE --IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN  /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;&#x9;FOR J IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_EMPRESA_AUX = PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_EMPRESA AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.NR_ITEMCOMPRA_AUX = PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).NR_ITEMCOMPRA THEN&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:=&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_ITEM;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_EMPRCCUSTODEST;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--:ITEMCOMPRANEGOCIO.CD_CENTROCUSTO &#x9;&#x9;:=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_CENTROCUSTO;&#x9; &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_NEGOCIO&#x9;&#x9; &#x9;&#x9;  :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_NEGOCIO;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO &#x9;  :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).CD_MOVIMENTACAO;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL&#x9;  :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).QT_PEDIDAUNIDSOL; &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRANEGOCIO.PC_PARTICIPACAO    :=  PACK_PROCEDIMENTOS.VET_ITEMCOMPRANEGOCIO(J).PC_PARTICIPACAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_EXISTE := TRUE;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;END LOOP; --FOR J IN 1..PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;END IF; --IF NOT PACK_PROCEDIMENTOS.V_DUPLICADO THEN &#x9;&amp;#10;&#x9;  &amp;#10;&#x9;  IF NOT I_EXISTE THEN&amp;#10;&#x9;  &#x9;IF  :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;  &#x9;  :ITEMCOMPRANEGOCIO.CD_NEGOCIO :=  :ITEMCOMPRANEGOCIO.CD_NEGOCIO;&amp;#10;&#x9;      GO_ITEM('ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL');&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9; &#x9;ELSE&amp;#10;&#x9;    GO_ITEM('ITEMCOMPRANEGOCIO.CD_NEGOCIO');&amp;#10;&#x9;  END IF;&#x9;&amp;#10;&#x9;END;&amp;#10;&#x9;&amp;#10; &amp;#10;&amp;#10;&amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <ProgramUnit Name="VALIDA_DUPLICADOS_NEGOCIO"
                     ProgramUnitText="PROCEDURE VALIDA_DUPLICADOS_NEGOCIO (O_MENSAGEM&#x9;&#x9;OUT VARCHAR2) IS&amp;#10;&amp;#10;  V_NR_REGISTRO     NUMBER;&amp;#10;  V_CD_NEGOCIO      ITEMCOMPRACCUSTO.CD_NEGOCIO%TYPE; /*CSL:22/12/2010:30317*/&amp;#10;  V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;  E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;  V_CD_EMPRCCUSTODEST  EMPRESA.CD_EMPRESA%TYPE;&amp;#10;BEGIN&amp;#10;  &amp;#10;  GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;  FIRST_RECORD;&amp;#10;  LOOP&amp;#10;  &#x9;V_NR_REGISTRO    := :SYSTEM.CURSOR_RECORD;&amp;#10;  &#x9;--V_CD_CENTROCUSTO := :ITEMCOMPRANEGOCIO.CD_CENTROCUSTO;&amp;#10;  &#x9;V_CD_NEGOCIO     := :ITEMCOMPRANEGOCIO.CD_NEGOCIO;&amp;#10;  &#x9;--GDG:22/07/2011:28715  &#x9;&amp;#10;  &#x9;V_CD_EMPRCCUSTODEST := NVL(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST, :ITEMCOMPRANEGOCIO.CD_EMPRESA);&amp;#10;    FIRST_RECORD;&amp;#10;    LOOP&amp;#10;    &#x9;IF (V_NR_REGISTRO &lt;> :SYSTEM.CURSOR_RECORD) THEN&amp;#10;    &#x9;&#x9;IF V_CD_NEGOCIO = :ITEMCOMPRANEGOCIO.CD_NEGOCIO/*&amp;#10;    &#x9;&#x9;&#x9;AND V_CD_EMPRCCUSTODEST = NVL(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST, :ITEMCOMPRANEGOCIO.CD_EMPRESA)*/ THEN&amp;#10;    &#x9;&#x9;&#x9;--V_MENSAGEM := 'O Centro de Custo ('||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||') e o Negócio ('||:ITEMCOMPRACCUSTO.CD_NEGOCIO||') do registro atual ('||:SYSTEM.CURSOR_RECORD||') é igual ao do registro ('||V_NR_REGISTRO||'). Por favor verifique e altere.'; &amp;#10;    &#x9;&#x9;&#x9;--V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(6353,'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢CD_NEGOCIO='||:ITEMCOMPRACCUSTO.CD_NEGOCIO||'¢NR_REGATUAL='||:SYSTEM.CURSOR_RECORD||'¢NR_REGISTRO='||V_NR_REGISTRO||'¢');--O Centro de Custo ¢CD_CENTROCUSTO¢ e o Negócio ¢CD_NEGOCIO¢ do registro atual ¢NR_REGATUAL¢ é igual ao do registro ¢NR_REGISTRO¢. Por favor verifique e altere. &amp;#10;    &#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(16603, '¢CD_ITEM='||:ITEMCOMPRANEGOCIO.CD_ITEM||'¢');&amp;#10;    &#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;    &#x9;END IF;&amp;#10;&#x9;   &amp;#10;&#x9;    EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;    END LOOP;&amp;#10;    &amp;#10;    GO_RECORD(V_NR_REGISTRO);&amp;#10;    EXIT WHEN (:SYSTEM.LAST_RECORD = 'TRUE');&amp;#10;    NEXT_RECORD;&amp;#10;  END LOOP;&amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;  &#x9;O_MENSAGEM := V_MENSAGEM; &amp;#10;  WHEN OTHERS THEN&amp;#10;  &#x9;O_MENSAGEM := SQLERRM; &#x9;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="ADICIONA_GRUPO_NEGOCIO"
                     ProgramUnitText="PROCEDURE ADICIONA_GRUPO_NEGOCIO IS&amp;#10;BEGIN&#x9;&#x9;&#x9;&amp;#10;  --Adiciona novas linhas no grupo com os dados do bloco e nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRANEGOCIO');&amp;#10;&#x9;FIRST_RECORD;&amp;#10;  --Deleta o quem tem no grupo com nr_registro = :GLOBAL.NR_REGISTRO&amp;#10;&#x9;PACK_GRUPO_NEGOCIO.DELETA_GRUPO_NEGOCIO(:ITEMCOMPRANEGOCIO.CD_ITEM);&amp;#10;&#x9;&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;LOOP&amp;#10;&#x9;&#x9;IF :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;PACK_GRUPO_NEGOCIO.ADICIONA_GRUPO_NEGOCIO(:ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST,--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRANEGOCIO.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     NULL, --:ITEMCOMPRANEGOCIO.CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRANEGOCIO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     NULL, --:ITEMCOMPRANEGOCIO.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;     :ITEMCOMPRANEGOCIO.QT_PEDIDAUNIDSOL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRANEGOCIO.PC_PARTICIPACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRANEGOCIO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRANEGOCIO.DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;     :ITEMCOMPRANEGOCIO.CD_CONTAORCAMENTO);&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;  NEXT_RECORD;&#x9;&amp;#10;&#x9;END LOOP;  &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="IMPORTA_ARQUIVO"
                     ProgramUnitText="PROCEDURE IMPORTA_ARQUIVO(O_MENSAGEM OUT VARCHAR2) IS&amp;#10;  E_GERAL EXCEPTION;&#x9;&#x9;  &amp;#10;  V_CMD&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;  V_CAMINHOARQUIVO  VARCHAR2(32000);&amp;#10;BEGIN&amp;#10;&#x9;-- valida instação do aplicativo&amp;#10;&#x9;PACK_ARQUIVOUTILS.VALIDA_ARQUIVOSERVIDOR(:GLOBAL.VL_UNCMAXYS||'\LeitorArquivos\LeitorArquivos.exe', O_MENSAGEM);&amp;#10;&#x9;IF O_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;RETURN;&#x9;&#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;MENSAGEM('Maxys','Processando Arquivo ('||RETORNA_NOME_ARQUIVO(REPLACE(:ITEMCOMPRACCUSTO.DS_CAMINHO,'\','/'))||'). Aguarde...', 4);&amp;#10;&#x9;SYNCHRONIZE;&amp;#10;&#x9;&amp;#10;&#x9;V_CAMINHOARQUIVO := :ITEMCOMPRACCUSTO.DS_CAMINHO;&amp;#10;&#x9;IF WEBUTIL_FILE_TRANSFER.CLIENT_TO_AS(:ITEMCOMPRACCUSTO.DS_CAMINHO,&amp;#10;                                        :GLOBAL.VL_REPORTPATH||'\'||RETORNA_NOMEARQUIVO(:ITEMCOMPRACCUSTO.DS_CAMINHO)) THEN&amp;#10;&#x9;  V_CAMINHOARQUIVO := :GLOBAL.VL_REPORTPATH||'\'||RETORNA_NOMEARQUIVO(:ITEMCOMPRACCUSTO.DS_CAMINHO);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;--Chama o leitor&amp;#10;&#x9;V_CMD := :GLOBAL.VL_UNCMAXYS||'\LeitorArquivos\LeitorArquivos.exe  --base '||PACK_SESSAO.VL_CURRENTHOST||' '||--nome da base&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --modulo '||:GLOBAL.CD_MODULO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --programa '||:GLOBAL.CD_PROGRAMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --usuario '||:GLOBAL.CD_USUARIO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --sid '||PACK_SESSAO.RETORNA_SID||' '||--id da conexão do usuário&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --caminhoArquivo &quot;'||V_CAMINHOARQUIVO||'&quot; '||--caminho completo do arquivo&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --usuarioBanco='||PACK_SESSAO.VL_CURRENTSCHEMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                             ' --layout '||:CONTROLE.CD_LAYOUT; --código do layout da tabela LAYOUTARQUIVO&amp;#10;&#x9;&amp;#10;&#x9;HOST_SERVIDOR(V_CMD, NO_SCREEN);&#x9;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;IF O_MENSAGEM IS NULL THEN&amp;#10;&#x9;&#x9;IF WEBUTIL_FILE_TRANSFER.AS_TO_CLIENT(:GLOBAL.VL_REPORTPATHCLIENT||'\'||RETORNA_NOMEARQUIVO(V_CAMINHOARQUIVO),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMINHOARQUIVO) THEN&amp;#10;&#x9;&#x9;  V_CAMINHOARQUIVO := :GLOBAL.VL_REPORTPATHCLIENT||'\'||RETORNA_NOMEARQUIVO(V_CAMINHOARQUIVO);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  --PACK_ARQUIVOUTILS.VISUALIZA_ARQUIVO(V_CAMINHOARQUIVO, O_MENSAGEM);&amp;#10;&#x9;  IF O_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;END IF;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;  :CONTROLE.DS_LOG := NULL;&amp;#10;   &#x9;CARREGA_PLANILHA_CENTROCUSTO(O_MENSAGEM);    &amp;#10;    IF(O_MENSAGEM IS NOT NULL)THEN     &#x9;&amp;#10;&#x9;   &#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&#x9;   &#x9;&#x9;&amp;#10;&#x9;  &#x9;CENTRALIZA_FORM('WIN_ITEMCOMPRA','WIN_IMPORTACAOLOG');  &#x9;&amp;#10;&#x9;  &#x9;MENSAGEM_PADRAO(32755,NULL);&amp;#10;&#x9;  &#x9;GO_ITEM('CONTROLE.BTN_VOLTARLOG');  &amp;#10;  &#x9;RAISE E_GERAL;&amp;#10;&#x9; END IF;&amp;#10;&amp;#10;  &amp;#10;  IF O_MENSAGEM IS NOT NULL THEN&amp;#10;  &#x9;RAISE E_GERAL;&amp;#10;  END IF;&amp;#10;  &amp;#10;  GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;  FIRST_RECORD;&amp;#10;&#x9;&amp;#10;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;SYNCHRONIZE;&amp;#10;                    &amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;CLEAR_MESSAGE;&amp;#10;&#x9;&#x9;O_MENSAGEM := '¥IMPORTA_ARQUIVO¥'||O_MENSAGEM;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;/*Ocorreu um erro inesperado. Erro ¢SQLERRM¢.¥Detalhes: ¢DS_DETALHES¢¥.*/&amp;#10;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(8388, '¢SQLERRM='||SQLERRM||'¢DS_DETALHES=IMPORTA_ARQUIVO¢');&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="RETORNA_NOME_ARQUIVO"
                     ProgramUnitText="FUNCTION RETORNA_NOME_ARQUIVO(I_DS_CAMINHO VARCHAR2) RETURN VARCHAR2 IS&amp;#10;BEGIN&amp;#10;  RETURN SUBSTR(I_DS_CAMINHO,INSTR(I_DS_CAMINHO,'/',-1,1)+1,LENGTH(I_DS_CAMINHO));&amp;#10;END;"
                     ProgramUnitType="Função"/>
        <ProgramUnit Name="CARREGA_PLANILHA_CENTROCUSTO"
                     ProgramUnitText="PROCEDURE CARREGA_PLANILHA_CENTROCUSTO(O_MENSAGEM OUT VARCHAR2) IS&#x9;&#x9;&#x9;&#x9; &#x9;&amp;#10;&#x9;GRUPO              RECORDGROUP;&amp;#10;&#x9;ERRO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NUMBER;&amp;#10;&#x9;V_CONSULTA        &#x9;&#x9;&#x9;VARCHAR2(32000);  &amp;#10;&#x9;V_NR_LINHAINI&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER := 0;&#x9;&amp;#10;&#x9;V_CD_MOVIMENTACAO  &#x9;&#x9;&#x9;ITEMCOMPRACCUSTO.CD_MOVIMENTACAO%TYPE;  &amp;#10;&#x9;V_MENSAGEM&#x9;       &#x9;&#x9;&#x9;VARCHAR2(32000);&#x9;&#x9;&amp;#10;&#x9;V_CD_CENTROCUSTO&#x9;&#x9;&#x9;&#x9;VARCHAR2(10);&amp;#10;&#x9;&#x9;-- adiciona lunha de log&amp;#10;&#x9;PROCEDURE ADD_LOG(I_NR_LINHA IN NUMBER, I_DS_LOG   IN VARCHAR2) IS&amp;#10;&#x9;  V_LENGTH NUMBER;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;V_LENGTH := LENGTH(:CONTROLE.DS_LOG);&amp;#10;&#x9;&#x9;IF NVL(V_LENGTH,0) + LENGTH('Linha '||LPAD(V_NR_LINHAINI+I_NR_LINHA,3,'0')||': '||I_DS_LOG|| CHR(10)) > 32676 THEN&amp;#10;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;  :CONTROLE.DS_LOG := :CONTROLE.DS_LOG || 'Linha '||LPAD(V_NR_LINHAINI+I_NR_LINHA,3,'0')||': '||I_DS_LOG|| CHR(10);&amp;#10;&#x9;&#x9;END IF;  &amp;#10;&#x9;END;&#x9;&#x9;&amp;#10;&amp;#10;BEGIN  &amp;#10;&amp;#10;  &amp;#10; V_CONSULTA :='SELECT ROWNUM NR_LINHA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 01, ''¢'') CD_CENTROCUSTO,&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 02, ''¢'') PC_PARTICIPACAO, &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 03, ''¢'') CD_EMPRESA,&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 04, ''¢'') CD_NEGOCIO,       &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 05, ''¢'') CD_MOVIMENTACAO, &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     RETORNA_VALORSTRING(DS_LINHA, 06, ''¢'') QT_PARTICIPACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     DS_LINHA&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMREPORTSTMP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMREPORTSTMP.CD_MODULO &#x9;= '||QUOTES(:GLOBAL.CD_MODULO)||'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PARMREPORTSTMP.CD_PROGRAMA = '||:GLOBAL.CD_PROGRAMA||'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PARMREPORTSTMP.CD_USUARIO &#x9;= '||QUOTES(:GLOBAL.CD_USUARIO)||'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PARMREPORTSTMP.NR_SID &#x9;&#x9;&#x9;= '||PACK_SESSAO.RETORNA_SID;&#x9;&amp;#10;&#x9;GRUPO := FIND_GROUP('GRUPO');&amp;#10;&#x9;&amp;#10;&#x9;IF NOT ID_NULL(GRUPO) THEN&amp;#10;&#x9;&#x9;DELETE_GROUP(GRUPO);&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;GRUPO := CREATE_GROUP_FROM_QUERY('GRUPO', V_CONSULTA);&amp;#10;&#x9;ERRO &#x9;:= POPULATE_GROUP(GRUPO);&amp;#10;&amp;#10;&#x9;IF ERRO = 1403 THEN&amp;#10;&#x9;  --A consulta não retornou dados.&amp;#10; &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(12065, NULL);&amp;#10;&#x9;&#x9;RETURN; &amp;#10;&#x9;ELSIF ERRO NOT IN (0,1403) THEN&amp;#10;&#x9;&#x9;--Ocorreu um erro ao realizar a consulta conforme filtros/parâmetros informados. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(25697, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;RETURN;  &#x9;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&amp;#10;&#x9;GO_BLOCK('ITEMCOMPRACCUSTO');&amp;#10;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;FIRST_RECORD;&amp;#10;&#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO') LOOP&amp;#10;&#x9;BEGIN&#x9;&#x9;&amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--Realiza a validação antes de inserir as colunas.&amp;#10;&#x9;&#x9;&#x9;IF GET_GROUP_CHAR_CELL('GRUPO.CD_CENTROCUSTO',I) IS NOT NULL THEN&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;V_CD_CENTROCUSTO := REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_CENTROCUSTO',I),'.','');&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIOCENTRO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIOCENTRO &#x9;&#x9;:= TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_NEGOCIO',I),'.',''));&amp;#10;&#x9;&#x9;&#x9;&#x9;IF(:ITEMCOMPRACCUSTO.CD_NEGOCIOCENTRO &lt;> 0)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.ST_NEGOCIOPLANILHA  := 'S';&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;VALIDA_CENTROCUSTO(TO_NUMBER(V_CD_CENTROCUSTO),&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIOCENTRO,V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;IF(V_MENSAGEM IS NOT NULL) THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);  &amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&#x9;&#x9;&#x9;&#x9;                                                 &#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO &#x9;&#x9;:= TO_NUMBER(V_CD_CENTROCUSTO);&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST := TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_EMPRESA',I),'.',''));&#x9;&#x9;&#x9; &#x9;    &#x9;     &#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    IF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.PC_PARTICIPACAO',I)) IS NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;--O percentual  de participação deve ser informado.&amp;#10;&#x9;&#x9;&#x9;    &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3720, NULL);&#x9;   &amp;#10;&#x9;&#x9;&#x9;    &#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;&#x9;    ELSIF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.PC_PARTICIPACAO',I)) > 100 &amp;#10;&#x9;&#x9;&#x9;       OR TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.PC_PARTICIPACAO',I)) &lt;= 0  THEN&amp;#10;&#x9;&#x9;&#x9;    --Total do Percentual de Participação deve estar entre 0 e 100%.&amp;#10;&#x9; &#x9;  &#x9; &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32801, NULL); &#x9;  &#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;     &#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;    ELSE&#x9;&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;:ITEMCOMPRACCUSTO.PC_PARTICIPACAO &#x9;&#x9;:= TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.PC_PARTICIPACAO',I),'.',''));&#x9;&#x9;&#x9;     &#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;IF :ITEMCOMPRACCUSTO.PC_PARTICIPACAO &lt;> 0  THEN&#x9;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL := ROUND(:ITEMCOMPRACCUSTO.QT_PREVISTA * :ITEMCOMPRACCUSTO.PC_PARTICIPACAO / 100 ,3);&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;END IF;&#x9;&#x9;&#x9;    &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;V_CD_MOVIMENTACAO := TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_MOVIMENTACAO',I),'.',''));&#x9;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;     &#x9;&amp;#10;&#x9;&#x9;&#x9;     &#x9;&#x9;--Caso exista problema ao buscar a movimentação é considerada a movimentação da informada na tela inicial.&amp;#10;&#x9;&#x9;&#x9;     &#x9;&#x9;IF V_CD_MOVIMENTACAO &lt;> 0 AND V_CD_MOVIMENTACAO IS NOT NULL  THEN&#x9; &#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;VALIDA_MOV_IMP(V_CD_MOVIMENTACAO,V_MENSAGEM);&#x9;&#x9;&#x9;     &#x9;&#x9;&#x9;      &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;IF(V_MENSAGEM IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO     := &#x9;:ITEMCOMPRA.CD_MOVIMENTACAO;&#x9;&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO     := ZVL(TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_MOVIMENTACAO',I),'.','')),:ITEMCOMPRA.CD_MOVIMENTACAO);&#x9;    &#x9;&#x9;     &#x9;&#x9;      &#x9;&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;      &#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO     := &#x9;:ITEMCOMPRA.CD_MOVIMENTACAO;&#x9;&amp;#10;&#x9;&#x9;&#x9;      &#x9;END IF;&#x9;&#x9;&#x9;      &#x9;&amp;#10;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;  &#x9;IF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.QT_PARTICIPACAO',I)) &lt; 0 THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;--O Peso ou Quantidade do item do pedido não pode ser negativo.&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;V_MENSAGEM :=&#x9;PACK_MENSAGEM.MENS_PADRAO(3282, NULL);&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);  &amp;#10;&#x9;&#x9;&#x9;  &#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;IF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.QT_PARTICIPACAO',I)) IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL    := ZVL(TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.QT_PARTICIPACAO',I),'.','')), :ITEMCOMPRA.QT_PREVISTA);&#x9;    &#x9;    &#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;END IF;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;IF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.CD_NEGOCIO',I)) IS NOT NULL THEN&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;VALIDA_NEGOCIO_IMP(TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_NEGOCIO',I),'.','')),V_MENSAGEM);&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;IF (V_MENSAGEM IS NOT NULL)THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRACCUSTO.CD_NEGOCIO  := TO_NUMBER(REPLACE(GET_GROUP_CHAR_CELL('GRUPO.CD_NEGOCIO',I),'.',''));&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;  &#x9;END IF;&#x9;&#x9;    &#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    &#x9;&#x9;END IF;&#x9;&#x9;    &#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE &#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_MENSAGEM :=&#x9;PACK_MENSAGEM.MENS_PADRAO(292, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);  &amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF TO_NUMBER(GET_GROUP_CHAR_CELL('GRUPO.CD_CENTROCUSTO',I)) IS NOT NULL THEN&#x9;&#x9;&amp;#10;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),'Erro ao inserir registros');&amp;#10;&#x9;&#x9;END;&#x9;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;    EXCEPTION &amp;#10;    &#x9;WHEN OTHERS THEN&amp;#10;    &#x9;&#x9;--Ocorreu erro no processamento do arquivo. Erro: ¢SQLERRM¢.&amp;#10;    &#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(26848, '¢SQLERRM='||SQLERRM||'¢');&amp;#10;    &#x9;&#x9;ADD_LOG(GET_GROUP_NUMBER_CELL('GRUPO.NR_LINHA',I),V_MENSAGEM);&amp;#10;    END;    &#x9;&amp;#10;&#x9;&#x9;IF(:CONTROLE.DS_LOG IS NULL)THEN&amp;#10;&#x9;&#x9;-- EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;    &amp;#10;&#x9;END LOOP;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;  BEGIN&amp;#10;    DELETE FROM PARMREPORTSTMP&amp;#10;    WHERE PARMREPORTSTMP.CD_MODULO   = :GLOBAL.CD_MODULO&amp;#10;      AND PARMREPORTSTMP.CD_PROGRAMA = :GLOBAL.CD_PROGRAMA&amp;#10;      AND PARMREPORTSTMP.CD_USUARIO  = :GLOBAL.CD_USUARIO               &amp;#10;      AND PARMREPORTSTMP.NR_SID      = PACK_SESSAO.RETORNA_SID;    &amp;#10;    FAZ_COMMIT;&amp;#10;    &amp;#10;    &amp;#10;  IF :CONTROLE.DS_LOG IS NOT NULL THEN&amp;#10;  &#x9;O_MENSAGEM := 'Erro na importação do arquivo.';&amp;#10;  &#x9;return;&amp;#10;  END IF;  &amp;#10;    &amp;#10;    &amp;#10;  EXCEPTION&amp;#10;    WHEN OTHERS THEN&amp;#10;    &#x9;NULL;&amp;#10;  END;         &amp;#10;    &amp;#10;  ---------------------------------------------------------------------------------------------&amp;#10;  ---------------------------------------------------------------------------------------------&amp;#10;  -----------------------------------------------------------------------------------------------&amp;#10;end; "
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_EMPCC"
                     ProgramUnitText="PROCEDURE VALIDA_EMPCC (I_CD_EMPRESA IN NUMBER) IS&amp;#10;BEGIN&amp;#10;  null;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_CENTROCUSTO"
                     ProgramUnitText="PROCEDURE VALIDA_CENTROCUSTO (V_CD_CENTROCUSTO NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_NEGOCIO     NUMBER,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM OUT VARCHAR2) IS&amp;#10;BEGIN&amp;#10;  /**FZA:15/02/2011:33648&amp;#10;*** Ajustado tratamento de erros, as validacoes estavam aparecendo mais de uma vez.&amp;#10;**/&amp;#10;DECLARE&amp;#10;&#x9;V_ST_VALIDACCUSTO PARMCOMPRA.ST_VALIDACCUSTO%TYPE;&amp;#10;&#x9;V_CD_AUTORIZADOR  CCUSTOAUTORIZ.CD_USUARIO%TYPE;&amp;#10;&#x9;V_CD_USUARIO      CCUSTOAUTORIZ.CD_USUARIO%TYPE;&amp;#10;&#x9;V_ST_ATIVO&#x9;&#x9;&#x9;&#x9;RESTRINGIRMOV.ST_ATIVO%TYPE;    &amp;#10;&#x9;V_CD_MOVIMENTACAO&#x9;NUMBER;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;VARCHAR2(2000);&amp;#10;--&#x9;V_CD_EMPRESA      AUTORIZCCUSTORESTRITO.CD_EMPRESA%TYPE;&amp;#10;&#x9;V_CD_AUTORICCUSTO  AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;&#x9;V_CD_CENTROCUSTO  AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO%TYPE;&amp;#10;&#x9;V_CD_AUTORICCUSTO2  AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR%TYPE;&amp;#10;--&#x9;V_ST_REGISTRO     AUTORIZCCUSTORESTRITO.ST_REGISTRO%TYPE;&amp;#10;&#x9;&amp;#10;BEGIN&amp;#10;  IF V_CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;--FJC:05/07/2018:121701&amp;#10;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CC_USUARIO'),'N') = 'S'  THEN&#x9;  &amp;#10;     &#x9;BEGIN&amp;#10;&#x9;    &#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;  INTO V_CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;  FROM CENTROCUSTO, CCUSTOAUTORIZ&amp;#10;&#x9;&#x9; &#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO    = CCUSTOAUTORIZ.CD_CENTROCUSTO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_USUARIO      = :GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = V_CD_CENTROCUSTO&amp;#10;&#x9;&#x9; &#x9;&#x9;   AND NVL(CENTROCUSTO.ST_CENTROCUSTO, 'A') = 'A';&#x9;&#x9;   &#x9;&#x9; &#x9;&#x9;   &amp;#10;&#x9;    EXCEPTION&amp;#10;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&#x9;      &#x9;&amp;#10;&#x9;      &#x9;--O Usuário ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;V_MENSAGEM :=  PACK_MENSAGEM.MENS_PADRAO(3771,'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&#x9;&#x9; &#x9;&#x9;  &#x9;&#x9; &#x9;&#x9;  &amp;#10;&#x9;&#x9; &#x9; &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9; &#x9;&#x9;  V_CD_USUARIO := NULL;&amp;#10;&#x9;   &#x9; &#x9;WHEN OTHERS THEN&#x9;   &#x9; &#x9;&#x9;&#x9; &amp;#10;&#x9;   &#x9; &#x9;&#x9;--Ocorreu um erro inesperado na busca dos dados do usuário autorizador. Erro: ¢SQLERRM¢.&amp;#10;&#x9;   &#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3958,'¢SQLERRM='||SQLERRM||'¢');&#x9;   &#x9;&#x9;&#x9;&amp;#10;      END;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;  &amp;#10;&#x9;  IF V_MENSAGEM IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;O_MENSAGEM := O_MENSAGEM||V_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;RETURN; &amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  &#x9;  &amp;#10;&#x9;  DECLARE&amp;#10;&#x9;&#x9;  V_ST_CENTROCUSTO&#x9;CENTROCUSTO.ST_CENTROCUSTO%TYPE;&amp;#10;&#x9;&#x9;  E_GERAL EXCEPTION;&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/**GRA:13783:27/12/2006&amp;#10;&#x9;&#x9;&#x9; * O PROCEDIMENTO ABAIXO VERIFICA SE O CENTRO DE&amp;#10;&#x9;&#x9;&#x9; * CUSTO ESTÁ CADASTRADO PARA A EMPRESA INFORMADA.&amp;#10;&#x9;&#x9;&#x9; */ &amp;#10;&#x9;&#x9;&#x9;PACK_VALIDA.VAL_CCUSTOEMPR(V_CD_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRACCUSTO.CD_EMPRESA),--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.DS_CENTROCUSTO,&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_MENSAGEM); &#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := O_MENSAGEM||V_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN; &amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT ST_CENTROCUSTO, DS_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_CENTROCUSTO, :ITEMCOMPRACCUSTO.DS_CENTROCUSTO &amp;#10;&#x9;&#x9;&#x9;  FROM CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9; WHERE CENTROCUSTO.CD_CENTROCUSTO = V_CD_CENTROCUSTO;&amp;#10;&#x9;&#x9;&#x9; IF NVL(V_ST_CENTROCUSTO,'A') = 'I' THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;--O centro de custo ¢CD_CENTROCUSTO¢ encontra-se inativo e não pode ser usado. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1509,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;:ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&#x9;&#x9;&#x9; &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9; END IF;&amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;  O_MENSAGEM := V_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  --O Centro de Custo ¢CD_CENTROCUSTO¢ não está cadastrado. Verifique o programa TCB007.&amp;#10;&#x9;&#x9;&#x9;  O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(254,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRACCUSTO.CD_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  RETURN;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;--Ocorreu um erro inesperado ao consultar os dados do centro de custo ¢CD_CENTROCUSTO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;  &#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(999,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢SQLERREM='||SQLERRM||'¢');&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  &#x9;RETURN;&amp;#10;&#x9;&#x9;END;&amp;#10; &amp;#10; -----------------------------------------------------------------------------------------------------------------&amp;#10; --VALIDA CENTRO DE CUSTO&amp;#10; -----------------------------------------------------------------------------------------------------------------&amp;#10;&#x9; IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;  DECLARE&amp;#10;&#x9;  &#x9;E_GERAL  EXCEPTION;&amp;#10;&#x9;  BEGIN &#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;SELECT NVL(ST_VALIDACCUSTO,'N')&amp;#10;&#x9;&#x9;&#x9;  INTO V_ST_VALIDACCUSTO&amp;#10;&#x9;&#x9;  &#x9;FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9; &#x9;   /* CSL:22264:30/06/09 - COMPARAÇÃO INADEQUADA */&amp;#10;&#x9; &#x9;   --IF V_ST_VALIDACCUSTO = 'S' THEN&amp;#10;&#x9; &#x9;   IF V_ST_VALIDACCUSTO = 'C' THEN&#x9;&#x9;    &amp;#10;&#x9;     &#x9;BEGIN&amp;#10;&#x9;&#x9;    &#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  INTO V_CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  FROM CCUSTOAUTORIZ&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9; WHERE CCUSTOAUTORIZ.CD_USUARIO      = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_EMPRESA      = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRA.CD_EMPRESA)--GDG:22/07/2011:28715&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO  = V_CD_CENTROCUSTO&amp;#10;&#x9;&#x9;         AND CCUSTOAUTORIZ.TP_AUTORIZADOR  IN ('A','S','T');&#x9;&#x9;    &#x9;&amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;      &#x9;--O Usuário ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;O_MENSAGEM :=  PACK_MENSAGEM.MENS_PADRAO(3771,'¢CD_USUARIO='||:CONTROLE.CD_AUTORIZADOR ||' - '||:CONTROLE.NM_USUAUTORIZ||&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO:= NULL;&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;  RETURN;&#x9;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;   &#x9; &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;   &#x9; &#x9;&#x9;--Ocorreu um erro inesperado na busca dos dados do usuário autorizador. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3958,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;      END;&amp;#10;&#x9; &#x9;   END IF; &amp;#10;&#x9; &#x9; &amp;#10;&#x9;/* &#x9;  BEGIN --eml:13/01/2019:139947&#x9; &#x9;  &#x9;&amp;#10;&#x9; &#x9;  &#x9;SELECT MAX(AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR)&#x9; &#x9;  &#x9;       &#x9; &#x9;  &#x9;      &amp;#10;&#x9; &#x9;  &#x9;  INTO  V_CD_AUTORICCUSTO&amp;#10;&#x9; &#x9;   &#x9;  FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9; &#x9;   &#x9; WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9; &#x9;   &#x9; --  AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9; &#x9;   &#x9; &#x9; AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  = :ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9; &#x9;   &#x9;   AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S'; &amp;#10;&amp;#10;&#x9; &#x9;   &#x9; IF(V_CD_AUTORICCUSTO IS  NOT NULL)THEN&amp;#10;&#x9; &#x9;   &#x9;   IF(:ITEMCOMPRACCUSTO.CD_AUTORIZADOR IS NOT NULL)THEN&amp;#10;&#x9; &#x9;   &#x9;   &#x9; SELECT AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR&#x9; &#x9;  &#x9;       &#x9; &#x9;  &#x9;      &amp;#10;&#x9;&#x9; &#x9;  &#x9;     INTO V_CD_AUTORICCUSTO&amp;#10;&#x9;&#x9; &#x9;   &#x9;     FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9; &#x9;   &#x9;    WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9; &#x9;   &#x9;      AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR  = :ITEMCOMPRACCUSTO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9; &#x9;   &#x9; &#x9;    AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  = :ITEMCOMPRACCUSTO.CD_EMPRESA&amp;#10;&#x9;&#x9; &#x9;   &#x9;      AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&amp;#10;&#x9;&#x9; &#x9;   &#x9; &#x9;IF V_CD_AUTORICCUSTO IS NULL THEN&#x9; &#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;--O Autorizador ¢CD_AUTORIZADOR¢ não tem permissão, para o centro de Custo  ¢CD_CENTROCUSTO¢  verifique TCO035.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33731, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN; &amp;#10;&#x9;&#x9; &#x9;  &#x9;  END IF;&#x9;  &#x9;&#x9; &#x9;   &#x9;   &amp;#10;&#x9; &#x9;   &#x9;  ELSE &amp;#10;&#x9; &#x9;   &#x9;  &#x9;--Centro de Custo ¢CD_CENTROCUSTO¢ restrito, informe o Autorizador!&amp;#10;&#x9; &#x9;   &#x9;  &#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33731,'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;   &#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9; &#x9;   &#x9;  END IF;&#x9;&#x9;&#x9;&amp;#10;&#x9; &#x9;   &#x9;END IF;&#x9; &#x9;  &#x9;&#x9;&amp;#10;&#x9; &#x9;  END; &#x9;*/&amp;#10;&#x9; &#x9;  &amp;#10;&#x9; &#x9; IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN --EML:13/01/2020:139947&#x9;  &#x9; &#x9;  &#x9;&amp;#10;&#x9; &#x9;  BEGIN&#x9;&amp;#10;&#x9;&#x9;&#x9;  SELECT MAX(AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR)&#x9; &#x9;&#x9;&#x9;&#x9; &#x9;   &#x9;       &#x9; &#x9;  &#x9;     &amp;#10;&#x9;&#x9;&#x9;      INTO V_CD_AUTORICCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;    FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;&#x9;&#x9;   WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO  = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO--EMLLL&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;   AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;     AND AUTORIZCCUSTORESTRITO.ST_REGISTRO = 'S';&#x9;&#x9;&#x9;&#x9;&#x9;     &amp;#10;&#x9;&#x9;&#x9;&#x9; EXCEPTION &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;WHEN OTHERS THEN&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;    V_CD_AUTORICCUSTO := NULL;&#x9;&#x9;&#x9; &#x9;      &#x9;&#x9; &#x9;     &#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9; END;&#x9;&#x9; &#x9;  &#x9;&amp;#10;&#x9;      IF V_CD_AUTORICCUSTO IS NOT NULL THEN       &#x9;&#x9;&amp;#10;&#x9;      &#x9;IF :CONTROLE.CD_AUTORIZADOR IS NULL THEN        &#x9; &#x9;&#x9;&#x9;        &#x9;           &#x9;&#x9;&#x9; &amp;#10;&#x9;      &#x9;/*O autorizador da tela principal deve ser informado.*/&amp;#10;&#x9;          &#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33735, NULL);&amp;#10;&#x9;          RETURN;   &#x9;&#x9;&#x9; &amp;#10;&#x9;      &#x9;END IF;&amp;#10;&#x9;      &#x9;&amp;#10;      &#x9;BEGIN&#x9; &#x9;    &#x9;&amp;#10;&#x9;&#x9;      SELECT AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;    &#x9;  INTO V_CD_AUTORICCUSTO2&amp;#10;&#x9;&#x9;        FROM AUTORIZCCUSTORESTRITO&amp;#10;&#x9;&#x9;       WHERE AUTORIZCCUSTORESTRITO.CD_CENTROCUSTO = :ITEMCOMPRACCUSTO.CD_CENTROCUSTO&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;    AND AUTORIZCCUSTORESTRITO.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.CD_EMPRESA  &#x9;&#x9;= NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST, :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;  &#x9; &#x9;  AND AUTORIZCCUSTORESTRITO.ST_REGISTRO &#x9;&#x9;= 'S';&#x9;&#x9;  &#x9; &#x9;  &amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;    &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(33731, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&#x9;&amp;#10;&#x9;&#x9;      RETURN;&#x9;        &amp;#10;&#x9;&#x9;    END;&#x9;&amp;#10;&#x9; &#x9;  END IF;    &amp;#10;&#x9;  END IF; --IF(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL)THEN &#x9;  &amp;#10;   &amp;#10;&#x9;  EXCEPTION &#x9;   &amp;#10;&#x9;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := V_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9; &#x9;WHEN NO_DATA_FOUND THEN &amp;#10;&#x9;&#x9; &#x9;&#x9;NULL;&#x9;&amp;#10;&#x9; &#x9; &#x9; &#x9; &amp;#10;&#x9; &#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; V_MENSAGEM := 'A consulta retornou mais de uma empresa para esta condição.';&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  &#x9;V_MENSAGEM := 'Erro inesperado: '||SQLERRM;&amp;#10;&#x9;&#x9;  &#x9;RETURN;&amp;#10;&#x9;&#x9;END;&#x9;&amp;#10;&#x9; END IF; --IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&#x9;&amp;#10;&#x9; IF V_CD_NEGOCIO = 0 THEN&amp;#10;&#x9;&#x9;/**CSL:21/12/2010:30317&amp;#10;&#x9;&#x9; * Adicionado campo cd_negocio para permitir ou não que o usuário altere o negócio para o qual &amp;#10;&#x9;&#x9; * vai ser destinado o valor do centro de custo, de acordo com o status do parametro ST_NEGOCIOCCUSTO (N - Negado, S - Permitido) do CTI010.&amp;#10;&#x9;&#x9; */&#x9; &amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT CENTROCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NEGOCIO.DS_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.CD_NEGOCIO,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9; :ITEMCOMPRACCUSTO.DS_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;  FROM CENTROCUSTO, NEGOCIO&amp;#10;&#x9;&#x9;   WHERE CENTROCUSTO.CD_NEGOCIO     = NEGOCIO.CD_NEGOCIO&amp;#10;&#x9;&#x9;&#x9;   AND CENTROCUSTO.CD_CENTROCUSTO = V_CD_CENTROCUSTO;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('CTI',10,'MAX',100,'ST_NEGOCIOCCUSTO'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');  &amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_NEGOCIO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');  &amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(5243,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');--Nenhum negócio associado ao centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(6306,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');--Existe mais de um negócio associado ao centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB007.&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(6307,'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢SQLERRM='||SQLERRM||'¢');--Ocorreu um erro inesperado ao tentar localizar o código de negócio associado ao Centro de Custo ¢CD_CENTROCUSTO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;  IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  V_CD_CENTROCUSTO IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;  --VALIDA_CONTA_ORCAMENTO('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, V_CD_CENTROCUSTO);&amp;#10;&#x9;  &#x9;VALIDA_ORCAMENTO_IMP('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, :ITEMCOMPRA.CD_MOVIMENTACAO),V_CD_CENTROCUSTO, V_MENSAGEM);&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;IF V_MENSAGEM IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := O_MENSAGEM||V_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN; &amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;&amp;#10;  ELSE &amp;#10;&#x9;  :ITEMCOMPRACCUSTO.DS_CENTROCUSTO := NULL;&amp;#10;  END IF;&amp;#10;&amp;#10;-----------------------------------------------------------------------------------------------------------------&amp;#10;--VALIDA SE A MOVIMENTAÇÃO POSSUI RESTRIÇÃO PARA O CENTRO DE CUSTO (TCB053)&amp;#10;--AUG:122414:24/05/2018&amp;#10;-----------------------------------------------------------------------------------------------------------------&#x9;&#x9;  &amp;#10;&#x9;&#x9;IF :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; V_CD_CENTROCUSTO  IS NOT NULL THEN&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*RETORNO: S = POSSUI RESTRIÇÃO&amp;#10;&#x9;&#x9;&#x9; *&#x9;&#x9;&#x9;&#x9;&#x9;N = NÃO POSSUI RESTRIÇÃO CADASTRADA NO TCB053 TABELA **RESTRINGIRMOV** &amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; V_CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO := :ITEMCOMPRACCUSTO.CD_MOVIMENTACAO;&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(31068, '¢CD_MOVIMENTACAO='||:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF V_CD_CENTROCUSTO  IS NOT NULL AND&amp;#10;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_MOVIMENTACAO  &#x9;&#x9; IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; V_CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; &amp;#10;&#x9;&#x9;&#x9;IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(31068, '¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='||V_CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9; &#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;END;&amp;#10;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&amp;#10;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_ORCAMENTO_IMP"
                     ProgramUnitText="PROCEDURE VALIDA_ORCAMENTO_IMP(I_TRIGGER_ITEM    IN VARCHAR2, &amp;#10;                               I_CD_MOVIMENTACAO IN NUMBER,                   &amp;#10;                               I_CD_CENTROCUSTO  IN VARCHAR2,                               &amp;#10;                               O_MENSAGEM OUT VARCHAR) IS&amp;#10;BEGIN&amp;#10;  &#x9; ----Valida Oraçamento&amp;#10;&#x9;      IF PACK_ORCOMPRAS.VALIDA_CONTROLE_ORC051(:ITEMCOMPRA.CD_EMPRESA,'COMPRAS') = 'S' AND &amp;#10;&#x9;&#x9;  &#x9; PACK_ORC051.RETORNA_TIPO_ORCAMENTO(SYSDATE) = 'O' AND &amp;#10;&#x9;&#x9;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO ('ORC',50,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTAORCCOMPRAS'),'N') = 'S' THEN   &#x9; &amp;#10;&#x9;&#x9;    BEGIN&amp;#10;&#x9;&#x9;  &#x9;  SELECT HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;  &#x9;    INTO :CONTROLE.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;        FROM PARMOVIMENT,&amp;#10;&#x9;&#x9;             HISTCONTB&amp;#10;&#x9;&#x9;       WHERE PARMOVIMENT.CD_MOVIMENTACAO = I_CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;         AND PARMOVIMENT.CD_HISTCONTB&#x9;&#x9; = HISTCONTB.CD_HISTCONTB;&amp;#10;&#x9;&#x9;         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:CONTROLE.CD_CONTAORCAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT R.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM RELACAOCONTASORCCTB R, PLANOCONTASORCAMENTO P , PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE R.CD_CONTACONTABIL  = :CONTROLE.CD_CONTACONTABIL                           &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND R.CD_CONTAORCAMENTO = P.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND R.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ((I_CD_CENTROCUSTO IS NOT NULL &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         AND EXISTS (SELECT PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;                               FROM PLANOCONTASORCAMENTOCUSTO&amp;#10;&#x9;&#x9;                              WHERE PLANOCONTASORCAMENTOCUSTO.CD_CONTAORCAMENTO = R.CD_CONTAORCAMENTO&amp;#10;&#x9;&#x9;                                AND PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO    = I_CD_CENTROCUSTO&amp;#10;&#x9;&#x9;                              )) &amp;#10;&#x9;&#x9;               OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       (:ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NULL &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         AND 0 = (SELECT COUNT(PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO)&amp;#10;&#x9;&#x9;                            FROM PLANOCONTASORCAMENTOCUSTO&amp;#10;&#x9;&#x9;                           WHERE PLANOCONTASORCAMENTOCUSTO.CD_CONTAORCAMENTO = R.CD_CONTAORCAMENTO &amp;#10;&#x9;&#x9;                             AND PLANOCONTASORCAMENTOCUSTO.CD_CENTROCUSTO IS NULL))                                                               &amp;#10;&#x9;&#x9;                            );   &amp;#10;&#x9;&#x9;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    :CONTROLE.CD_CONTAORCAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(28965, '¢CD_CONTACONTABIL='||:CONTROLE.CD_CONTACONTABIL||'¢CD_CENTROCUSTO='||NVL(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO,'Não Informado')||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    RETURN;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF SHOW_LOV('LOV_CONTAORC') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    END LOOP;&#x9;&#x9;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.CD_CONTAORCAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;COPY(:CONTROLE.CD_CONTAORCAMENTO, I_TRIGGER_ITEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;    EXCEPTION&amp;#10;&#x9;&#x9;    &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;        NULL;&amp;#10;&#x9;&#x9;    END;    &amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;    &#x9;    &#x9;    &#x9;  &#x9; &amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_MOV_IMP"
                     ProgramUnitText="PROCEDURE VALIDA_MOV_IMP(V_CD_MOVIMENTACAO NUMBER, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_DS_MENSAGEM OUT VARCHAR2) IS&amp;#10;BEGIN&amp;#10;  DECLARE&amp;#10;&#x9;V_TP_PEDIDO    PARMOVIMENT.TP_PEDIDO%TYPE; --PHS:60051:11/07/2013&amp;#10;&#x9;I_CD_NATUREZA  PLANOCONTABIL.CD_NATUREZA%TYPE;&amp;#10;&#x9;I_MENSAGEM     VARCHAR2(32000);&amp;#10;&#x9;I_RETORNO    &#x9; VARCHAR2(01);&amp;#10;&#x9;V_ST_ATIVO&#x9;&#x9; RESTRINGIRMOV.ST_ATIVO%TYPE;&amp;#10;&#x9;E_GERAL        EXCEPTION;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;IF V_CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;IF PACK_GLOBAL.TP_SELECAOCONTA = 'O' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*MVP:72940:02/07/2014 - Alterado para voltar a mensagem padrão da função VALIDA_SELECAOCONTA quando for 'CO'*/&amp;#10;        I_MENSAGEM := VALIDA_SELECAOCONTA (NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:CONTROLE.CD_EMPRESA),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_MOVIMENTACAO, &amp;#10;    &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NULL, 'CO');&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (I_MENSAGEM IS NOT NULL) AND (I_MENSAGEM &lt;> 'S') THEN&amp;#10;&#x9;      &#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;      &#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/* CSL:02/12/2013:64869&amp;#10;&#x9;&#x9;&#x9; * Alterado para chamar o procedimento VALIDA_CONTABIL_PLANO para não permitir realizar lançamentos em contas, &amp;#10;&#x9;&#x9;&#x9; * que não pertencem a versão do plano de contas da empresa do lançamento.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;PACK_VALIDA.VALIDA_CONTABIL_PLANO(V_CD_MOVIMENTACAO, NULL, TRUNC(SYSDATE), NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:GLOBAL.CD_EMPRESA), I_MENSAGEM);&amp;#10;  &#x9;&amp;#10;&#x9;  &#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;  &#x9;&#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;  &#x9;&#x9;RETURN;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*CSL:30/12/2013:64869*/&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_VALIDA.RETORNA_OPCAO_PLANOCONTAS,'D') = 'D' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABIL.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT,HISTCONTB,PLANOCONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO    = V_CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC';&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT PARMOVIMENT.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PLANOCONTABILVERSAO.CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PARMOVIMENT.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :ITEMCOMPRACCUSTO.DS_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; I_CD_NATUREZA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; V_TP_PEDIDO --PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABILVERSAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO           = V_CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND HISTCONTB.CD_HISTCONTB         &#x9;&#x9;&#x9; = PARMOVIMENT.CD_HISTCONTB&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_CONTACONTABIL  = HISTCONTB.CD_CONTACONTABIL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.TP_CONTACONTABIL  = 'CC'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB = &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:ITEMCOMPRA.CD_EMPRESA,:GLOBAL.CD_EMPRESA),TRUNC(SYSDATE));&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Movimentação ¢CD_MOVIMENTACAO¢ não cadastrada, não é de compra ou não é de Centro de Custo. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3775,'¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--PHS:60051:11/07/2013&amp;#10;&#x9;&#x9;&#x9;IF V_TP_PEDIDO &lt;> PACK_GLOBAL.TP_PEDIDO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A movimentação ¢CD_MOVIMENTACAO¢ possui o tipo de pedido ¢TP_PEDIDO¢ diferente do tipo de pedido ¢TP_CADPEDIDO¢ cadastrado para o programa. Verificar os programas TCB008 e ANV008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20737,'¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢TP_PEDIDO='||V_TP_PEDIDO||'¢TP_CADPEDIDO='||PACK_GLOBAL.TP_PEDIDO||'¢'); &amp;#10;&#x9;&#x9;&#x9;&#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*CLM:22/08/2014:76468 &amp;#10;&#x9;&#x9;&#x9;IF NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO) &lt;> I_CD_NATUREZA THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ não é compatível com o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3776,'¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;*/&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;I_RETORNO := RETORNA_NATUREZA (V_CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO,:GLOBAL.CD_EMPRESA); /*CSL:03/10/2013:62738*/&amp;#10;&#x9;&#x9;&#x9;IF I_RETORNO = 'I' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--A natureza do Centro de Custo ¢CD_CENTROCUSTO¢ é incompatível com a natureza da Movimentação ¢CD_MOVIMENTACAO¢. Verifique TCB007 e TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20318, '¢CD_CENTROCUSTO='||:ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL AND :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRACCUSTO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_ORCAMENTO_IMP('ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, :ITEMCOMPRACCUSTO.CD_CENTROCUSTO, I_MENSAGEM);&amp;#10;&#x9;    IF (I_MENSAGEM  IS NOT NULL)THEN&amp;#10;&#x9;    &#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;    END IF; &amp;#10;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;&#x9;END IF;&amp;#10;-----------------------------------------------------------------------------------------------------------------&amp;#10;--VALIDA SE A MOVIMENTAÇÃO POSSUI RESTRIÇÃO PARA O CENTRO DE CUSTO (TCB053)&amp;#10;--AUG:122414:24/05/2018&amp;#10;-----------------------------------------------------------------------------------------------------------------&#x9;&#x9;  &amp;#10;&#x9;&#x9;  IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9; /*RETORNO: S = POSSUI RESTRIÇÃO&amp;#10;&#x9;&#x9;&#x9;  *&#x9;&#x9;&#x9;&#x9;&#x9;N = NÃO POSSUI RESTRIÇÃO CADASTRADA NO TCB053 TABELA **RESTRINGIRMOV** &amp;#10;&#x9;&#x9;&#x9;  */&amp;#10;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;  &#x9;V_ST_ATIVO := PACK_COMPRAS.VALIDA_RESTRICAOMOV(V_CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; :ITEMCOMPRACCUSTO.CD_CENTROCUSTO);&amp;#10;&#x9;&#x9;&#x9;  IF NVL(V_ST_ATIVO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(31068, '¢CD_MOVIMENTACAO='||V_CD_MOVIMENTACAO||'¢CD_CENTROCUSTO='|| :ITEMCOMPRACCUSTO.CD_CENTROCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;  &#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;EXCEPTION&#x9;&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;O_DS_MENSAGEM := I_MENSAGEM;&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;:ITEMCOMPRACCUSTO.DS_MOVIMENTACAO := NULL;&amp;#10;   &#x9;:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO := NULL;&amp;#10;&#x9;&#x9;O_DS_MENSAGEM := 'Maxys COM001 - Erro'||SQLERRM;&amp;#10;&#x9;&#x9;RETURN;&amp;#10;END;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="VALIDA_NEGOCIO_IMP"
                     ProgramUnitText="PROCEDURE VALIDA_NEGOCIO_IMP(V_CD_NEGOCIO NUMBER, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; O_DS_MENSAGEM OUT VARCHAR2 ) IS&amp;#10;BEGIN&amp;#10;  BEGIN&amp;#10;&#x9;IF :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;SELECT DS_NEGOCIO&amp;#10;&#x9;    INTO :ITEMCOMPRANEGOCIO.DS_NEGOCIO&amp;#10;&#x9;    FROM NEGOCIO&amp;#10;&#x9;   WHERE NEGOCIO.CD_NEGOCIO = :ITEMCOMPRANEGOCIO.CD_NEGOCIO;&amp;#10;&#x9;   &amp;#10;&#x9;  IF :SYSTEM.CURSOR_ITEM = :SYSTEM.TRIGGER_ITEM AND  :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND :ITEMCOMPRANEGOCIO.CD_NEGOCIO IS NOT NULL THEN&amp;#10;&#x9;    VALIDA_CONTA_ORCAMENTO('ITEMCOMPRANEGOCIO.CD_CONTAORCAMENTO', :ITEMCOMPRA.CD_MOVIMENTACAO, null,:ITEMCOMPRANEGOCIO.CD_NEGOCIO);&amp;#10;&#x9;  END IF; &amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;:ITEMCOMPRANEGOCIO.DS_NEGOCIO := NULL;&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;O_DS_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(147,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ não está cadastrado. Verifique o programa TCB001.&amp;#10;&#x9;&#x9;RETURN;&amp;#10;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9; O_DS_MENSAGEM := &#x9;PACK_MENSAGEM.MENS_PADRAO(148,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢');--O Negócio ¢CD_NEGOCIO¢ está cadastrado várias vezes. Verifique o programa TCB001.&amp;#10;&#x9; RETURN;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;O_DS_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(149,'¢CD_NEGOCIO='||:ITEMCOMPRANEGOCIO.CD_NEGOCIO||'¢SQLERRM='||SQLERRM||'¢');--Ocorreu um erro inesperado ao consultar os dados do código de Negócio ¢CD_NEGOCIO¢. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;RETURN;&amp;#10;END;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="MSG_CONFIRMACAO"
                     ProgramUnitText="FUNCTION MSG_CONFIRMACAO (V_DESCRICAO IN VARCHAR2) RETURN BOOLEAN IS&amp;#10;  RETORNO NUMBER; &amp;#10;BEGIN&amp;#10;    /*&amp;#10;  &#x9;V_MENSAGEM := 'Já Existem Dados Gravados Para Este Período,&#xD;Para esta empresa e esta Versão.&#xD;Se Gravar Novamente Irá Apagar os Valores Anteriores&#xD; Deseja Continuar..?';&amp;#10;  &#x9;IF NOT MSG_CONFIRMACAO(V_MENSAGEM) THEN&amp;#10;  &#x9;  V_MENSAGEM := 'Geração do Relatorio Cancelada Pelo Usuário.';&amp;#10;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;  &#x9;END IF;&#x9;&amp;#10;    */ &amp;#10;    SET_ALERT_PROPERTY('MENSAGEM_EDICAO',ALERT_MESSAGE_TEXT,V_DESCRICAO); &amp;#10;&#x9;&#x9;RETORNO := SHOW_ALERT('MENSAGEM_EDICAO');&amp;#10;&#x9;  IF RETORNO &lt;> 88 THEN&amp;#10;      RETURN(FALSE);&amp;#10;&#x9;  ELSE&amp;#10;      RETURN(TRUE);&amp;#10;&#x9;&#x9;END IF;  &#x9;&amp;#10;&amp;#10;END;"
                     ProgramUnitType="Função"/>
        <ProgramUnit Name="VALIDA_AUTORIZADORCOMPRA"
                     ProgramUnitText="PROCEDURE VALIDA_AUTORIZADORCOMPRA(I_CD_AUTORIZADOR VARCHAR2, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  O_MENSAGEM OUT VARCHAR2) &#x9; IS&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;BEGIN &amp;#10;  DECLARE&amp;#10;&#x9;E_GERAL EXCEPTION;&amp;#10;&#x9;V_VALIDOU VARCHAR2(1);&amp;#10;BEGIN&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF &#x9;I_CD_AUTORIZADOR IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;V_VALIDOU := 'N';&amp;#10;&#x9;/*&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT USUARIO.NM_USUARIO &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;INTO :ITEMCOMPRA.NM_USUAUTORIZ &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;FROM USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE USUARIO.CD_USUARIO = I_CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN  /&amp;#10;&#x9;          V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(32765, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;--&#x9;mensagem('Maxys','Autorizador não cadastrado',2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;/** WLV:22/08/2012:41514&amp;#10;&#x9;&#x9;&#x9;  * Adicionado o DISTINCT na consulta, pois quando ha um usuário autorizador mais de uma vez cadastrada para mesma &amp;#10;&#x9;&#x9;&#x9;  * empresa com grupos diferentes estourava TOO_MANY_ROWS.&amp;#10;&#x9;&#x9;&#x9;  */&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&#x9;&amp;#10;&#x9;&#x9;    SELECT DISTINCT USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;      INTO :ITEMCOMPRA.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;      FROM SOLICITANTE, &amp;#10;&#x9;&#x9;           PARMCOMPRA,&amp;#10;&#x9;&#x9;           USUARIO &amp;#10;&#x9;&#x9;     WHERE SOLICITANTE.CD_EMPRESA     = PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;       AND USUARIO.CD_USUARIO         = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;       AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.TP_APROVSOLIC&amp;#10;&#x9;&#x9;       AND SOLICITANTE.CD_USUARIO     = I_CD_AUTORIZADOR &amp;#10;&#x9;&#x9;       AND PARMCOMPRA.CD_EMPRESA      = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;      &#x9;--O Usuário Informado ¢CD_USUARIO¢ não é um Autorizador Cadastrado para a empresa ¢CD_EMPRESA¢. Verifique TCO002.&#x9;      &#x9;&amp;#10;&#x9;      &#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4737, '¢CD_USUARIO='||I_CD_AUTORIZADOR||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&#x9;   &#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;&#x9;END;  &amp;#10;&#x9;&#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;:ITEMCOMPRA.NM_USUAUTORIZ:=NULL;&amp;#10;&#x9;&#x9;END IF;&#x9;&#x9;&amp;#10;EXCEPTION&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;&#x9;RETURN;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;O_MENSAGEM :=&#x9;'Maxys COM001 - Erro'||SQLERRM;&amp;#10;&#x9;&#x9;&#x9;RETURN;&amp;#10;END;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="INFORMA_PROJETO"
                     ProgramUnitText="PROCEDURE INFORMA_PROJETO (I_CD_EMPRESA IN NUMBER, O_MENSAGEM OUT VARCHAR2) IS&amp;#10;/*GBO:13/09/19:138077*/&amp;#10;  I_PARAMETROS  &#x9;&#x9;&#x9;&#x9;&#x9;PARAMLIST; &#x9;&amp;#10;  E_SAIDA&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;  V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;NUMBER;&amp;#10;  V_CD_CCUSTO             NUMBER;&amp;#10;  V_VT_REGISTRO           PACK_PROJETOMONI.REG_REGISTRO;&amp;#10;  V_POSVET                NUMBER;&amp;#10;  V_NR_CONTROLE           NUMBER;&amp;#10;  V_DS_CCUSTO             VARCHAR2(32000);&amp;#10;  &amp;#10;  /*CURSOR CUR_DADOS_PROJETO (C_CD_CENTRODECUSTO  IN NUMBER)IS&amp;#10;    &#x9;SELECT PROJETORATEIO.NR_SEQUENCIAL,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.CD_PROJETO,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.CD_ESTUDO,&amp;#10;&#x9;&#x9;&#x9;       ESTUDOMONI.DS_ESTUDO,&amp;#10;&#x9;&#x9;&#x9;       ESTUDOMONI.NM_ESTUDO,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.CD_ETAPA,&amp;#10;&#x9;&#x9;&#x9;       ETAPAMONI.DS_ETAPA,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.VL_RATEIO,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.NR_VERSAO,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.PC_RATEIO,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;       PROJETORATEIO.NR_LOTECOMPRA&amp;#10;&#x9;&#x9;&#x9;  FROM PROJETORATEIO,&amp;#10;&#x9;&#x9;&#x9;       ESTUDOMONI,&amp;#10;&#x9;&#x9;&#x9;       ETAPAMONI,&amp;#10;&#x9;&#x9;&#x9;       PROJETOMONI,&amp;#10;&#x9;&#x9;&#x9;       CENTROCUSTOMONI&amp;#10;&#x9;&#x9;&#x9; WHERE PROJETOMONI.CD_ESTUDO           = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_PROJETO          = ETAPAMONI.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.CD_ESTUDO           = ETAPAMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO           = ETAPAMONI.NR_VERSAO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_ETAPA          = ETAPAMONI.CD_ETAPA&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_PROJETO        = PROJETOMONI.CD_PROJETO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_ESTUDO         = PROJETOMONI.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.NR_VERSAO         = PROJETOMONI.NR_VERSAO&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_CENTROCUSTO    = CENTROCUSTOMONI.CD_CENTROCUSTO&amp;#10;&#x9;&#x9;     AND CENTROCUSTOMONI.ST_ATIVA   &#x9;&#x9; = 1&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_EMPRITEMCOMPRA = NVL(I_CD_EMPRESA,:GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.NR_ITEMCOMPRA     = :ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;   --AND NVL(PROJETORATEIO.NR_LOTECOMPRA,-1)= I_NR_LOTECOMPRA&amp;#10;&#x9;&#x9;&#x9;   AND PROJETORATEIO.CD_CENTROCUSTO    = C_CD_CENTRODECUSTO;*/&amp;#10;  &amp;#10;BEGIN  &amp;#10;&#x9;IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM', 9, 'MAX', NVL(I_CD_EMPRESA,:GLOBAL.CD_EMPRESA), 'ST_PROJETOMONI') = 'S' AND &amp;#10;&#x9;&#x9; PACK_PARMGEN.CONSULTA_PARAMETRO('COM', 9, 'MAX', NVL(I_CD_EMPRESA,:GLOBAL.CD_EMPRESA), 'ST_PRJETORATEIO') = 'S' THEN&amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9;V_COUNT  := 0;&#x9;&amp;#10;&#x9;&#x9;-- VALIDA SE ALGUM REGISTRO HAVERA RATEIO.&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;LOOP&#x9;&amp;#10;&#x9;&#x9;  IF :ITEMCOMPRA.CD_ITEM IS NOT NULL AND :ITEMCOMPRA.TP_CONTACONTABIL = 'CC' THEN&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;   &#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;      IF GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) = :ITEMCOMPRA.CD_ITEM THEN&amp;#10;&#x9;&#x9;        V_CD_CCUSTO := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO', I);    &amp;#10;&#x9;&#x9;        &amp;#10;&#x9;&#x9;        BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(1)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM CENTROCUSTOMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE CENTROCUSTOMONI.ST_ATIVA       = 1&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CENTROCUSTOMONI.CD_CENTROCUSTO = V_CD_CCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND EXISTS ( SELECT *&amp;#10;                                FROM PROJETOCENTROCUSTOMONI,PROJETOMONI&amp;#10;                               WHERE CENTROCUSTOMONI.CD_CENTROCUSTO    = PROJETOCENTROCUSTOMONI.CD_CENTROCUSTO &amp;#10;                                 AND PROJETOCENTROCUSTOMONI.CD_PROJETO     = PROJETOMONI.CD_PROJETO     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND PROJETOCENTROCUSTOMONI.CD_ESTUDO      = PROJETOMONI.CD_ESTUDO      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND PROJETOCENTROCUSTOMONI.NR_VERSAO      = PROJETOMONI.NR_VERSAO &amp;#10;                                 AND PROJETOMONI.ST_ATIVA                  = 1&amp;#10;                                 AND PROJETOMONI.ST_ESTADO                 IN (5,6,7));&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXIT WHEN V_COUNT > 0;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;    END LOOP;  &#x9;    &amp;#10;&#x9;&#x9;    EXIT WHEN V_COUNT > 0;&#x9;&amp;#10;&#x9;&#x9;  END IF; &#x9;&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&#x9;&#x9;&#x9;   &#x9;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&#x9;&#x9;&amp;#10;&#x9;&#x9;  NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(V_COUNT, 0) > 0 THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  PACK_PROJETOMONI.LIMPA_CACHE;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;V_COUNT       := 0;&amp;#10;&#x9;&#x9;  V_NR_CONTROLE := 0;&amp;#10;&#x9;&#x9;&#x9;-- VALIDA SE ALGUM REGISTRO HAVERA RATEIO.&amp;#10;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&#x9;LOOP&#x9;&amp;#10;&#x9;&#x9;&#x9;  IF :ITEMCOMPRA.CD_ITEM IS NOT NULL AND :ITEMCOMPRA.TP_CONTACONTABIL = 'CC'  THEN&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;   &#x9;&amp;#10;&#x9;&#x9;&#x9;   &#x9;FOR I IN 1 ..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;&#x9;      IF GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) = :ITEMCOMPRA.CD_ITEM THEN&amp;#10;&#x9;&#x9;&#x9;        V_CD_CCUSTO := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO', I);    &amp;#10;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;        BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(1)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM CENTROCUSTOMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE CENTROCUSTOMONI.ST_ATIVA       = 1&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CENTROCUSTOMONI.CD_CENTROCUSTO = V_CD_CCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND EXISTS ( SELECT *&amp;#10;                                FROM PROJETOCENTROCUSTOMONI,PROJETOMONI&amp;#10;                               WHERE CENTROCUSTOMONI.CD_CENTROCUSTO    = PROJETOCENTROCUSTOMONI.CD_CENTROCUSTO &amp;#10;                                 AND PROJETOCENTROCUSTOMONI.CD_PROJETO     = PROJETOMONI.CD_PROJETO     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND PROJETOCENTROCUSTOMONI.CD_ESTUDO      = PROJETOMONI.CD_ESTUDO      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND PROJETOCENTROCUSTOMONI.NR_VERSAO      = PROJETOMONI.NR_VERSAO &amp;#10;                                 AND PROJETOMONI.ST_ATIVA                  = 1&amp;#10;                                 AND PROJETOMONI.ST_ESTADO                 IN (5,6,7));&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_COUNT := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--- PREECNHE VETOR&amp;#10;&#x9;&#x9;&#x9;        IF V_COUNT > 0 THEN&amp;#10;&#x9;&#x9;&#x9;          BEGIN&amp;#10;&#x9;&#x9;&#x9;        &#x9;  SELECT DS_CENTROCUSTO&amp;#10;&#x9;&#x9;&#x9;        &#x9;    INTO V_DS_CCUSTO&amp;#10;&#x9;&#x9;&#x9;        &#x9;    FROM CENTROCUSTO &amp;#10;&#x9;&#x9;&#x9;        &#x9;   WHERE CD_CENTROCUSTO = V_CD_CCUSTO;&amp;#10;&#x9;&#x9;&#x9;          EXCEPTION&amp;#10;&#x9;&#x9;&#x9;          &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;          &#x9;  V_DS_CCUSTO := NULL;&amp;#10;&#x9;&#x9;&#x9;          END;&#x9;  &amp;#10;&#x9;&#x9;&#x9;        &#x9;&amp;#10;&#x9;&#x9;&#x9;        &#x9;IF :ITEMCOMPRA.NR_REGBLOCO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;        &#x9;&#x9;PACK_PROCEDIMENTOS.NR_REGBLOCO := NVL(PACK_PROCEDIMENTOS.NR_REGBLOCO,0) + 1;&amp;#10;&#x9;&#x9;&#x9;        &#x9;&#x9;:ITEMCOMPRA.NR_REGBLOCO        := PACK_PROCEDIMENTOS.NR_REGBLOCO;&amp;#10;&#x9;&#x9;&#x9;        &#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;        &#x9;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_NR_CONTROLE := NVL(V_NR_CONTROLE,0) + 1;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_POSVET      := NVL(V_VT_REGISTRO.COUNT,0) + 1;&amp;#10;&#x9;&#x9;&#x9;        &#x9;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).NR_CONTROLE       := V_NR_CONTROLE;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).NR_ITEMCOMPRA     := 0;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).CD_ITEM           := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).DS_ITEM           := :ITEMCOMPRA.DS_ITEM;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).CD_UNIDMED        := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).CD_EMPRESA        := NVL(I_CD_EMPRESA, :GLOBAL.CD_EMPRESA);&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).CD_CENTROCUSTO    := V_CD_CCUSTO;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).DS_CENTROCUSTO    := V_DS_CCUSTO;&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).QT_PEDIDAUNIDSOL  := GET_GROUP_NUMBER_CELL('GRUPO_CC.QT_PEDIDAUNIDSOL', I);&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).PC_PARTICIPACAO   := GET_GROUP_NUMBER_CELL('GRUPO_CC.PC_PARTICIPACAO', I);&amp;#10;&#x9;&#x9;&#x9;        &#x9;V_VT_REGISTRO(V_POSVET).NR_REGBLOCO       := :ITEMCOMPRA.NR_REGBLOCO;&amp;#10;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;        END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;    END LOOP;  &#x9;    &amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;  END IF; &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&#x9;&#x9;&#x9;   &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9;  END LOOP;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;  -- PREENCHE VETOR CC CUSTO REGISTRO&amp;#10;&#x9;&#x9; &#x9;PACK_PROJETOMONI.SET_VETOR_REGISTRO(V_VT_REGISTRO, PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO);&amp;#10;&#x9;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9;I_PARAMETROS := GET_PARAMETER_LIST('PARAMPROJETOETAPA');&amp;#10;&#x9;&#x9;  IF (NOT ID_NULL(I_PARAMETROS)) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;DESTROY_PARAMETER_LIST(I_PARAMETROS);&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;I_PARAMETROS := CREATE_PARAMETER_LIST('PARAMPROJETOETAPA');&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--ADD_PARAMETER(I_PARAMETROS,'CD_EMPRITEMCOMPRA', TEXT_PARAMETER,I_CD_EMPRESA);&amp;#10;&#x9;&#x9;&#x9;--ADD_PARAMETER(I_PARAMETROS,'NR_LOTEITEMCOMPRA', TEXT_PARAMETER,I_NR_LOTECOMPRA);&amp;#10;&#x9;&#x9;  ADD_PARAMETER(I_PARAMETROS,'ST_VETOR', TEXT_PARAMETER,'S'); &amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  --:GLOBAL.ST_CANCELADOFORMSEL403 := 'FALSE';&amp;#10;&#x9;&#x9;&#x9;CALL_FORM('SEL403', NO_HIDE ,NO_REPLACE, NO_QUERY_ONLY, I_PARAMETROS);&amp;#10;&#x9;&#x9;&#x9;/**FLA:16/12/2019:140632&amp;#10;&#x9;&#x9;&#x9; * Verificação de do botão cancelar na SEL403&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;/*IF NVL(:GLOBAL.ST_CANCELADOFORMSEL403, 'FALSE') = 'TRUE' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;O_MENSAGEM := 'TRUE';&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;ERASE('GLOBAL.ST_CANCELADOFORMSEL403');*/&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;PACK_PROJETOMONI.GET_VETOR_PROJETORATEIO(PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/*IF NVL(PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO.COUNT, 0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;PACK_PROJETOMONI.INSERE_PROJETORATEIO(O_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;ELS*/&amp;#10;&#x9;&#x9;&#x9;IF NVL(PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO.COUNT, 0) = 0 THEN&amp;#10;&#x9;&#x9;&#x9;  O_MENSAGEM := 'TRUE';&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;END IF ; --IF NVL(V_COUNT,0) > 0 ...&amp;#10;&#x9;END IF;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_SAIDA THEN &amp;#10;&#x9;&#x9;NULL;&amp;#10;END;"
                     ProgramUnitType="Procedimento"/>
        <ProgramUnit Name="MAX_CALL_FORM"
                     ProgramUnitText="FUNCTION MAX_CALL_FORM(I_CD_MODULO   &#x9;&#x9;&#x9;&#x9;IN PROGRAMA.CD_MODULO%TYPE,&amp;#10;                       I_CD_PROGRAMA &#x9;&#x9;&#x9;&#x9;IN PROGRAMA.CD_PROGRAMA%TYPE,&amp;#10;                       I_TP_DISPLAY  &#x9;&#x9;&#x9;&#x9;IN NUMBER DEFAULT HIDE,&amp;#10;                       I_TP_MENU     &#x9;&#x9;&#x9;&#x9;IN NUMBER DEFAULT DO_REPLACE,&amp;#10;                       I_TP_QUERY    &#x9;&#x9;&#x9;&#x9;IN NUMBER DEFAULT NO_QUERY_ONLY,&amp;#10;                       I_PARAMLIST   &#x9;&#x9;&#x9;&#x9;IN PARAMLIST DEFAULT NULL,&amp;#10;                       I_ST_VALPERMISSAO &#x9;&#x9;IN BOOLEAN DEFAULT TRUE,&amp;#10;                       I_ST_ATUALIZACONEXAO IN BOOLEAN DEFAULT TRUE) RETURN VARCHAR2 IS&amp;#10;  &amp;#10;  V_NM_PROGRAMA DESKPROGRAMA.NM_PROGRAMA%TYPE;&amp;#10;  V_NM_ARQUIVO  DESKPROGRAMA.NM_ARQUIVO%TYPE;&amp;#10;  V_CD_MODULO   PROGRAMA.CD_MODULO%TYPE;&amp;#10;  V_CD_PROGRAMA PROGRAMA.CD_PROGRAMA%TYPE;&amp;#10;  E_GERAL &#x9;&#x9;&#x9;EXCEPTION;&amp;#10;  V_MENSAGEM&#x9;&#x9;VARCHAR2(32000);&amp;#10;BEGIN&amp;#10;&#x9;IF ((I_CD_MODULO IS NULL) OR (I_CD_PROGRAMA IS NULL)) THEN&amp;#10;&#x9;&#x9;V_MENSAGEM := 'Informe módulo e programa.';&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;--Monta o nome do programa (módulo + programa)&amp;#10;&#x9;V_NM_PROGRAMA := I_CD_MODULO||TO_CHAR(I_CD_PROGRAMA, 'FM000');&amp;#10;&#x9;&amp;#10;&#x9;--Verifica o acesso ao programa&amp;#10;&#x9;IF I_ST_VALPERMISSAO THEN&amp;#10;&#x9;  IF (NVL(PACK_DESK.TEM_ACESSO_PROGRAMA(:GLOBAL.CD_USUARIO, V_NM_PROGRAMA, :GLOBAL.CD_EMPRESA), 'N') = 'N') THEN&amp;#10;&#x9;  &#x9;--O usuário ¢CD_USUARIO¢ não tem permissão para usar o programa ¢CD_MODULO¢¢CD_PROGRAMA¢ na empresa ¢CD_EMPRESA¢.&amp;#10;&#x9;  &#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(335, '¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_MODULO='||I_CD_MODULO||'¢CD_PROGRAMA='||I_CD_PROGRAMA||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;END IF; --IF I_ST_VALPERMISSAO THEN&amp;#10;&#x9;&amp;#10;&#x9;--Busca o nome do arquivo (FMX) do programa, cadastrado no ANV052&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT DESKPROGRAMA.NM_ARQUIVO&amp;#10;&#x9;&#x9;  INTO V_NM_ARQUIVO&amp;#10;&#x9;&#x9;  FROM DESKPROGRAMA&amp;#10;&#x9;&#x9; WHERE DESKPROGRAMA.NM_PROGRAMA = V_NM_PROGRAMA;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;  --O programa ¢NM_PROGRAMA¢ não esta cadastrado. Verifique ANV052.&amp;#10;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4773, '¢NM_PROGRAMA='||V_NM_PROGRAMA||'¢');&amp;#10;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  --Ocorreu um erro ao pesquisar o programa ¢NM_PROGRAMA¢. Verifique ANV003 ou ANV052. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;  V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(8496, '¢NM_PROGRAMA='||V_NM_PROGRAMA||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;END;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;--Gravo as globais atuais e altero para o programa chamado&amp;#10;&#x9;IF I_ST_ATUALIZACONEXAO THEN&amp;#10;&#x9;&#x9;V_CD_MODULO &#x9;&#x9;&#x9;&#x9;:= :GLOBAL.CD_MODULO;&amp;#10;&#x9;&#x9;V_CD_PROGRAMA &#x9;&#x9;&#x9;:= :GLOBAL.CD_PROGRAMA;&amp;#10;&#x9;&#x9;:GLOBAL.CD_MODULO &#x9;:= I_CD_MODULO;&amp;#10;&#x9;&#x9;:GLOBAL.CD_PROGRAMA&#x9;:= I_CD_PROGRAMA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; I_CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; I_CD_PROGRAMA);&amp;#10;&#x9;END IF; --IF I_ST_ATUALIZACONEXAO THEN&amp;#10;&#x9;&amp;#10;&#x9;--Chama o form&amp;#10;  CALL_FORM(V_NM_ARQUIVO, I_TP_DISPLAY, I_TP_MENU, I_TP_QUERY, I_PARAMLIST);&amp;#10;  &amp;#10;  IF I_ST_ATUALIZACONEXAO THEN&amp;#10;  &#x9;PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_PROGRAMA);&amp;#10;  &amp;#10;&#x9;  --Retorno os valores das globais&amp;#10;&#x9;  :GLOBAL.CD_MODULO&#x9;&#x9;:= V_CD_MODULO;&amp;#10;&#x9;  :GLOBAL.CD_PROGRAMA := V_CD_PROGRAMA;&amp;#10;  &amp;#10;  END IF; --IF I_ST_ATUALIZACONEXAO THEN&amp;#10;  &amp;#10;  RETURN NULL; --Sucesso&amp;#10;  &amp;#10;EXCEPTION&amp;#10;  WHEN E_GERAL THEN&amp;#10;    --Retorno os valores das globais&amp;#10;    IF ((V_CD_MODULO IS NOT NULL) AND (V_CD_PROGRAMA IS NOT NULL)) THEN&amp;#10;&#x9;&#x9;  :GLOBAL.CD_MODULO&#x9;&#x9;:= V_CD_MODULO;&amp;#10;&#x9;&#x9;  :GLOBAL.CD_PROGRAMA := V_CD_PROGRAMA;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_PROGRAMA);&amp;#10;&#x9;&#x9;END IF;&amp;#10;    RETURN V_MENSAGEM;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;    --Retorno os valores das globais&amp;#10;    IF ((V_CD_MODULO IS NOT NULL) AND (V_CD_PROGRAMA IS NOT NULL)) THEN&amp;#10;&#x9;&#x9;  :GLOBAL.CD_MODULO&#x9;&#x9;:= V_CD_MODULO;&amp;#10;&#x9;&#x9;  :GLOBAL.CD_PROGRAMA := V_CD_PROGRAMA;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_PROGRAMA);&amp;#10;&#x9;&#x9;END IF;&amp;#10;    RETURN '[MAX_CALL_FORM] Ocorreu um erro não tratado: '||SQLERRM;&amp;#10;END;"
                     ProgramUnitType="Função"/>
        <ProgramUnit Name="PACK_PREITEMCOMPRA"
                     ProgramUnitText="PACKAGE PACK_PREITEMCOMPRA IS&amp;#10;  &amp;#10;  PROCEDURE CARREGA_PREITEMCOMPRA(O_MENSAGEM       OUT VARCHAR2);&amp;#10;&#x9;----------------------------------------------------------------------------------------------------&amp;#10;&#x9;----------------------------------------------------------------------------------------------------&amp;#10;&#x9;----------------------------------------------------------------------------------------------------&amp;#10;END;"
                     ProgramUnitType="Espec. do Pacote"/>
        <ProgramUnit Name="PACK_PREITEMCOMPRA"
                     ProgramUnitText="PACKAGE BODY PACK_PREITEMCOMPRA IS&amp;#10;  &amp;#10;  PROCEDURE CARREGA_PREITEMCOMPRA(O_MENSAGEM       OUT VARCHAR2) IS&amp;#10;&#x9;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;&#x9;&#x9;V_INSTRUCAO       VARCHAR2(32000);&amp;#10;&#x9;&#x9;GRUPO         &#x9;&#x9;RECORDGROUP;&amp;#10;&#x9;&#x9;ERRO          &#x9;&#x9;NUMBER;&amp;#10;  BEGIN&amp;#10;&#x9;&#x9;V_INSTRUCAO := 'SELECT PREITEMCOMPRA.NR_PREITEMCOMPRA, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.NR_AGRUPAMENTO, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.DS_ITEM, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.CD_ITEM, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.QT_ITEM, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.DS_OBSERVACAO, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       ITEM.DS_ITEM DS_ITEMMAXYS, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       PREITEMCOMPRA.DT_DESEJADA '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '  FROM PREITEMCOMPRA, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '       ITEM '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ' WHERE PREITEMCOMPRA.CD_ITEM = ITEM.CD_ITEM (+) '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '   AND PREITEMCOMPRA.ST_PREITEMCOMPRA = ''1'' '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '   AND PREITEMCOMPRA.CD_EMPRESA = '||:GLOBAL.CD_EMPRESA||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ' ORDER BY PREITEMCOMPRA.NR_AGRUPAMENTO, '||CHR(10)||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; '          PREITEMCOMPRA.NR_PREITEMCOMPRA ';  &amp;#10;  &amp;#10;&#x9;&#x9;GRUPO := FIND_GROUP('GRUPO_PREITEM');&amp;#10;&#x9;&#x9;IF NOT ID_NULL(GRUPO) THEN&amp;#10;&#x9;&#x9;&#x9;DELETE_GROUP(GRUPO);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;GRUPO := CREATE_GROUP_FROM_QUERY('GRUPO_PREITEM', V_INSTRUCAO);&amp;#10;&#x9;&#x9;ERRO  := POPULATE_GROUP(GRUPO);&amp;#10;&#x9;&amp;#10;&#x9;&#x9;IF ERRO = 1403 THEN&amp;#10;&#x9;&#x9;&#x9;--A consulta não retornou dados com base nos filtros/parâmetros informados.&amp;#10;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1544, NULL);&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;ELSIF ERRO NOT IN (0, 1403) THEN&amp;#10;&#x9;&#x9;&#x9;--Ocorreu um erro ao realizar a consulta conforme filtros/parâmetros informados. Erro: ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;O_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(25697, '¢SQLERRM='||ERRO||'¢');&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;GO_BLOCK('PREITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&amp;#10;&#x9;&#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_PREITEM') LOOP&amp;#10;&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.NR_ITEMCOMPRA    := GET_GROUP_NUMBER_CELL('GRUPO_PREITEM.NR_PREITEMCOMPRA', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.DS_PREITEMCOMPRA := GET_GROUP_CHAR_CELL('GRUPO_PREITEM.DS_ITEM', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.CD_ITEMAXYS&#x9;&#x9;  := GET_GROUP_NUMBER_CELL('GRUPO_PREITEM.CD_ITEM', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.DS_ITEMAXYS      := GET_GROUP_CHAR_CELL('GRUPO_PREITEM.DS_ITEMMAXYS', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.QT_ITEM&#x9;&#x9;      := GET_GROUP_NUMBER_CELL('GRUPO_PREITEM.QT_ITEM', I); &amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.DS_OBSERVACAO    := GET_GROUP_CHAR_CELL('GRUPO_PREITEM.DS_OBSERVACAO', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.NR_AGRUPAMENTO   := GET_GROUP_NUMBER_CELL('GRUPO_PREITEM.NR_AGRUPAMENTO', I);&amp;#10;&#x9;&#x9;&#x9;:PREITEMCOMPRA.DT_DESEJADA      := GET_GROUP_DATE_CELL('GRUPO_PREITEM.DT_DESEJADA', I);&amp;#10;&amp;#10;&#x9;&#x9;  NEXT_RECORD;&amp;#10;&#x9;&#x9;END LOOP;&amp;#10;&#x9;&amp;#10;&#x9;  IF (:SYSTEM.CURSOR_RECORD > 1) THEN&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;END IF;&amp;#10;  &amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;    WHEN E_GERAL THEN&amp;#10;&#x9;      O_MENSAGEM := '¥[CARREGA_PREITEMCOMPRA] ¥'||O_MENSAGEM;&amp;#10;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;      O_MENSAGEM := '¥[CARREGA_PREITEMCOMPRA: Erro] ¥. Erro: '||SQLERRM;&amp;#10;&#x9;END CARREGA_PREITEMCOMPRA;&amp;#10;&#x9;----------------------------------------------------------------------------------------------------&amp;#10;&#x9;----------------------------------------------------------------------------------------------------&amp;#10;&#x9;----------------------------------------------------------------------------------------------------  &amp;#10;END;"
                     ProgramUnitType="Corpo do Pacote"/>
        <RecordGroup Name="LOV_LOCALARMAZENAGEM" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT LOCALARMAZENAGEM.DS_LOCALARMAZ,&amp;#10;                LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ,&amp;#10;                LOCALARMAZENAGEM.CD_LOCALARMAZ,&amp;#10;                LOCALARMAZENAGEM.NR_SUBLOCARMAZ1,&amp;#10;                LOCALARMAZENAGEM.NR_SUBLOCARMAZ2,&amp;#10;                LOCALARMAZENAGEM.NR_SUBLOCARMAZ3,&amp;#10;                LOCALARMAZENAGEM.NR_SUBLOCARMAZ4&amp;#10;  FROM LOCALARMAZENAGEM&amp;#10; WHERE LOCALARMAZENAGEM.CD_EMPRESA = :CONTROLE.CD_EMPRESA&amp;#10;   AND LOCALARMAZENAGEM.ST_OCUPACAO = 'A'&amp;#10; ORDER BY LOCALARMAZENAGEM.CD_LOCALARMAZ"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_LOCALARMAZ" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_TIPOLOCALARMAZ" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="CD_LOCALARMAZ" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ1" DirtyInfo="true" ColumnDataType="Character" MaximumLength="8"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ2" DirtyInfo="true" ColumnDataType="Character" MaximumLength="7"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ3" DirtyInfo="true" ColumnDataType="Character" MaximumLength="2"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ4" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ARMAZEMUSUARIO" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT LOCALARMAZENAGEM.DS_LOCALARMAZ,&amp;#10;                LOCALARMAZENAGEMUSUARIO.CD_TIPOLOCALARMAZ,&amp;#10;                LOCALARMAZENAGEMUSUARIO.CD_LOCALARMAZ,&amp;#10;                LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ1,&amp;#10;                LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ2,&amp;#10;                LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ3,&amp;#10;                LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ4&amp;#10;  FROM LOCALARMAZENAGEM, LOCALARMAZENAGEMUSUARIO&amp;#10; WHERE LOCALARMAZENAGEM.CD_EMPRESA = :CONTROLE.CD_EMPRESA&amp;#10;   AND LOCALARMAZENAGEM.ST_OCUPACAO = 'A'&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.CD_TIPOLOCALARMAZ = LOCALARMAZENAGEM.CD_TIPOLOCALARMAZ&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.CD_LOCALARMAZ     = LOCALARMAZENAGEM.CD_LOCALARMAZ&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ1   = LOCALARMAZENAGEM.NR_SUBLOCARMAZ1&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ2   = LOCALARMAZENAGEM.NR_SUBLOCARMAZ2&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ3   = LOCALARMAZENAGEM.NR_SUBLOCARMAZ3&amp;#10;   AND LOCALARMAZENAGEMUSUARIO.NR_SUBLOCARMAZ4   = LOCALARMAZENAGEM.NR_SUBLOCARMAZ4&amp;#10; ORDER BY LOCALARMAZENAGEMUSUARIO.CD_LOCALARMAZ&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_LOCALARMAZ" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_TIPOLOCALARMAZ" DirtyInfo="true" ColumnDataType="Number" MaximumLength="6"/>
            <RecordGroupColumn Name="CD_LOCALARMAZ" DirtyInfo="true" ColumnDataType="Number" MaximumLength="11"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ1" DirtyInfo="true" ColumnDataType="Character" MaximumLength="8"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ2" DirtyInfo="true" ColumnDataType="Character" MaximumLength="78"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ3" DirtyInfo="true" ColumnDataType="Character" MaximumLength="2"/>
            <RecordGroupColumn Name="NR_SUBLOCARMAZ4" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
        </RecordGroup>
        <RecordGroup Name="LOV_GRUPOCC" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT 0 NR_REGISTRO, RPAD(' ',2000) CD_CENTROCUSTO FROM DUAL"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="NR_REGISTRO" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="5"/>
            <RecordGroupColumn Name="CD_CENTROCUSTO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="2000"/>
        </RecordGroup>
        <RecordGroup Name="LOV_EMPRESA" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT EMPRESA.CD_EMPRESA,EMPRESA.NM_EMPRESA FROM EMPRESA WHERE EMPRESA.CD_EMPRESA IN (SELECT USUARIOEMPRESA.CD_EMPRESA FROM USUARIOEMPRESA WHERE USUARIOEMPRESA.CD_USUARIO = :GLOBAL.CD_USUARIO) ORDER BY EMPRESA.NM_EMPRESA"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="CD_EMPRESA" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="23"/>
            <RecordGroupColumn Name="NM_EMPRESA" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="PROFILE" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PROGRAMA.DS_PROGRAMA, PROFILE.CD_MODULO||PROFILE.CD_PROGRAMA FROM PROFILE,PROGRAMA WHERE (PROFILE.CD_EMPRESA = :GLOBAL.CD_EMPRESA) AND (PROFILE.CD_USUARIO = :GLOBAL.CD_USUARIO) AND (PROGRAMA.CD_MODULO = PROFILE.CD_MODULO) AND (PROGRAMA.CD_PROGRAMA = PROFILE.CD_PROGRAMA) ORDER BY PROGRAMA.DS_PROGRAMA,PROFILE.CD_MODULO,PROFILE.CD_PROGRAMA"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_PROGRAMA" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="ICRGGQ_0" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="43"/>
        </RecordGroup>
        <RecordGroup Name="LOV_EMPRESANEGOCIO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT EMPRESA.CD_EMPRESA,EMPRESA.NM_EMPRESA FROM EMPRESA WHERE EMPRESA.CD_EMPRESA IN (SELECT USUARIOEMPRESA.CD_EMPRESA FROM USUARIOEMPRESA WHERE USUARIOEMPRESA.CD_USUARIO = :GLOBAL.CD_USUARIO) ORDER BY EMPRESA.NM_EMPRESA"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="CD_EMPRESA" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="NM_EMPRESA" ColumnDataType="Character" MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ITEM" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT ITEM.DS_ITEM,&amp;#10;       ITEM.CD_ITEM,&amp;#10;       DECODE(ITEM.TP_ITEM,&amp;#10;              'A',&amp;#10;              'APLICACAO IMEDIATA',&amp;#10;              'I',&amp;#10;              'IMPRODUTIVO',&amp;#10;              'P',&amp;#10;              'PRODUTIVO',&amp;#10;              'S',&amp;#10;              'SERVICO'),&amp;#10;       PLANEJITEM.CD_EMPRESA&amp;#10;  FROM ITEMEMPRESA, ITEM, PLANEJITEM&amp;#10; WHERE ITEMEMPRESA.CD_ITEM = ITEM.CD_ITEM&amp;#10;   AND ITEMEMPRESA.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;   AND PLANEJITEM.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;   AND ITEMEMPRESA.DT_CANCELAMENTO IS NULL&amp;#10;   AND PLANEJITEM.CD_ITEM = ITEM.CD_ITEM&amp;#10;   AND EXISTS&amp;#10; (SELECT 1&amp;#10;          FROM SOLICITANTE&amp;#10;         WHERE SOLICITANTE.CD_EMPRESA = ITEMEMPRESA.CD_EMPRESA&amp;#10;           AND SOLICITANTE.CD_USUARIO = :GLOBAL.CD_USUARIO&amp;#10;           AND NVL(SOLICITANTE.CD_GRUPO, ITEM.CD_GRUPO) = ITEM.CD_GRUPO&amp;#10;           AND NVL(SOLICITANTE.CD_ITEM, ITEM.CD_ITEM) = ITEM.CD_ITEM&amp;#10;           AND NVL(SOLICITANTE.CD_SUBGRUPO, ITEM.CD_SUBGRUPO) =&amp;#10;               ITEM.CD_SUBGRUPO&amp;#10;           AND SOLICITANTE.ST_SOLICITANTE = 'S')&amp;#10; ORDER BY ITEM.DS_ITEM&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_ITEM" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_ITEM" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="ICRGGQ_0" DirtyInfo="true" ColumnDataType="Character" MaximumLength="18"/>
            <RecordGroupColumn Name="CD_EMPRESA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_AUTORIZADOR" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT DISTINCT USUARIO.NM_USUARIO,USUARIO.CD_USUARIO   FROM CCUSTOAUTORIZ,USUARIO  WHERE CCUSTOAUTORIZ.CD_EMPRESA   = :ITEMCOMPRA.CD_EMPRESA    AND CCUSTOAUTORIZ.CD_USUARIO = :GLOBAL.CD_USUARIO    AND CCUSTOAUTORIZ.TP_AUTORIZADOR IN ('A','T')    AND USUARIO.CD_USUARIO = CCUSTOAUTORIZ.CD_USUARIO  ORDER BY USUARIO.NM_USUARIO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="NM_USUARIO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="CD_USUARIO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="3"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PARMOVIMENTNEGOCIO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABIL&amp;#10; WHERE HISTCONTB.CD_HISTCONTB = PARMOVIMENT.CD_HISTCONTB&amp;#10;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;/*   AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC'*/&amp;#10;   AND PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;  /* AND PLANOCONTABIL.CD_NATUREZA =&amp;#10;       NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO)*/&amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PARMOVIMENT" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABIL&amp;#10; WHERE HISTCONTB.CD_HISTCONTB = PARMOVIMENT.CD_HISTCONTB&amp;#10;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;   AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC'&amp;#10;   AND PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND PLANOCONTABIL.CD_NATUREZA =&amp;#10;       NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO),&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'           &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PARMOVIMENT1" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABIL&amp;#10; WHERE HISTCONTB.CD_HISTCONTB = PARMOVIMENT.CD_HISTCONTB&amp;#10;   AND VALIDA_SELECAOCONTA(:ITEMCOMPRA.CD_EMPRESA,&amp;#10;                           :ITEMCOMPRA.CD_ITEM,&amp;#10;                           PARMOVIMENT.CD_MOVIMENTACAO,&amp;#10;                           NULL,&amp;#10;                           'CO') = 'S'&amp;#10;   AND PLANOCONTABIL.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;   AND PLANOCONTABIL.TP_CONTACONTABIL = 'CC'&amp;#10;   AND PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND PLANOCONTABIL.CD_NATUREZA =&amp;#10;       NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO),&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'                &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PARMOVIMENTVERSAO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABILVERSAO&amp;#10; WHERE HISTCONTB.CD_HISTCONTB = PARMOVIMENT.CD_HISTCONTB&amp;#10;   AND PLANOCONTABILVERSAO.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;   AND PLANOCONTABILVERSAO.TP_CONTACONTABIL = 'CC'&amp;#10;   AND PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND PLANOCONTABILVERSAO.CD_NATUREZA =&amp;#10;       NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO)&amp;#10;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB =&amp;#10;       PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:CONTROLE.CD_EMPRESA,&amp;#10;                                                    :GLOBAL.CD_EMPRESA),&amp;#10;                                                TRUNC(SYSDATE))&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO),&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'              &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PARMOVIMENT1VERSAO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, HISTCONTB, PLANOCONTABILVERSAO&amp;#10; WHERE HISTCONTB.CD_HISTCONTB = PARMOVIMENT.CD_HISTCONTB&amp;#10;   AND VALIDA_SELECAOCONTA(:ITEMCOMPRA.CD_EMPRESA,&amp;#10;                           :ITEMCOMPRA.CD_ITEM,&amp;#10;                           PARMOVIMENT.CD_MOVIMENTACAO,&amp;#10;                           NULL,&amp;#10;                           'CO') = 'S'&amp;#10;   AND PLANOCONTABILVERSAO.CD_CONTACONTABIL = HISTCONTB.CD_CONTACONTABIL&amp;#10;   AND PLANOCONTABILVERSAO.TP_CONTACONTABIL = 'CC'&amp;#10;   AND PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND PLANOCONTABILVERSAO.CD_NATUREZA =&amp;#10;       NATUREZA_CENTROCUSTO(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO)&amp;#10;   AND PLANOCONTABILVERSAO.CD_VERSAOPLANOCTB =&amp;#10;       PACK_CONTABIL.RETORNA_VERSAOPLANOCTBEMPR(NVL(:CONTROLE.CD_EMPRESA,&amp;#10;                                                    :GLOBAL.CD_EMPRESA),&amp;#10;                                                TRUNC(SYSDATE))&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO),&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRACCUSTO.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'                 &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_CENTROCUSTO" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT CENTROCUSTO.DS_CENTROCUSTO, CENTROCUSTO.CD_CENTROCUSTO&amp;#10;  FROM CENTROCUSTO, EMPRESACCUSTO&amp;#10; WHERE NVL(ST_CENTROCUSTO, 'A') = 'A'&amp;#10;   AND EMPRESACCUSTO.CD_CENTROCUSTO = CENTROCUSTO.CD_CENTROCUSTO&amp;#10;   AND EMPRESACCUSTO.CD_EMPRESA = NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,:ITEMCOMPRACCUSTO.CD_EMPRESA)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO, NVL(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO, CENTROCUSTO.CD_CENTROCUSTO)),'N') = 'N'&amp;#10; ORDER BY CENTROCUSTO.DS_CENTROCUSTO, CENTROCUSTO.CD_CENTROCUSTO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_CENTROCUSTO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_CENTROCUSTO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="6"/>
        </RecordGroup>
        <RecordGroup Name="LOV_CENTROCUSTOUSUARIO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT CENTROCUSTO.DS_CENTROCUSTO, CENTROCUSTO.CD_CENTROCUSTO&amp;#10;  FROM CENTROCUSTO, EMPRESACCUSTO, CCUSTOAUTORIZ&amp;#10; WHERE NVL(ST_CENTROCUSTO, 'A') = 'A'&amp;#10;   AND EMPRESACCUSTO.CD_CENTROCUSTO = CENTROCUSTO.CD_CENTROCUSTO&amp;#10;   AND EMPRESACCUSTO.CD_CENTROCUSTO = CCUSTOAUTORIZ.CD_CENTROCUSTO&amp;#10;   AND EMPRESACCUSTO.CD_EMPRESA = CCUSTOAUTORIZ.CD_EMPRESA&amp;#10;   AND EMPRESACCUSTO.CD_EMPRESA =&amp;#10;       NVL(:ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST,&amp;#10;           :ITEMCOMPRACCUSTO.CD_EMPRESA)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                            NVL(:ITEMCOMPRACCUSTO.CD_CENTROCUSTO,&amp;#10;                                                CENTROCUSTO.CD_CENTROCUSTO)),&amp;#10;           'N') = 'N'&amp;#10;   AND CCUSTOAUTORIZ.CD_USUARIO = :GLOBAL.CD_USUARIO&amp;#10; ORDER BY CENTROCUSTO.DS_CENTROCUSTO, CENTROCUSTO.CD_CENTROCUSTO&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_CENTROCUSTO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_CENTROCUSTO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_SOLICAUTORIZ" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT S.CD_USUARIO, U.NM_USUARIO, S.ST_SOLICITANTE   FROM SOLICITANTE S, PARMCOMPRA P, USUARIO U  WHERE S.CD_EMPRESA = P.CD_EMPRESA        AND U.CD_USUARIO = S.CD_USUARIO        AND S.ST_SOLICITANTE = P.TP_APROVSOLIC        AND S.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;ORDER BY U.NM_USUARIO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="CD_USUARIO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="3"/>
            <RecordGroupColumn Name="NM_USUARIO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="ST_SOLICITANTE" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="1"/>
        </RecordGroup>
        <RecordGroup Name="LOV_SOLICAUTORIZ_DEPTO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT DISTINCT S.CD_USUARIO, U.NM_USUARIO&amp;#10;  FROM SOLICITANTE S, PARMCOMPRA P, USUARIO U&amp;#10; WHERE S.CD_EMPRESA = P.CD_EMPRESA&amp;#10;   AND U.CD_USUARIO = S.CD_USUARIO&amp;#10;  /*   AND S.ST_SOLICITANTE = P.TP_APROVSOLIC */&amp;#10;   AND S.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;   AND S.CD_USUARIO IN (SELECT AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR &amp;#10;                          FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;                         WHERE (AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO &amp;#10;                                  OR :CONTROLE.CD_DEPARTAMENTO IS NULL)&amp;#10;                          AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'&amp;#10;                          AND  DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO   =      AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO)&amp;#10;ORDER BY U.NM_USUARIO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="CD_USUARIO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
            <RecordGroupColumn Name="NM_USUARIO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ITEMCOMPRA" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT ITEM.DS_ITEM, ITEM.CD_ITEM,  &#x9; ITEMCOMPRA.NR_ITEMCOMPRA,                  ITEMCOMPRA.NR_LOTECOMPRA, &#x9; DECODE (ITEMCOMPRA.ST_ITEMCOMPRA,1, ' Liberado&#x9;     ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    2, ' Recusado&#x9;     ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    3, ' Em Cotação    ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    4, ' Em Negociação ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    5, ' Em Aprovação  ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    6, ' Aprovado      ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    7, ' Pedido Gerado ', &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    99,' Cancelado  ')     FROM ITEMCOMPRA, ITEM  WHERE ITEM.CD_ITEM = ITEMCOMPRA.CD_ITEM      AND ITEMCOMPRA.CD_EMPRESA  &#x9;&#x9;=  :GLOBAL.CD_EMPRESA         AND ITEMCOMPRA.CD_SOLICITANTE  &#x9;=  :GLOBAL.CD_USUARIO  ORDER BY ITEM.DS_ITEM"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_ITEM" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="CD_ITEM" PersistentClientInfoLength="0" ColumnDataType="Number" MaximumLength="8"/>
            <RecordGroupColumn Name="NR_ITEMCOMPRA" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="9"/>
            <RecordGroupColumn Name="NR_LOTECOMPRA" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="9"/>
            <RecordGroupColumn Name="ICRGGQ_0" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="15"/>
        </RecordGroup>
        <RecordGroup Name="LOV_MOVIMENTACAO" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT&amp;#10; WHERE PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND (TRUNC(PARMOVIMENT.DT_CANCELAMENTO) > TRUNC(SYSDATE) OR&amp;#10;       PARMOVIMENT.DT_CANCELAMENTO IS NULL)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRA.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'             &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO&amp;#10;"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_MOVIMENTACAO1" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT PARMOVIMENT.DS_MOVIMENTACAO, PARMOVIMENT.CD_MOVIMENTACAO&amp;#10;  FROM PARMOVIMENT, DUAL&amp;#10; WHERE PARMOVIMENT.TP_PEDIDO = :CONTROLE.TP_PEDIDO&amp;#10;   AND VALIDA_SELECAOCONTA(:CONTROLE.CD_EMPRESA,&amp;#10;                           :ITEMCOMPRA.CD_ITEM,&amp;#10;                           PARMOVIMENT.CD_MOVIMENTACAO,&amp;#10;                           NULL,&amp;#10;                           'CO') = 'S'&amp;#10;   AND (TRUNC(PARMOVIMENT.DT_CANCELAMENTO) > TRUNC(SYSDATE) OR&amp;#10;       PARMOVIMENT.DT_CANCELAMENTO IS NULL)&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_RESTRICAOMOV(:ITEMCOMPRACCUSTO.CD_MOVIMENTACAO,&amp;#10;                                            :ITEMCOMPRACCUSTO.CD_CENTROCUSTO),&amp;#10;           'N') = 'N'&amp;#10;   AND NVL(PACK_COMPRAS.VALIDA_CONTACONTABILMOV(:GLOBAL.CD_EMPRESA,&amp;#10;                                                :ITEMCOMPRA.CD_ITEM,&amp;#10;                                                NVL(:ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;                                                PARMOVIMENT.CD_MOVIMENTACAO)),&amp;#10;           'N') = 'S'            &amp;#10; ORDER BY PARMOVIMENT.DS_MOVIMENTACAO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
        </RecordGroup>
        <RecordGroup Name="LOV_TIPOCOMPRA" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT TIPOCOMPRA.DS_TIPOCOMPRA, TIPOCOMPRA.CD_TIPOCOMPRA    FROM TIPOCOMPRA&amp;#10;WHERE NVL(TIPOCOMPRA.ST_ATIVO,'A') = 'A'"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_TIPOCOMPRA" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="CD_TIPOCOMPRA" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="4"/>
        </RecordGroup>
        <RecordGroup Name="LOV_COMPRAS" PersistentClientInfoLength="0" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT DISTINCT ITEMCOMPRA.CD_EMPRESA,&amp;#10;                ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;                ITEMCOMPRA.QT_PREVISTA,&amp;#10;                ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;                ITEMCOMPRA.CD_SOLICITANTE,&amp;#10;                SOLIC.NM_USUARIO          NM_SOLICITANTE,&amp;#10;                ITEMCOMPRA.CD_AUTORIZADOR,&amp;#10;                AUTORIZ.NM_USUARIO        NM_AUTORIZADOR,&amp;#10;                ITEMCOMPRA.DT_SOLICITACAO&amp;#10;  FROM ITEMCOMPRA, USUARIO AUTORIZ, USUARIO SOLIC&amp;#10; WHERE ITEMCOMPRA.CD_AUTORIZADOR = AUTORIZ.CD_USUARIO(+)&amp;#10;   AND ITEMCOMPRA.CD_SOLICITANTE = SOLIC.CD_USUARIO&amp;#10;   AND ITEMCOMPRA.CD_ITEM        = :ITEMCOMPRA.CD_ITEM&amp;#10;   AND ITEMCOMPRA.CD_EMPRESA     = :ITEMCOMPRA.CD_EMPRESA&amp;#10;   AND (ITEMCOMPRA.ST_ITEMCOMPRA = 1 OR ITEMCOMPRA.ST_ITEMCOMPRA IS NULL)&amp;#10;   AND ITEMCOMPRA.DT_CANCELAMENTO IS NULL"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="CD_EMPRESA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="NR_ITEMCOMPRA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="QT_PREVISTA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="NR_LOTECOMPRA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="23"/>
            <RecordGroupColumn Name="CD_SOLICITANTE" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
            <RecordGroupColumn Name="NM_SOLICITANTE" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_AUTORIZADOR" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
            <RecordGroupColumn Name="NM_AUTORIZADOR" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="DT_SOLICITACAO" DirtyInfo="true" ColumnDataType="Date" MaximumLength="7"/>
        </RecordGroup>
        <RecordGroup Name="LOV_NEGOCIO" PersistentClientInfoLength="0" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT NEGOCIO.DS_NEGOCIO,                NEGOCIO.CD_NEGOCIO    FROM NEGOCIO ORDER BY DS_NEGOCIO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_NEGOCIO" PersistentClientInfoLength="0" ColumnDataType="Character"
                               MaximumLength="60"/>
            <RecordGroupColumn Name="CD_NEGOCIO" PersistentClientInfoLength="0" ColumnDataType="Number"
                               MaximumLength="5"/>
        </RecordGroup>
        <RecordGroup Name="LOV_NEGOCIORATEIO" DirtyInfo="true" RecordGroupFetchSize="20"
                     RecordGroupQuery="SELECT NEGOCIO.DS_NEGOCIO,                NEGOCIO.CD_NEGOCIO    FROM NEGOCIO ORDER BY DS_NEGOCIO"
                     RecordGroupType="Consultar">
            <RecordGroupColumn Name="DS_NEGOCIO" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_NEGOCIO" ColumnDataType="Number" MaximumLength="5"/>
        </RecordGroup>
        <RecordGroup Name="LOV_DEPARTAMENTOCOMPRA" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT RPAD(DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO,700) DS_DEPARTAMENTO, DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;   AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO IN (SELECT SOLICDEPARTCOMPRA.CD_DEPARTAMENTO FROM SOLICDEPARTCOMPRA&amp;#10;                                                WHERE SOLICDEPARTCOMPRA.CD_SOLICITANTE = :GLOBAL.CD_USUARIO)&amp;#10;ORDER BY DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO, RPAD(DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO,700)">
            <RecordGroupColumn Name="DS_DEPARTAMENTO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="700"/>
            <RecordGroupColumn Name="CD_DEPARTAMENTO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="6"/>
        </RecordGroup>
        <RecordGroup Name="LOV_LOTECOMPRA" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT ITEMCOMPRA.CD_EMPRESA,&amp;#10;                ITEMCOMPRA.NR_LOTECOMPRA,&amp;#10;                TRUNC(ITEMCOMPRA.DT_SOLICITACAO) DT_SOLICITACAO,&amp;#10;                ITEMCOMPRA.CD_SOLICITANTE,&amp;#10;                SOLIC.NM_USUARIO NM_SOLICITANTE,&amp;#10;                ITEMCOMPRA.CD_AUTORIZADOR,&amp;#10;                AUTORIZ.NM_USUARIO NM_AUTORIZADOR&amp;#10;  FROM ITEMCOMPRA, USUARIO AUTORIZ, USUARIO SOLIC&amp;#10; WHERE ITEMCOMPRA.CD_AUTORIZADOR = AUTORIZ.CD_USUARIO(+)&amp;#10;   AND ITEMCOMPRA.CD_SOLICITANTE = SOLIC.CD_USUARIO&amp;#10;   AND ITEMCOMPRA.CD_EMPRESA = NVL(:CONS_ITEMCOMPRA.CD_EMPRESA, ITEMCOMPRA.CD_EMPRESA)&amp;#10;   AND ITEMCOMPRA.DT_CANCELAMENTO IS NULL&amp;#10; ORDER BY ITEMCOMPRA.CD_EMPRESA,&amp;#10;          ITEMCOMPRA.NR_LOTECOMPRA  DESC,&amp;#10;          TRUNC(ITEMCOMPRA.DT_SOLICITACAO) DESC">
            <RecordGroupColumn Name="CD_EMPRESA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
            <RecordGroupColumn Name="NR_LOTECOMPRA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="9"/>
            <RecordGroupColumn Name="DT_SOLICITACAO" DirtyInfo="true" ColumnDataType="Date" MaximumLength="7"/>
            <RecordGroupColumn Name="CD_SOLICITANTE" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
            <RecordGroupColumn Name="NM_SOLICITANTE" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_AUTORIZADOR" DirtyInfo="true" ColumnDataType="Character" MaximumLength="3"/>
            <RecordGroupColumn Name="NM_AUTORIZADOR" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="LOV_CONTAORC" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT R.CD_CONTAORCAMENTO, P.NM_CONTAORCAMENTO, R.CD_CONTACONTABIL, PLANOCONTABIL.NM_CONTACONTABIL&amp;#10;  FROM RELACAOCONTASORCCTB R, PLANOCONTASORCAMENTO P , PLANOCONTABIL&amp;#10; WHERE R.CD_CONTACONTABIL = :CONTROLE.CD_CONTACONTABIL&amp;#10;   AND R.CD_CONTAORCAMENTO = P.CD_CONTAORCAMENTO&amp;#10;   AND R.CD_CONTACONTABIL  = PLANOCONTABIL.CD_CONTACONTABIL&amp;#10;">
            <RecordGroupColumn Name="CD_CONTAORCAMENTO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="9"/>
            <RecordGroupColumn Name="NM_CONTAORCAMENTO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_CONTACONTABIL" DirtyInfo="true" ColumnDataType="Number" MaximumLength="9"/>
            <RecordGroupColumn Name="NM_CONTACONTABIL" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ITEMPARMOV" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT ITEMPARMOV.CD_MOVIMENTACAO,PARMOVIMENT.DS_MOVIMENTACAO&amp;#10;  FROM ITEMPARMOV, PARMOVIMENT&amp;#10; WHERE PARMOVIMENT.CD_MOVIMENTACAO = ITEMPARMOV.CD_MOVIMENTACAO&amp;#10;   AND ITEMPARMOV.NR_SEQUENCIAL =  PACK_TCB054.RETORNA_SEQ_ITEMPARMOV(:ITEMCOMPRA.CD_ITEM,&amp;#10;                                                          :CONTROLE.CD_EMPRESA,&amp;#10;                                                          :GLOBAL.CD_USUARIO,&amp;#10;                                                          :GLOBAL.CD_MODULO,&amp;#10;                                                          :GLOBAL.CD_PROGRAMA)">
            <RecordGroupColumn Name="CD_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
            <RecordGroupColumn Name="DS_MOVIMENTACAO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
        </RecordGroup>
        <RecordGroup Name="LOV_PROJETOMONI" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT ESTUDOMONI.NM_ESTUDO,&amp;#10;                ORCAMENTOMONI.CD_ESTUDO,&amp;#10;                ORCAMENTOMONI.CD_PROJETO,&amp;#10;                ORCAMENTOMONI.NR_VERSAO&amp;#10;  FROM PROJETOMONI,&amp;#10;       ESTUDOMONI,&amp;#10;       ORCAMENTOMONI,&amp;#10;       GRUPOMOVIMENTACAOMONI,&amp;#10;       MOVIMENTACAOGRUPOMONI&amp;#10; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;&#x9; AND ORCAMENTOMONI.CD_ESTUDO = PROJETOMONI.CD_ESTUDO&amp;#10;   AND ORCAMENTOMONI.CD_PROJETO = PROJETOMONI.CD_PROJETO&amp;#10;   AND ORCAMENTOMONI.NR_VERSAO = PROJETOMONI.NR_VERSAO&amp;#10;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;       GRUPOMOVIMENTACAOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;       MOVIMENTACAOGRUPOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;   AND PROJETOMONI.NR_VERSAO IN&amp;#10;       (SELECT MAX(NR_VERSAO)&amp;#10;          FROM PROJETOMONI PROJ&amp;#10;         WHERE PROJETOMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;           AND PROJETOMONI.CD_PROJETO = PROJ.CD_PROJETO)">
            <RecordGroupColumn Name="NM_ESTUDO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="100"/>
            <RecordGroupColumn Name="CD_ESTUDO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="11"/>
            <RecordGroupColumn Name="CD_PROJETO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="11"/>
            <RecordGroupColumn Name="NR_VERSAO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="11"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ETAPAMONI" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT ETAPAMONI.CD_ETAPA, ETAPAMONI.DS_ETAPA&amp;#10;  FROM ETAPAMONI,&amp;#10;       PROJETOMONI,&amp;#10;       ESTUDOMONI,&amp;#10;       ORCAMENTOMONI,&amp;#10;       GRUPOMOVIMENTACAOMONI,&amp;#10;       MOVIMENTACAOGRUPOMONI&amp;#10; WHERE PROJETOMONI.CD_ESTUDO = ESTUDOMONI.CD_ESTUDO&amp;#10;   AND ORCAMENTOMONI.CD_ESTUDO = PROJETOMONI.CD_ESTUDO&amp;#10;   AND ORCAMENTOMONI.CD_PROJETO = PROJETOMONI.CD_PROJETO&amp;#10;   AND ORCAMENTOMONI.NR_VERSAO = PROJETOMONI.NR_VERSAO&amp;#10;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;       GRUPOMOVIMENTACAOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO =&amp;#10;       MOVIMENTACAOGRUPOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;   AND PROJETOMONI.CD_ESTUDO = ETAPAMONI.CD_ESTUDO&amp;#10;   AND PROJETOMONI.CD_PROJETO = ETAPAMONI.CD_PROJETO&amp;#10;   AND PROJETOMONI.NR_VERSAO = ETAPAMONI.NR_VERSAO&amp;#10;   AND ETAPAMONI.CD_ETAPA = ORCAMENTOMONI.CD_ETAPA&amp;#10;   AND PROJETOMONI.CD_PROJETO = :PROJETOITEMCOMPRA.CD_PROJETO&amp;#10;   AND ETAPAMONI.NR_VERSAO IN&amp;#10;       (SELECT MAX(NR_VERSAO)&amp;#10;          FROM PROJETOMONI PROJ&amp;#10;         WHERE ETAPAMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;           AND ETAPAMONI.CD_PROJETO = PROJ.CD_PROJETO)">
            <RecordGroupColumn Name="CD_ETAPA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="11"/>
            <RecordGroupColumn Name="DS_ETAPA" DirtyInfo="true" ColumnDataType="Character" MaximumLength="100"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ANOSAFRA" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT ANOSAFRA.NR_SEQUENCIAL, ANOSAFRA.DS_ANOSAFRA, ANOSAFRA.DT_ANOSAFRA, ANOSAFRA.DT_INISAFRA, ANOSAFRA.DT_FIMSAFRA, ANOSAFRA.CD_EMPRESA FROM ANOSAFRA  WHERE ANOSAFRA.CD_EMPRESA = :CONTROLE.CD_EMPRESA ORDER BY ANOSAFRA.DS_ANOSAFRA">
            <RecordGroupColumn Name="NR_SEQUENCIAL" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
            <RecordGroupColumn Name="DS_ANOSAFRA" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="DT_ANOSAFRA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
            <RecordGroupColumn Name="DT_INISAFRA" DirtyInfo="true" ColumnDataType="Date" MaximumLength="7"/>
            <RecordGroupColumn Name="DT_FIMSAFRA" DirtyInfo="true" ColumnDataType="Date" MaximumLength="7"/>
            <RecordGroupColumn Name="CD_EMPRESA" DirtyInfo="true" ColumnDataType="Number" MaximumLength="5"/>
        </RecordGroup>
        <RecordGroup Name="LOV_DEPCOMPRAAUTO" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT DISTINCT RPAD(DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO, 700) DS_DEPARTAMENTO,&amp;#10;                DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO =&amp;#10;       DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = NVL(:CONTROLE.CD_AUTORIZADOR, :GLOBAL.CD_USUARIO)&amp;#10;   AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'&amp;#10; ORDER BY DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO,&amp;#10;          RPAD(DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO, 700)&amp;#10;">
            <RecordGroupColumn Name="DS_DEPARTAMENTO" DirtyInfo="true" ColumnDataType="Character" MaximumLength="700"/>
            <RecordGroupColumn Name="CD_DEPARTAMENTO" DirtyInfo="true" ColumnDataType="Number" MaximumLength="6"/>
        </RecordGroup>
        <RecordGroup Name="LOV_ITEMPRECOMPRA" DirtyInfo="true" RecordGroupFetchSize="0"
                     RecordGroupQuery="SELECT ITEM.DS_ITEM,&amp;#10;       ITEM.CD_ITEM&amp;#10;  FROM ITEM&amp;#10; ORDER BY ITEM.DS_ITEM">
            <RecordGroupColumn Name="DS_ITEM" DirtyInfo="true" ColumnDataType="Character" MaximumLength="60"/>
            <RecordGroupColumn Name="CD_ITEM" DirtyInfo="true" ColumnDataType="Number" MaximumLength="8"/>
        </RecordGroup>
        <Trigger Name="WHEN-NEW-FORM-INSTANCE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="DECLARE&amp;#10;--&#x9;I_CD_EMPRESA       USUARIOEMPRESA.CD_EMPRESA%TYPE;&amp;#10;&#x9;I_ST_SOLICITANTE   SOLICITANTE.ST_SOLICITANTE%TYPE;&amp;#10; --&#x9;V_ST_LANCAMOV      PARMCOMPRA.ST_LANCAMOV%TYPE;&amp;#10;&#x9;I_MENSAGEM         VARCHAR2(2000);&amp;#10;&#x9;V_MENSAGEM         VARCHAR2(2000);&amp;#10;&#x9;V_CD_USUARIO       USUARIO.CD_USUARIO%TYPE;&amp;#10;&#x9;E_GERAL            EXCEPTION;&amp;#10;  X                  NUMBER;&amp;#10;  Y &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   NUMBER;&amp;#10;  V_ST_VALIDACCUSTO  VARCHAR2(32000);&amp;#10;&#x9;V_ST_INCLUI        BOOLEAN;&amp;#10;&#x9;V_ST_ALTERA        BOOLEAN;&amp;#10;&#x9;V_ST_EXCLUI        BOOLEAN;&amp;#10;  V_VL_PARAMETRO&#x9;&#x9; VARCHAR2(10);&amp;#10;  V_ST_APROVSOLIC    VARCHAR2(1);&amp;#10;  V_ST_ALCADASDEPTO  VARCHAR2(1);&#x9;&amp;#10;&#x9;V_COUNTITEMCOMPRA  NUMBER; /*MHU:05/05/2020:135245*/&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;:GLOBAL.CD_PROGRAMA := 'COM'; &amp;#10;&#x9;:GLOBAL.CD_MODULO := 1;&amp;#10;&#x9;SET_WINDOW_PROPERTY(FORMS_MDI_WINDOW,WINDOW_STATE,MAXIMIZE);&amp;#10;&#x9;SET_WINDOW_PROPERTY(FORMS_MDI_WINDOW,TITLE,'MAXYS - SISTEMA DE GESTÃO CORPORATIVA                                                                                  MAXICON SYSTEMS');&amp;#10;&#x9;SET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',WINDOW_STATE,NORMAL);&amp;#10;&#x9;SET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',POSITION,0,1);&amp;#10;&#x9;SET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',WINDOW_SIZE,1012,562);&amp;#10;&#x9;SET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',TITLE,:SYSTEM.CURRENT_FORM||' - '||:GLOBAL.DS_PROGRAMA||'                                                   '||:GLOBAL.CD_EMPRESA||'   '||:GLOBAL.CD_USUARIO||' - '||:GLOBAL.NM_USUARIO);&amp;#10;&amp;#10;&#x9;X := TRUNC(GET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',WIDTH)/2) - TRUNC(GET_WINDOW_PROPERTY('WIN_SEL',WIDTH) / 2);&amp;#10;&#x9;Y := TRUNC(GET_WINDOW_PROPERTY('WIN_ITEMCOMPRA',HEIGHT)/2) - TRUNC(GET_WINDOW_PROPERTY('WIN_SEL',HEIGHT) / 2);&amp;#10;&#x9;Y := Y - TRUNC(Y * 0.30);&amp;#10;&#x9;SET_WINDOW_PROPERTY('WIN_SEL',POSITION,X,Y);&amp;#10;&#x9;&amp;#10;  SET_MENU_ITEM_PROPERTY('TOOLBAR.GRAVA',ENABLED,PROPERTY_FALSE);&amp;#10;  SET_MENU_ITEM_PROPERTY('TOOLBAR.NOVO',ENABLED,PROPERTY_FALSE);&amp;#10;  SET_MENU_ITEM_PROPERTY('TOOLBAR.EXCLUI',ENABLED,PROPERTY_FALSE);&amp;#10;  &amp;#10;  /** WLV:13/08/2012:41514&amp;#10;&#x9;  * Trecho de código para desabilitar o campo DS_ITEMSERVICO quando é inicializado o programa&amp;#10;&#x9;  */   &amp;#10;&#x9;MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','D');&amp;#10;&#x9;  &amp;#10;  /*SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO' ,ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO' ,REQUIRED,PROPERTY_FALSE);&amp;#10;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOEXIBICAO');&amp;#10;&#x9;SET_ITEM_PROPERTY ('ITEMCOM PRA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_PLAIN);*/&amp;#10;  &amp;#10;  :GLOBAL.CD_PROGRAMA := 1;&amp;#10;  :GLOBAL.CD_MODULO   := 'COM';&amp;#10;  &amp;#10;  V_ST_INCLUI := PACK_VALIDA.VAL_PERMISSAO('I',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA);&amp;#10;  V_ST_ALTERA := PACK_VALIDA.VAL_PERMISSAO('A',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA);&amp;#10;  V_ST_EXCLUI := PACK_VALIDA.VAL_PERMISSAO('E',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA);&amp;#10;  &amp;#10;  IF (V_ST_ALTERA OR V_ST_INCLUI OR V_ST_EXCLUI) THEN&#x9;&amp;#10;&#x9;&#x9;IF (V_ST_ALTERA OR V_ST_INCLUI) THEN&amp;#10;&#x9;&#x9;&#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.GRAVA',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF (V_ST_INCLUI) THEN&amp;#10;&#x9;&#x9;&#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.NOVO',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;IF (V_ST_EXCLUI) THEN&amp;#10;    &#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.EXCLUI',ENABLED,PROPERTY_TRUE);&amp;#10;  &#x9;END IF;&#x9;&amp;#10;  END IF;&amp;#10;  ------------------------------------------------------------------------------------------------------------------&amp;#10;  ------------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.IMPRIME',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.PESQUISA',ENABLED,PROPERTY_FALSE);&#x9;&amp;#10;&#x9;SET_MENU_ITEM_PROPERTY('TOOLBAR.CONSULTA',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.V_DUPLICADO := FALSE; /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;-------------------------------------------------------&amp;#10;&#x9;&#x9;-- SELECIONA O TIPO DE APROVADOR SE SOLICITACAO (S/N)--&amp;#10;&#x9;&#x9;-------------------------------------------------------&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT ST_APROVSOLIC, TP_APROVSOLIC, NVL(ST_VALIDACCUSTO,'N')&amp;#10;&#x9;&#x9;&#x9;&#x9;INTO PACK_GLOBAL.ST_APROVSOLIC, PACK_GLOBAL.TP_APROVSOLIC, PACK_GLOBAL.ST_VALIDACCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Os parâmetros de compras não estão cadastrados no COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3470,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;/**GRA:26/09/2007:17137&amp;#10;&#x9;&#x9; * Está sendo atribuido o valor da PACK_GLOBAL.TP_SELECAOCONTA&amp;#10;&#x9;&#x9; * para o próprio campo.&amp;#10;&#x9;&#x9; */&#x9;&#x9;&amp;#10;&#x9;&#x9; &amp;#10;&#x9;&#x9; /* CSL:24771:26/02/10 - Mensagem alterada para referenciar campo &quot;Filtro de seleção de Conta&quot; no programa REC010, page Geral*/&amp;#10;&#x9;&#x9; -- VERIFICA A OPÇÃO &quot;FILTRO DE SELEÇÃO DE CONTA&quot; NA PAGE GERAL DO REC010&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT TP_SELECAOCONTA&amp;#10;&#x9;&#x9;&#x9;&#x9;INTO PACK_GLOBAL.TP_SELECAOCONTA&amp;#10;&#x9;&#x9;&#x9;&#x9;FROM PARMRECEB&amp;#10;&#x9;&#x9;&#x9; WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Parâmetros de conta por item não cadastrados para a Empresa ¢CD_EMPRESA¢! Verifique o programa REC010, page Geral e campo &quot;Filtro de seleção de conta&quot;.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4681,'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT CD_TIPOPEDIDO &amp;#10;&#x9;&#x9;&#x9;  INTO PACK_GLOBAL.TP_PEDIDO&amp;#10;&#x9;&#x9;&#x9;  FROM TIPOPEDPROGRAMA&amp;#10;&#x9;&#x9;&#x9; WHERE CD_MODULO   = 'COM'&amp;#10;&#x9;&#x9;&#x9;   AND CD_PROGRAMA =  4;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Tipo de Pedido não cadastrado para o Programa ¢CD_MODULO¢¢CD_PROGRAMA¢. Verifique ANV008.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(422,'¢CD_MODULO='||'COM'||'¢CD_PROGRAMA='||'4'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;--PHS:52886:21/12/2012&#x9;&amp;#10;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;  --Tipo de Pedido cadastrado Várias Vezes para o Programa ¢CD_MODULO¢¢CD_PROGRAMA¢. Verifique ANV008.&amp;#10;        I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(423,'¢CD_MODULO='||'COM'||'¢CD_PROGRAMA='||'4'||'¢'); &amp;#10;        RAISE E_GERAL;&amp;#10;      WHEN OTHERS THEN&amp;#10;        --Erro ao pesquisar tipo de pedido para o Programa ¢CD_MODULO¢¢CD_PROGRAMA¢. Verifique ANV008. Erro: ¢SQLERRM¢.&amp;#10;        I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(918,'¢CD_MODULO='||'COM'||'¢CD_PROGRAMA='||'4'||'¢SQLERRM='||SQLERRM||'¢'); &amp;#10;        RAISE E_GERAL;&#x9;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;-------------------------------------------------------------------&amp;#10;&#x9;&#x9;--HUS:31/05/2012:40331&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT DISTINCT SOLICITANTE.ST_SOLICITANTE &amp;#10;&#x9;&#x9;&#x9;&#x9;INTO I_ST_SOLICITANTE&amp;#10;&#x9;&#x9;&#x9;  FROM SOLICITANTE&amp;#10;&#x9;&#x9;&#x9; WHERE SOLICITANTE.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;   AND SOLICITANTE.CD_USUARIO = :GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;   AND SOLICITANTE.ST_SOLICITANTE = 'S'; &amp;#10;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;I_ST_SOLICITANTE := 'R';&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF I_ST_SOLICITANTE = 'R' THEN&amp;#10;&#x9;&#x9;&#x9;--Usuário ¢CD_SOLICITANTE¢ não cadastrado como solicitante para a empresa ¢CD_EMPRESA¢. Verifique TCO002.&amp;#10;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4517,'¢CD_SOLICITANTE='||:GLOBAL.CD_USUARIO||'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;ELSIF (I_ST_SOLICITANTE = 'T') OR (I_ST_SOLICITANTE = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;IF :GLOBAL.NR_ITEMCOMPRA IS NOT NULL AND :GLOBAL.V_CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;SET_BLOCK_PROPERTY('ITEMCOMPRA', DEFAULT_WHERE, 'NR_ITEMCOMPRA = '||:GLOBAL.NR_ITEMCOMPRA||' AND CD_EMPRESA = '|| :GLOBAL.V_CD_EMPRESA);&amp;#10;&#x9;&#x9;&#x9;&#x9;EXECUTE_QUERY(NO_VALIDATE);&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_GRUPO_NEGOCIO.CRIA_GRUPO_NEGOCIO;&amp;#10;&#x9;  --Cria o grupo de centro de custo &amp;#10;&#x9;&#x9;PACK_GRUPO.CRIA_GRUPO_CC;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_GRUPO.CRIA_GRUPO_LOVCC;&amp;#10;&#x9;  :GLOBAL.V_GRUPO_CC := NULL;&amp;#10;&#x9;&#x9;-----------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;-----------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;/**RSS:21/12/2007:17745&amp;#10;&#x9;&#x9; * VERIFICA A OPÇÃO SELECIONADA NA PAGE VALIDAÇÃO DO COM009 &quot;VALIDA AUTORIZADOR&quot;...&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT NVL(ST_VALIDACCUSTO,'N')&amp;#10;&#x9;&#x9;    INTO V_ST_VALIDACCUSTO &amp;#10;&#x9;&#x9;    FROM PARMCOMPRA&amp;#10;&#x9;&#x9;   WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN &amp;#10;&#x9;      NULL;&amp;#10;&#x9;    WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;      V_ST_VALIDACCUSTO := NULL;&amp;#10;&#x9;    WHEN OTHERS THEN&amp;#10;&#x9;    &#x9;NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;/**RSS:21/12/2007:17745&amp;#10;&#x9;&#x9; * APARTIR DO TIPO DE AUTORIZADOR, SERÁ DESABILITADO OU NAO O AUTORIZADOR DO CENTRO DE CUSTO..&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;IF V_ST_VALIDACCUSTO = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',ENABLED,PROPERTY_FALSE);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;/*ATR:115974:26/12/2017*/&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF PACK_GLOBAL.ST_APROVSOLIC = 'S' AND NVL(PACK_GLOBAL.ST_VALIDACCUSTO,'N') IN ('C','A') &amp;#10;&#x9;&#x9;&#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',PROMPT_FONT_STYLE,FONT_UNDERLINE);&amp;#10;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRACCUSTO.CD_AUTORIZADOR',PROMPT_FONT_STYLE,FONT_PLAIN);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;&#x9;/** ALE:25/11/2011:36255&amp;#10;&#x9;&#x9; *&#x9;O Campo número do contrato só poderá ficar habilitado quando for efetuado uma compra&amp;#10;&#x9;&#x9; *&#x9;do tipo &quot;Juridica&quot;. O tipo do tipo da compra é definido no TCO020.&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;:CONTROLE.NR_CONTRATO &#x9;:= NULL;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',     &#x9;&#x9;&#x9;ENABLED, PROPERTY_FALSE);&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO',      &#x9;NAVIGABLE, PROPERTY_FALSE);&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY ('CONTROLE.NR_CONTRATO', VISUAL_ATTRIBUTE, 'VSA_CAMPOEXIBICAO');&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;-------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;-------------------------------------------------------------------------------------------------------------&amp;#10;&#x9;&amp;#10;&#x9;/** WLV:15/08/2012:41514&amp;#10;&#x9;  * Adicionado para que o programa verifique se no COM009 esta marcado o parâmetro &quot;obriga informar observação no&amp;#10;&#x9;  * cadastro de solicitações&quot; e caso o mesmo estiver marcado irá sublinhar o campo Observação.&amp;#10;&#x9;  */  &amp;#10;  BEGIN&amp;#10;&#x9;  SELECT PARMGENERICO.VL_PARAMETRO&amp;#10;      INTO V_VL_PARAMETRO&amp;#10;      FROM PARMGENERICO&amp;#10;     WHERE PARMGENERICO.CD_PROGRAMA = 9&amp;#10;&#x9;&#x9;&#x9; AND PARMGENERICO.CD_MODULO   = 'COM'&amp;#10;       AND CD_VERSAOPARMGEN = :GLOBAL.CD_EMPRESA&amp;#10;       AND RETORNA_VALORSTRING(NM_PARAMETRO,1,'#') = 'ST_OBRIGAOBS';&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;    V_VL_PARAMETRO := NULL;&amp;#10;    WHEN OTHERS THEN &amp;#10;      V_VL_PARAMETRO := NULL;&amp;#10;&#x9;END; &amp;#10;  &amp;#10;  IF NVL(V_VL_PARAMETRO, 'N') = 'S' THEN&amp;#10;&#x9;  SET_ITEM_PROPERTY('ITEMCOMPRA.DS_OBSERVACAO', PROMPT_FONT_STYLE, FONT_UNDERLINE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('ITEMCOMPRA.DS_OBSERVACAO', PROMPT_FONT_STYLE, FONT_NORMAL);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;----------------------------------------------------------------------&amp;#10; &#x9;--verifica o Autorizador&amp;#10;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;BEGIN &amp;#10;&#x9;  SELECT ST_APROVSOLIC&amp;#10;&#x9;    INTO V_ST_APROVSOLIC&amp;#10;&#x9;    FROM PARMCOMPRA&amp;#10;&#x9;   WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;    NULL;&amp;#10;&#x9;END;&#x9;&#x9;&#x9;&amp;#10;&#x9;V_ST_ALCADASDEPTO := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO'),'N');&amp;#10;&#x9;/*ATR:115974:26/12/2017*/&amp;#10;&#x9;IF (NVL(V_ST_APROVSOLIC,'N') = 'S' OR NVL(V_ST_ALCADASDEPTO,'N') = 'S') &amp;#10;&#x9;&#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N'  THEN&amp;#10;&#x9;  SET_ITEM_PROPERTY('CONTROLE.CD_AUTORIZADOR', PROMPT_FONT_STYLE, FONT_UNDERLINE);&amp;#10;&#x9;ELSE&amp;#10;&#x9;  SET_ITEM_PROPERTY('CONTROLE.CD_AUTORIZADOR',PROMPT_FONT_STYLE,FONT_PLAIN);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;--Verifica o Departamento&amp;#10;&#x9;IF V_ST_ALCADASDEPTO = 'S' AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PERMITEAPROVADORES'),'N') = 'S' THEN&amp;#10;&#x9;  SET_ITEM_PROPERTY('CONTROLE.CD_DEPARTAMENTO', PROMPT_FONT_STYLE, FONT_UNDERLINE);&amp;#10;&#x9;  &amp;#10;&#x9;  --Sugere o Departamento de Compra, caso possuir apenas um cadastrado para o usuário solicitante logado&amp;#10;&#x9;&#x9;BEGIN&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;SELECT SOLICDEPARTCOMPRA.CD_DEPARTAMENTO, DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;  INTO :CONTROLE.CD_DEPARTAMENTO, :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;  FROM SOLICDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;   AND SOLICDEPARTCOMPRA.CD_SOLICITANTE  = :GLOBAL.CD_USUARIO;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;        SYNCHRONIZE;&amp;#10;&#x9;&#x9;&#x9;  --O Usuário ¢CD_SOLICITANTE¢ não está cadastrado como solicitante de Departamento de Compra. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21661, '¢CD_SOLICITANTE='||:GLOBAL.CD_USUARIO||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;  :CONTROLE.CD_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;&#x9;  :CONTROLE.DS_DEPARTAMENTO := NULL;&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT USUARIO.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA, SOLICDEPARTCOMPRA, USUARIO&amp;#10;         WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;           AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR  = USUARIO.CD_USUARIO&amp;#10;        --   AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = SOLICDEPARTCOMPRA.CD_DEPARTAMENTO&amp;#10;         --  AND SOLICDEPARTCOMPRA.CD_SOLICITANTE    = :GLOBAL.CD_USUARIO   &amp;#10;           AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR  = :GLOBAL.CD_USUARIO         &amp;#10;           AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;           AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'; --Aprovador de Necedssidade&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_CD_USUARIO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  :CONTROLE.CD_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  :CONTROLE.NM_USUAUTORIZ  := NULL;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;--Sugere um Usuário Aprovador de Necessidade como Autorizador, caso possuir apenas um cadastrado&amp;#10;&#x9;&#x9;&#x9;IF V_CD_USUARIO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;      SELECT DISTINCT USUARIO.CD_USUARIO, USUARIO.NM_USUARIO&amp;#10;&#x9;&#x9;        INTO :CONTROLE.CD_AUTORIZADOR, :CONTROLE.NM_USUAUTORIZ&amp;#10;&#x9;&#x9;        FROM SOLICITANTE, PARMCOMPRA, USUARIO &amp;#10;&#x9;&#x9;       WHERE SOLICITANTE.CD_EMPRESA     = PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;         AND USUARIO.CD_USUARIO         = SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;         AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.TP_APROVSOLIC&amp;#10;&#x9;&#x9;         AND SOLICITANTE.CD_USUARIO     = V_CD_USUARIO&amp;#10;&#x9;&#x9;         AND PARMCOMPRA.CD_EMPRESA      = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;      EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :CONTROLE.CD_AUTORIZADOR := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;      :CONTROLE.NM_USUAUTORIZ  := NULL;&amp;#10;&#x9;&#x9;      END;&amp;#10;&#x9;&#x9;  IF(:CONTROLE.CD_AUTORIZADOR IS NOT NULL)THEN&amp;#10;&#x9;&#x9;  &#x9;:ITEMCOMPRA.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;&#x9;VALIDA_AUTORIZADORCOMPRA(:ITEMCOMPRA.CD_AUTORIZADOR, V_MENSAGEM);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF(V_MENSAGEM  IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := V_MENSAGEM;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  &#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;  END IF;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;  &amp;#10;--/*EML:29/07/2019:13058&#x9;ELSE &amp;#10;&#x9;--&#x9;SET_ITEM_PROPERTY('CONTROLE.CD_DEPARTAMENTO', PROMPT_FONT_STYLE, FONT_NORMAL);&amp;#10;--&#x9;  PACK_TELA.DESABILITA_ITEM('CONTROLE.CD_DEPARTAMENTO');&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/* DCS:11/02/2014:58880&amp;#10;&#x9; * o tipo de compra será buscado automático pelo cadastrado no TCO20, &amp;#10;&#x9; pela diferença de dias entre a data de Emissão e data Prevista&amp;#10;&#x9; */&amp;#10;&#x9;IF NVL(PACK_COMPRAS.VALIDA_TIPOCOMPRAUTOMATICO,'N') = 'S' THEN&amp;#10;&#x9;  PACK_TELA.DESABILITA_ITEM('CONTROLE.CD_TIPOCOMPRA');&amp;#10;&#x9;  SET_ITEM_PROPERTY('CONTROLE.CD_TIPOCOMPRA', PROMPT_FONT_STYLE, FONT_NORMAL);&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.CD_TIPOCOMPRA', PROMPT_FONT_STYLE, FONT_UNDERLINE);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF :PARAMETER.DS_PROCESSO = 'PRODUCAO' THEN&amp;#10;&#x9;&#x9;FOR I IN (SELECT DISTINCT ITEM_TMP.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;FROM ITEM_TMP&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9; WHERE NVL(ITEM_TMP.NR_AGRUPAMENTO,1) = NVL(:PARAMETER.NR_AGRUPAMENTO,0) ) LOOP&amp;#10;&#x9;&#x9;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;  GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;  IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;NEXT_RECORD;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;  GO_ITEM('ITEMCOMPRA.CD_ITEM');&amp;#10;&#x9;&#x9;&#x9;  :ITEMCOMPRA.CD_ITEM := I.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;  EXECUTE_TRIGGER('WHEN-VALIDATE-ITEM');&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;EXIT;&amp;#10;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9; &#x9;&#x9; &#x9;&amp;#10;    END LOOP;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9; &#x9; &amp;#10;&#x9;END IF;&#x9;&amp;#10;&amp;#10;&#x9;--FJC:05/07/2018:121701&amp;#10;&#x9;IF :CONTROLE.CD_TIPOCOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;SELECT TIPOCOMPRA.CD_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;       TIPOCOMPRA.DS_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(TIPOCOMPRA.TP_COMPRA,'D') TP_COMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; DECODE(TIPOCOMPRA.TP_COMPRA,'D','DIVERSAS',&amp;#10;&#x9;&#x9;&#x9;                                   'P','PATRIMONIAL',&amp;#10;&#x9;&#x9;&#x9;                                   'J','JURÍDICA',&amp;#10;&#x9;&#x9;&#x9;                                   'DIVERSAS') DS_TPCOMPRA&amp;#10;&#x9;&#x9;&#x9;  INTO :CONTROLE.CD_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;       :CONTROLE.DS_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9; :CONTROLE.TP_COMPRA,&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9; :CONTROLE.DS_TPCOMPRA&amp;#10;&#x9;&#x9;&#x9; &#x9;FROM TIPOCOMPRA&amp;#10;&#x9;&#x9;&#x9; WHERE NVL(TIPOCOMPRA.ST_ATIVO,'A') = 'A';&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.CD_TIPOCOMPRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_TIPOCOMPRA := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.TP_COMPRA     := NULL; &amp;#10;&#x9;&#x9;&#x9;&#x9;:CONTROLE.DS_TPCOMPRA   := NULL;&amp;#10;&#x9;&#x9;END;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;/*AUG:130776:20/02/2019*/&amp;#10;&#x9;IF :PARAMETER.CD_MODULO = 'EMV' AND&amp;#10;&#x9;&#x9; :PARAMETER.CD_PROGRAMA = 78  THEN&amp;#10;&#x9;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.CARREGA_PEDIDOINTERNO_EMV078;&amp;#10;&#x9;&amp;#10;&#x9;END IF;&amp;#10;&#x9;/* ASF:26/03/2019:132689 */ &amp;#10;&#x9;PACK_PROCEDIMENTOS.CARREGA_ITENSSOLICCOMPRA_TMP;&amp;#10;&amp;#10;&#x9;BEGIN&amp;#10;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;INTO V_COUNTITEMCOMPRA&amp;#10;&#x9;&#x9;  FROM PREITEMCOMPRA&amp;#10;&#x9;&#x9; WHERE PREITEMCOMPRA.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;   AND PREITEMCOMPRA.ST_PREITEMCOMPRA = '1';&#x9;&#x9;&amp;#10;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;  V_COUNTITEMCOMPRA := 0;&amp;#10;&#x9;END;&amp;#10;&#x9;&amp;#10;&#x9;IF (V_COUNTITEMCOMPRA > 0) THEN&amp;#10;&#x9;&#x9;GO_ITEM('PREITEMCOMPRA.NR_ITEMCOMPRA');&amp;#10;&#x9;&#x9;CENTRALIZA_FORM('WIN_ITEMCOMPRA', 'WIN_PREITEMCOMPRA');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PREITEMCOMPRA.CARREGA_PREITEMCOMPRA(I_MENSAGEM);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF (I_MENSAGEM IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;  END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Precaução',I_MENSAGEM,3);&amp;#10;&#x9;&#x9;EXIT_FORM(NO_VALIDATE);&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;EXIT_FORM(NO_VALIDATE);&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-COMMIT" TriggerInternalType="0" PersistentClientInfoLength="0" DirtyInfo="true" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="DECLARE&amp;#10;&#x9;V_ST_OBRIGCONFIRMCOMPRA&#x9;&#x9;&#x9;  PARMCOMPRA.ST_OBRIGCONFIRMCOMPRA%TYPE; --ALE:25/11/2011:36255 - Parâmetro &quot;Obrigar Confirmação da Compra.&quot; da página &quot;Validações&quot; do COM009.&amp;#10;&#x9;--I_CD_CENTROCUSTO  &#x9;          ITEMCOMPRACCUSTO.CD_CENTROCUSTO%TYPE;  &amp;#10;&#x9;I_ST_ITEMCOMPRA   &#x9;          ITEMCOMPRACCUSTO.ST_ITEMCOMPRA%TYPE;&amp;#10;&#x9;V_ST_ITEMCOMPRA   &#x9;          ITEMCOMPRACCUSTO.ST_ITEMCOMPRA%TYPE;&amp;#10;&#x9;V_DS_OBSERVACAO               ITEMCOMPRACCUSTO.DS_OBSERVACAO%TYPE;&amp;#10;&#x9;I_TP_ITEM         &#x9;          VARCHAR2(1);&amp;#10;&#x9;I_DT_LIBERACAO    &#x9;          ITEMCOMPRA.DT_LIBERACAO%TYPE;&amp;#10;&#x9;V_DT_LIBERACAO    &#x9;          ITEMCOMPRA.DT_LIBERACAO%TYPE;&amp;#10;&#x9;CONTADOR          &#x9;          NUMBER := 0;&amp;#10;&#x9;I_MENSAGEM        &#x9;          VARCHAR2(32000);&amp;#10;&#x9;E_GERAL           &#x9;          EXCEPTION;&amp;#10;&#x9;E_SAIDA&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  EXCEPTION;&amp;#10;  V_INFORMACAO                  VARCHAR2(32000);&amp;#10;&#x9;V_NR_ITEMCOMPRA  &#x9; &#x9;          NUMBER;&amp;#10;&#x9;V_NR_ITEMCOMPRA_U &#x9;          NUMBER;&amp;#10;&#x9;V_NR_ITEMCOMPRA_AUX  &#x9; &#x9;      ITEMCOMPRA.NR_ITEMCOMPRA%TYPE;&amp;#10;&#x9;V_CD_OPERESTOQUE  &#x9;          CMI.CD_OPERESTOQUE%TYPE;&amp;#10;  V_ST_APROVSOLIC         &#x9;    VARCHAR2(1);&amp;#10;  V_ST_ALCADASDEPTO             VARCHAR2(1);&amp;#10;  V_CAMPO           &#x9;          VARCHAR2(60);&amp;#10;  V_CD_CENTROCUSTO              NUMBER;&amp;#10;  V_CD_NEGOCIO                  NUMBER;/*CSL:21/12/2010:30317*/&amp;#10;  V_CD_MOVIMENTACAO             NUMBER;&amp;#10;  V_QT_PEDIDAUNIDSOL            NUMBER;&amp;#10;  V_PC_PARTICIPACAO             NUMBER;&amp;#10;  V_CD_AUTORIZADOR              VARCHAR2(10); &amp;#10;  NR_REG                        NUMBER;&amp;#10;  I_NR_LOTECOMPRA&#x9;&#x9;            NUMBER;&amp;#10;  V_QT_PONTOPEDIDO              NUMBER;&amp;#10;  V_QT_ESTOQUEFISICO            NUMBER;&amp;#10;  V_QT_ESTOQUEPONTOPEDIDO       NUMBER;&amp;#10;&#x9;V_CD_EMPRLANCTO               EMPRESA.CD_EMPRESA%TYPE;    &amp;#10;&#x9;V_CD_EMPRCENTRALIZ            EMPRESA.CD_EMPRESA%TYPE;    &amp;#10;&#x9;V_CD_SOLCCUSTO                CCUSTOAUTORIZ.CD_USUARIO%TYPE;&amp;#10;&#x9;V_CD_CCUSTO                   CENTROCUSTO.CD_CENTROCUSTO%TYPE;&amp;#10;&#x9;V_ST_ENVIAEMAIL               VARCHAR2(1);&amp;#10;  V_ST_BLOQUEIONIVEL            NUMBER;  --RBM: 24044: 17/12/2009&amp;#10; -- V_ST_INCLUI                   BOOLEAN := FALSE;&amp;#10;  --V_ST_ALTERA                   BOOLEAN := FALSE;&amp;#10;  V_CD_EMPRCCUSTODEST&#x9;          EMPRESA.CD_EMPRESA%TYPE;&amp;#10;  V_COUNT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NUMBER;&amp;#10;  V_ALERT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NUMBER;  --WLV:07/02/2012:40906&#x9;&amp;#10;  V_FLAG  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NUMBER;  --WLV:07/02/2012:40906&#x9;  &#x9;&#x9; &amp;#10;&#x9;V_FLAG2&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;  --WLV:14/02/2012:40906&#x9; &#x9;&amp;#10;  V_RETORNO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;BOOLEAN; --WLV:15/02/2012:40906&amp;#10;  V_RECORD  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NUMBER;&amp;#10;  V_CD_EMPRESA &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EMPRESA.CD_EMPRESA%TYPE;&amp;#10;  V_ITENS                     &#x9;VARCHAR2(32000);&amp;#10;  V_ST_BLOQUEIO               &#x9;VARCHAR2(1);&amp;#10;  V_MSG_BLOQUEIO              &#x9;VARCHAR2(32000);&amp;#10;  V_CD_CONTAORCAMENTO         &#x9;NUMBER; &amp;#10;  V_MENSAGEMFINAL             &#x9;VARCHAR2(32000);&amp;#10;  V_ST_BLOQUEIOFINAL          &#x9;VARCHAR2(32000) := 'N';&amp;#10;  V_CONTEXTO             &#x9;&#x9;&#x9;&#x9;PACK_INTEGRACAOPAA.T_CONTEXTO;/*ANS:05/06/2017:110683*/&amp;#10;  V_ID_PROCESSO          &#x9;&#x9;&#x9;&#x9;NUMBER;/*ANS:05/06/2017:110683*/&amp;#10;  V_ROW_PEDIDOINTERNOINTECOMPRA PEDIDOINTERNOINTECOMPRA%ROWTYPE;/*AUG:130776:20/02/2019*/&amp;#10;  V_DADOS_ENTRADA&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_PEDIDOINTERNO.R_DADOS_ENTRADA;/*AUG:130776:20/02/2019*/ &amp;#10;  V_ROW_ITEMPEDIDOINTERNO&#x9;&#x9;&#x9;&#x9;ITEMPEDIDOINTERNO%ROWTYPE;/*AUG:130776:20/02/2019*/&amp;#10;  V_CD_ESTUDO                   NUMBER;&amp;#10;  V_CD_PROJETO                  NUMBER;&amp;#10;&#x9;V_NR_VERSAO                   NUMBER;&amp;#10;&#x9;V_CD_ETAPA                    NUMBER;&amp;#10;  V_MENSAGEM &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(32000);&amp;#10;  E_PMS                         EXCEPTION; &amp;#10;&#x9;V_CD_EMPRESACOM77             EMPRESA.CD_EMPRESA%TYPE;&amp;#10;&#x9;V_CD_ITEMCOM77                ITEMNF.CD_ITEM%TYPE;&amp;#10;&#x9;V_CONT&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;        NUMBER;&amp;#10;BEGIN&amp;#10;&#x9;&amp;#10;&#x9;V_FLAG2 := 0;&amp;#10;&#x9;V_RETORNO := TRUE;&amp;#10;&#x9;V_ITENS := NULL;&amp;#10;&#x9;&amp;#10;&#x9;VALIDATE(FORM_SCOPE);&#x9;--WLV:07/02/2012:40906&amp;#10;&#x9;IF NOT FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;RAISE E_SAIDA;&amp;#10;&#x9;END IF;&amp;#10;&#x9;/* STATUS DAS SOLICITAÇÕES:&amp;#10;&#x9; *&amp;#10;&#x9; * 0&#x9;- Aguardando liberação;&amp;#10;&#x9; * 1&#x9;- Liberado;&amp;#10;&#x9; * 2&#x9;- Recusado;&amp;#10;&#x9; * 3&#x9;- Em cotação;&amp;#10;&#x9; * 4&#x9;- Renegociar; &amp;#10;&#x9; * 5&#x9;- Aguardando aprovação (COM007);&amp;#10;&#x9; * 6&#x9;- Aprovado;&amp;#10;&#x9; * 7&#x9;- Pedido Gerado;&amp;#10;&#x9; * 11 - Devolvido para solicitação;&amp;#10;&#x9; * 13 - Aguard. Confirmação Compra;&amp;#10;&#x9; * 14 - Dentro do Ponto de Pedido;&amp;#10;&#x9; * 99 - Cancelado;&amp;#10;&#x9; */&amp;#10;&#x9; V_FLAG := 0;&amp;#10;&#x9;&amp;#10;&#x9;IF ((:SYSTEM.RECORD_STATUS = 'CHANGED') AND NOT PACK_VALIDA.VAL_PERMISSAO('A',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA)) THEN&amp;#10;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(485,'¢CD_USUARIO = '||:GLOBAL.CD_USUARIO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_MODULO  = '||:GLOBAL.CD_MODULO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_PROGRAMA= '||:GLOBAL.CD_PROGRAMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_EMPRESA = '||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;ELSIF ((:SYSTEM.RECORD_STATUS = 'INSERT') AND NOT PACK_VALIDA.VAL_PERMISSAO('I',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA)) THEN&amp;#10;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(486,'¢CD_USUARIO = '||:GLOBAL.CD_USUARIO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_MODULO  = '||:GLOBAL.CD_MODULO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_PROGRAMA= '||:GLOBAL.CD_PROGRAMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_EMPRESA = '||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&amp;#10;&#x9;V_CAMPO := NULL;&amp;#10;&#x9;IF :SYSTEM.CURSOR_BLOCK IN ('ITEMCOMPRA','CONTROLE') THEN&amp;#10;&amp;#10;&#x9;&#x9;IF ((:CONTROLE.CD_AUTORIZADOR IS NOT NULL) AND (:CONTROLE.CD_DEPARTAMENTO IS NOT NULL)) THEN&amp;#10;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO V_CONT&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR = :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  V_CONT := 0;&amp;#10;&#x9;&#x9;&#x9;END;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;IF (V_CONT = 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/*Autorizador ¢CD_AUTORIZADOR¢ não está liberado para o departamento ¢CD_DEPARTAMENTO¢*/&amp;#10;&#x9;&#x9;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(34196, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&amp;#10;&#x9;  &amp;#10;&#x9;  -------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  -- VALIDA OS DADOS&amp;#10;&#x9;  -------------------------------------------------------------------------------------------------------&amp;#10;&#x9;  GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;  FIRST_RECORD;&amp;#10;&#x9;  &amp;#10;&#x9;  BEGIN&amp;#10;&#x9;  &#x9;SELECT CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;    INTO V_CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;    FROM PARMCOMPRA &amp;#10;&#x9;&#x9;   WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;--Parâmetros de Compra não cadastrados para a empresa ¢CD_EMPRESA¢. Verifique o Programa COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2586,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;  &#x9;--Parâmetros de Compra cadastrado em duplicidade para empresa ¢CD_EMPRESA¢.&amp;#10;&#x9;&#x9;  &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2587,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;    --Erro ao pesquisar Parâmetros de Compra para a empresa ¢CD_EMPRESA¢. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3769,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;  END;&#x9;&#x9;&amp;#10;&amp;#10;&#x9;&#x9;/** ALE:25/11/2011:36255&amp;#10;&#x9;&#x9; *&#x9;Verifica o parâmetro &quot;Obrigar Confirmação da Compra.&quot; da página &quot;Validações&quot; do COM009 e quando &amp;#10;&#x9;&#x9; *&#x9;estiver configurado, ao selecionar um tipo de compra &quot;Jurídica&quot;, o campo &quot;Nr. Contrato&quot; passa a&amp;#10;&#x9;&#x9; *&#x9;ser obrigatório.&amp;#10;&#x9;&#x9; */&#x9;&#x9;&#x9;&amp;#10;&#x9;  BEGIN&amp;#10;&#x9;&#x9;  SELECT NVL(PARMCOMPRA.ST_OBRIGCONFIRMCOMPRA,'N')&amp;#10;&#x9;&#x9;    INTO V_ST_OBRIGCONFIRMCOMPRA&amp;#10;&#x9;&#x9;    FROM PARMCOMPRA&amp;#10;&#x9;&#x9;   WHERE PARMCOMPRA.CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;V_ST_OBRIGCONFIRMCOMPRA := 'N';&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;IF (NVL(V_ST_OBRIGCONFIRMCOMPRA,'N') = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;IF (NVL(:CONTROLE.TP_COMPRA,'D') = 'J') THEN --JURÍDICA&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (:CONTROLE.NR_CONTRATO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(15405, NULL); --Quando o tipo da compra for &quot;Jurídica&quot;, é obrigatório ser informado o número do contrato no campo &quot;Nr. Contrato&quot; do quadro &quot;Dados da Solicitação de Compra&quot;.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF (:CONTROLE.NR_CONTRATO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;END IF; --IF (NVL(:CONTROLE.TP_COMPRA,'D') = 'J') THEN&amp;#10;&#x9;&#x9;END IF; --IF (NVL(V_ST_OBRIGCONFIRMCOMPRA,'N') = 'S') THEN&amp;#10;&#x9;&#x9;----------------------------------------------------------&amp;#10;    &amp;#10;    --validação&amp;#10;&#x9;  LOOP&amp;#10;&#x9;&#x9;  /**KRG:29/05/08:18311&amp;#10;&#x9;&#x9;   * Alterada a comparação :ITEMCOMPRA.TP_ITEMCOMPRA  := :CONTROLE.TP_ITEMCOMPRA&amp;#10;&#x9;&#x9;   * para :ITEMCOMPRA.CD_TIPOCOMPRA  := :CONTROLE.CD_TIPOCOMPRA.&amp;#10;&#x9;&#x9;   */&amp;#10;&#x9;&#x9;  IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&#x9;&#x9;  &#x9;&amp;#10;&#x9;      :ITEMCOMPRA.CD_AUTORIZADOR := :CONTROLE.CD_AUTORIZADOR;&amp;#10;&#x9;      VALIDA_AUTORIZADORCOMPRA(:ITEMCOMPRA.CD_AUTORIZADOR, V_MENSAGEM);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF(V_MENSAGEM  IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := V_MENSAGEM;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  &#x9;END IF;&#x9;&amp;#10;&#x9;      :ITEMCOMPRA.DT_DESEJADA    := :CONTROLE.DT_DESEJADA;&amp;#10;&#x9;      :ITEMCOMPRA.CD_TIPOCOMPRA  := :CONTROLE.CD_TIPOCOMPRA; --KRG:29/05/08:18311&amp;#10;&#x9;    ELSIF :ITEMCOMPRA.CD_ITEM          IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.DS_UNIDMED       IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.CD_MOVIMENTACAO  IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.QT_PREVISTA      IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.DS_OBSERVACAOEXT IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.DS_OBSERVACAO    IS NULL AND&amp;#10;&#x9;&#x9;  &#x9;    :ITEMCOMPRA.DS_ITEMSERVICO   IS NULL THEN&amp;#10;&#x9;&#x9;  &#x9;DELETE_RECORD;&amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;  END LOOP;&amp;#10;&#x9;  &amp;#10;&#x9;  PACK_PROCEDIMENTOS.VALIDA_AUTORIZADOR(I_MENSAGEM); --EML:21/02/2020:139947&amp;#10;&#x9;&#x9;&#x9;IF(I_MENSAGEM  IS NOT NULL)THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;  V_CAMPO := 'CONTROLE.CD_AUTORIZADOR';&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;  &#x9;END IF;&#x9;&amp;#10;&#x9;  &amp;#10;&#x9;  GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;  FIRST_RECORD;&amp;#10;&#x9;&#x9;LOOP&#x9;&amp;#10;&#x9;&#x9;  IF :ITEMCOMPRA.CD_ITEM         IS NOT NULL AND &amp;#10;&#x9;&#x9;  &#x9; :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND&amp;#10;&#x9;&#x9;  &#x9; :ITEMCOMPRA.QT_PREVISTA     IS NOT NULL THEN&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  --VERIFICA O CENTRO DE CUSTO&amp;#10;&#x9;&#x9;&#x9;  -----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;  IF :ITEMCOMPRA.TP_CONTACONTABIL = 'CC'  THEN&amp;#10;&#x9;&#x9;&#x9;    NR_REG := 0;&amp;#10;&#x9;&#x9;&#x9;   &#x9;FOR I IN 1 ..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;&#x9;      IF GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) = :ITEMCOMPRA.CD_ITEM THEN&amp;#10;&#x9;&#x9;          NR_REG := NR_REG + 1; &amp;#10;&#x9;&#x9;          ----------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    /* RBM: 20405: 29/12/2008&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     * Em caso de for um item com Centro de Custo, verificar se o usuario tem permissão para solicitar&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     * o determinado item.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;     */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  ----------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;V_CD_CCUSTO := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO', I);    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;/* RBM: 21554: 20/04/2009&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   * Verificar se antes é para validar o usuario conforme parametro no COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; */&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:CONTROLE.CD_EMPRESA,'ST_VALIDAUSERCC'),'N') = 'S' &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;SELECT CCUSTOAUTORIZ.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  INTO V_CD_SOLCCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM CCUSTOAUTORIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE CCUSTOAUTORIZ.CD_EMPRESA     = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_CENTROCUSTO = V_CD_CCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.CD_USUARIO     = :GLOBAL.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND CCUSTOAUTORIZ.TP_AUTORIZADOR IN ('S','A','T')&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ROWNUM = 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  &#x9;--O Usuário ¢CD_USUARIO¢ não está autorizado para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3771,'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_CENTROCUSTO='||V_CD_CCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  &#x9;--O Usuário ¢CD_USUARIO¢ está autorizado várias vezes para o Centro de Custo ¢CD_CENTROCUSTO¢. Verifique TCO003.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3772,'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_CENTROCUSTO='||V_CD_CCUSTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;  WHEN OTHERS THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;    --Erro ao pesquisar o Usuário ¢CD_USUARIO¢ para o Centro de Custo ¢CD_CENTROCUSTO¢. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3773,'¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢CD_CENTROCUSTO='||V_CD_CCUSTO||'¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;END; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;--EXIT;&amp;#10;&#x9;&#x9;        END IF;&amp;#10;&#x9;&#x9;&#x9;    END LOOP;&#x9; &amp;#10;&#x9;&#x9;&#x9;   &#x9;IF NR_REG &lt; 1 THEN&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;--É Necessário Informar o centro de custo para o item ¢CD_ITEM¢!&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4683,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;&#x9;   &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  ELSIF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_OBRIGARATEIONEGOCIO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;    NR_REG := 0;&amp;#10;&#x9;&#x9;&#x9;    FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO') LOOP&amp;#10;&#x9;&#x9;        IF :ITEMCOMPRA.CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;          NR_REG := NR_REG + 1;&amp;#10;&#x9;          END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    IF NR_REG &lt; 1 THEN&amp;#10;&#x9;&#x9;&#x9;    &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(29151, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;&#x9;    &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;    END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;  -----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;  --verifica o item&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_ITEM IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--É necessário informar o Item&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4162,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO    := 'ITEMCOMPRA.CD_ITEM';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------------------------------&amp;#10;&#x9;&#x9;   &#x9;--verifica o Autorizador&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN &amp;#10;&#x9;&#x9;&#x9;&#x9;  SELECT ST_APROVSOLIC&amp;#10;&#x9;&#x9;&#x9;&#x9;    INTO V_ST_APROVSOLIC&amp;#10;&#x9;&#x9;&#x9;&#x9;    FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;   WHERE CD_EMPRESA = :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;V_ST_ALCADASDEPTO := NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO'),'N');&amp;#10;&#x9;&#x9; &#x9;  /*ATR:115974:26/12/2017*/&amp;#10;&#x9;&#x9; &#x9;  IF ((NVL(V_ST_APROVSOLIC,'N') = 'S' OR NVL(V_ST_ALCADASDEPTO,'N') = 'S') AND :ITEMCOMPRA.CD_AUTORIZADOR IS NULL)&amp;#10;&#x9;&#x9; &#x9;  &#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--O campo Autorizador deve ser informado.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3760,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;GO_ITEM('CONTROLE.CD_AUTORIZADOR');&amp;#10;&#x9;&#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;-- Verifica se o parâmetro do COM009 está para obrigar a observação da sol --&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;  IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM',009,'MAX',:GLOBAL.CD_EMPRESA,'ST_OBRIGAOBS') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;   &#x9;IF REPLACE(REPLACE(:ITEMCOMPRA.DS_OBSERVACAO,CHR(13)),CHR(10)) IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;--A observação da solicitação deve ser informada.&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4684,'');&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;GO_ITEM('ITEMCOMPRA.DS_OBSERVACAO');&amp;#10;&#x9;&#x9;&#x9;   &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;   &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT CMI.CD_OPERESTOQUE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO V_CD_OPERESTOQUE&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;FROM PARMOVIMENT, CMI&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9; WHERE PARMOVIMENT.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9; AND PARMOVIMENT.CD_CMI          = CMI.CD_CMI&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; AND CMI.TP_FATES                = '0';&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;--A Movimentação ¢CD_MOVIMENTACAO¢ não está cadastrada. Verifique o programa TCB008.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(46,'¢CD_MOVIMENTACAO='||:ITEMCOMPRA.CD_MOVIMENTACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   :='ITEMCOMPRA.CD_MOVIMENTACAO'; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;IF V_CD_OPERESTOQUE IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VALIDA_MOVIMENTACAO(I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9; &#x9;&#x9;ELSE &amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;--A movimentação deve ser informada.&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(298,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO    := 'ITEMCOMPRA.CD_MOVIMENTACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9; &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;--verifica data Desejada&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.DT_DESEJADA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--É necessário informar a data desejada!&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(4685,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   := 'CONTROLE.DT_DESEJADA';&amp;#10;&#x9;&#x9;  &#x9;&#x9;/*AUG:130776:20/02/2019*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(:PARAMETER.CD_MODULO,'ZZZ') = 'EMV' AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(:PARAMETER.CD_PROGRAMA,-1)  = 78 &#x9; THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',INSERT_ALLOWED,PROPERTY_TRUE);  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSIF :ITEMCOMPRA.DT_DESEJADA &lt;= SYSDATE THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A Data Desejada deve ser maior que a data atual!&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(4686,'');&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;V_CAMPO   :='CONTROLE.DT_DESEJADA';&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;/*AUG:130776:20/02/2019*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(:PARAMETER.CD_MODULO,'ZZZ') = 'EMV' AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(:PARAMETER.CD_PROGRAMA,-1)  = 78 &#x9; THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY('CONTROLE.DT_DESEJADA',INSERT_ALLOWED,PROPERTY_TRUE);  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9; &#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;/* DCS:19/11/2013:63403&amp;#10;&#x9;&#x9;&#x9;&#x9; * Caso esteja ativo o controle de Alçadas por Departamento,&amp;#10;&#x9;&#x9;&#x9;&#x9; * o código do Departamento deve ser informado&amp;#10;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1545, '¢NM_CAMPO='||'Código do Departamento'||'¢'); --O campo ¢NM_CAMPO¢ deve ser informado.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO    := 'CONTROLE.CD_DEPARTAMENTO';&amp;#10;&#x9;&#x9;  &#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;/* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9;&#x9;&#x9; * Removida validação que obriga que o autorizador informado seja um aprovador de necessidade do TCO024&amp;#10;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;--Valida se o Autorizador está cadastrado para o Departamento&amp;#10;&#x9;&#x9;&#x9;&#x9;/*&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.CD_AUTORIZADOR IS NOT NULL AND :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.CD_AUTORIZADOR  = :CONTROLE.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND AUTORIZDEPARTCOMPRA.ST_APROVNECESSIDADE = 'S'; --Aprovador de Necedssidade&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    --O Usuário Autorizador ¢CD_AUTORIZADOR¢ não está cadastrado como Aprovador de Necessidade para o Departamento de Compra ¢CD_DEPARTAMENTO¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    V_CAMPO    := 'CONTROLE.CD_DEPARTAMENTO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21638, '¢CD_AUTORIZADOR='||:CONTROLE.CD_AUTORIZADOR||'¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; * valida se o departamento esta cadastrado para o Solicitante no TCO024&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT DEPARTAMENTOCOMPRA.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO :CONTROLE.DS_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM SOLICDEPARTCOMPRA, DEPARTAMENTOCOMPRA&amp;#10;&#x9;&#x9;&#x9;       WHERE SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = DEPARTAMENTOCOMPRA.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;         AND SOLICDEPARTCOMPRA.CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;         AND SOLICDEPARTCOMPRA.CD_SOLICITANTE  = :GLOBAL.CD_USUARIO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(22640, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢CD_SOLICITANTE='||:GLOBAL.CD_USUARIO||'¢'); --O Departamento de Compra ¢CD_DEPARTAMENTO¢ não está cadastrado para o Usuário Soliciante ¢CD_SOLICITANTE¢. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21599, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢SQLERRM='||SQLERRM||'¢'); --Erro ao pesquisar o Departamento ¢CD_DEPARTAMENTO¢. Erro ¢SQLERRM¢. Verifique o TCO024, página Departamentos.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  /* DCS:25/02/2014:68851&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; * Valida se o departamento possui pelo menos um usuário Aprovador de Necessidade e de Aprovador de Alçadas&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ST_APROVNECESSIDADE = 'S';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(V_COUNT,0) = 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O Departamento de Compra ¢CD_DEPARTAMENTO¢ não possui Usuário cadastrado como Aprovador de Necessidade. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21662, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT COUNT(*)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_COUNT&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM AUTORIZDEPARTCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ST_APROVNECESSIDADE = 'N';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(V_COUNT,0) = 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O Departamento de Compra ¢CD_DEPARTAMENTO¢ não possui Usuário cadastrado como Aprovador de Alçadas. Verifique o TCO024.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(22636, '¢CD_DEPARTAMENTO='||:CONTROLE.CD_DEPARTAMENTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;    ----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--verifica qtde&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.QT_PREVISTA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A quantidade deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(1827,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   :='ITEMCOMPRA.QT_PREVISTA';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSIF :ITEMCOMPRA.QT_PREVISTA &lt;=0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--A Quantidade não pode ser Menor ou Igual a Zero.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(7910,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   :='ITEMCOMPRA.QT_PREVISTA';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;--Verifica o tipo de compra&amp;#10;&#x9;&#x9;&#x9;&#x9;----------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_TIPOCOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--É necessário informar o tipo da compra!&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM:= PACK_MENSAGEM.MENS_PADRAO(4687,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO &#x9; := 'CONTROLE.CD_TIPOCOMPRA';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;  ------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;    -- VERIFICA O TIPO DO ITEM, VERIFICA SE É UM SERVIÇO, SENDO NECESSÁRIO A DESCRIÇÃO &amp;#10;&#x9;&#x9;    ------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT ITEM.TP_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO I_TP_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;FROM ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEM.CD_ITEM = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O item ¢CD_ITEM¢ não está cadastrado. Verifique o programa TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(27,'¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END;&#x9; &amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF I_TP_ITEM = 'S' THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.DS_ITEMSERVICO IS NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--A descrição do serviço deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4688,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  MANIPULA_CAMPO('ITEMCOMPRA.DS_ITEMSERVICO','A');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  /*SET_ITEM_PROPERTY ('ITEMCOMPR A.DS_ITEMSERVICO' ,ENABLED,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMPR A.DS_ITEMSERVICO',NAVIGABLE,PROPERTY_TRUE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',VISUAL_ATTRIBUTE,'VSA_CAMPOTEXTO');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SET_ITEM_PROPERTY ('ITEMCOMP RA.DS_ITEMSERVICO',PROMPT_FONT_STYLE,FONT_UNDERLINE);*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;GO_ITEM('ITEMCOMPRA.DS_ITEMSERVICO');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.DT_INICIO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--A Data de Inicio do Serviço deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4689,'');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  GO_ITEM('CONTROLE.DT_INICIO');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.DT_INICIO := :CONTROLE.DT_INICIO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF PACK_GLOBAL.ST_APROVSOLIC = 'N' THEN -- IF3&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_ST_ITEMCOMPRA := 1;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_DT_LIBERACAO &#x9;:= SYSDATE;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*ATR:115974:26/12/2017*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.CD_AUTORIZADOR IS NULL &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_NAOBRIGAUTORIZ'),'N') = 'N' THEN -- IF4&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  SELECT SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;    &#x9;&#x9;  INTO :ITEMCOMPRA.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;FROM SOLICITANTE, &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;     PARMCOMPRA, &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;     USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;&#x9;&#x9; WHERE SOLICITANTE.CD_EMPRESA&#x9;&#x9;&#x9;= PARMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     AND USUARIO.CD_USUARIO &#x9;&#x9;&#x9;&#x9;= SOLICITANTE.CD_USUARIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     AND SOLICITANTE.ST_SOLICITANTE = PARMCOMPRA.TP_APROVSOLIC&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;     AND SOLICITANTE.CD_EMPRESA &#x9;&#x9;= :GLOBAL.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--O solicitante não tem autorizador cadastrado para a empresa ¢CD_EMPRESA¢. Verifique TCO002.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3764,'¢CD_EMPRESA='||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF NOT SHOW_LOV('LOV_SOLICAUTORIZ') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF(:ITEMCOMPRA.CD_AUTORIZADOR IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;VALIDA_AUTORIZADORCOMPRA(:ITEMCOMPRA.CD_AUTORIZADOR, V_MENSAGEM);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF(V_MENSAGEM  IS NOT NULL)THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := V_MENSAGEM;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;    I_ST_ITEMCOMPRA := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;  I_DT_LIBERACAO &#x9;:= NULL;&amp;#10;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    IF :ITEMCOMPRA.CD_EMPRESA IS NOT NULL AND :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;    &#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;      SELECT QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;        INTO V_QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;        FROM PLANEJITEM&amp;#10;&#x9;&#x9;&#x9;       WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;         AND CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;      EXCEPTION&amp;#10;&#x9;&#x9;      &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;      &#x9;  --Planejamento de item não cadastrado para o Item ¢CD_ITEM¢ e Empresa ¢CD_EMPRESA¢. Verifique o programa TIT001.&amp;#10;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20051, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;      &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20052, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;      &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20053, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢SQLERR='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;      END;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  /* DCS:11/02/2014:58880&amp;#10;&#x9;&#x9;&#x9;&#x9; * Verifica se os Itens estão fora do cronograma do programa TCO025&amp;#10;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;  IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_CRONOGRAMACOMPRA'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;IF NVL(:ITEMCOMPRA.ST_ITEMCOMPRA,0) NOT IN (1,3,4,5,7,9,99) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;IF PACK_COMPRAS.VALIDA_CRONOGRAMACOMPRA(:ITEMCOMPRA.CD_ITEM,TRUNC(SYSDATE),'S') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRA.ST_CRONOGRAMACOMPRA := 'N';&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;                                 &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;IF V_ITENS IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;V_ITENS := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;V_ITENS := V_ITENS||', '||:ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;:ITEMCOMPRA.ST_CRONOGRAMACOMPRA := 'S';&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (:ITEMCOMPRA.CD_ITEM IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(4162, NULL); -- É necessário informar o Item!&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO    := 'ITEMCOMPRA.CD_ITEM';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF (:ITEMCOMPRA.CD_ITEM IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;-----------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (:ITEMCOMPRA.CD_MOVIMENTACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21378, NULL); -- A Movimentação deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO    := 'ITEMCOMPRA.CD_MOVIMENTACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;--IF (:ITEMCOMPRA.CD_MOVIMENTACAO IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;-------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF (:ITEMCOMPRA.QT_PREVISTA IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1827, NULL); -- A quantidade deve ser informada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   :='ITEMCOMPRA.QT_PREVISTA';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSIF (NVL(:ITEMCOMPRA.QT_PREVISTA,0) &lt;= 0) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7910, NULL); -- A Quantidade não pode ser Menor ou Igual a Zero.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CAMPO   :='ITEMCOMPRA.QT_PREVISTA';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF; --IF (:ITEMCOMPRA.QT_PREVISTA IS NULL) THEN  &#x9;&amp;#10;&#x9;&#x9;  &amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;&#x9;NEXT_RECORD;&amp;#10;    END LOOP;&amp;#10;    &amp;#10;    /* DCS:11/02/2014:58880&amp;#10;&#x9;&#x9; * Solicita ao usuário com um Alerta se deseja prosseguir com a Solicitação de Compra, caso possuir algum Item que esteja fora do cronograma do programa TCO025&amp;#10;&#x9;&#x9; */&amp;#10;    IF V_ITENS IS NOT NULL THEN&amp;#10;    &#x9;V_ITENS := SUBSTR(V_ITENS,1,110); --pega apenas 110 caracteres para não estourar o tamanho no Alert&amp;#10;    &#x9;IF INSTR(V_ITENS,',') = 0 THEN&amp;#10;    &#x9;  SET_ALERT_PROPERTY('MENSAGEM_CRONOGRAMA', ALERT_MESSAGE_TEXT, 'O Item ('||V_ITENS||') está fora do Cronograma. Deseja fazer a solicitação dele mesmo assim ?');&amp;#10;    &#x9;ELSE&amp;#10;    &#x9;  SET_ALERT_PROPERTY('MENSAGEM_CRONOGRAMA', ALERT_MESSAGE_TEXT, 'Os Itens ('||V_ITENS||') estão fora do Cronograma. Deseja fazer a solicitação deles mesmo assim ?');&amp;#10;    &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;V_ALERT := SHOW_ALERT('MENSAGEM_CRONOGRAMA');&amp;#10;&#x9;&#x9;&#x9;IF NOT V_ALERT = ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;RAISE E_SAIDA;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;    END IF;&amp;#10;    &amp;#10;    -- MVP:12/04/2019 - GRAVA PROJETO&amp;#10;    IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;                                       9,&amp;#10;                                       'MAX',&amp;#10;                                       :ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                               'ST_PROJETOMONI') = 'S' &amp;#10;&#x9;&#x9;&#x9;AND PACK_PARMGEN.CONSULTA_PARAMETRO('COM',&amp;#10;&#x9;&#x9;                                      9,&amp;#10;&#x9;&#x9;                                      'MAX',&amp;#10;&#x9;&#x9;                                      :ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                              'ST_PRJETORATEIO') = 'N' THEN&amp;#10;&#x9;    GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;  LOOP&amp;#10;&#x9;&#x9;  &#x9;IF :ITEMCOMPRA.CD_ITEM IS NOT NULL AND &amp;#10;&#x9;&#x9;  &#x9;&#x9; :ITEMCOMPRA.CD_MOVIMENTACAO IS NOT NULL AND&amp;#10;&#x9;&#x9;  &#x9;&#x9; :ITEMCOMPRA.ST_PROJETOMONI IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;SELECT DISTINCT ORCAMENTOMONI.CD_ESTUDO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ORCAMENTOMONI.CD_PROJETO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ORCAMENTOMONI.NR_VERSAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ORCAMENTOMONI.CD_ETAPA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_ESTUDO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       V_CD_PROJETO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       V_NR_VERSAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       V_CD_ETAPA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM PROJETOMONI, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       ORCAMENTOMONI, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       GRUPOMOVIMENTACAOMONI, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       MOVIMENTACAOGRUPOMONI&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ORCAMENTOMONI.CD_ESTUDO = PROJETOMONI.CD_ESTUDO &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_PROJETO = PROJETOMONI.CD_PROJETO &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.NR_VERSAO = PROJETOMONI.NR_VERSAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO = GRUPOMOVIMENTACAOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ORCAMENTOMONI.CD_GRUPOMOVIMENTACAO = MOVIMENTACAOGRUPOMONI.CD_GRUPOMOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND MOVIMENTACAOGRUPOMONI.CD_MOVIMENTACAO = :ITEMCOMPRA.CD_MOVIMENTACAO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PROJETOMONI.NR_VERSAO IN (SELECT MAX(NR_VERSAO)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                   FROM PROJETOMONI PROJ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                  WHERE PROJETOMONI.CD_ESTUDO = PROJ.CD_ESTUDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                                    AND PROJETOMONI.CD_PROJETO = PROJ.CD_PROJETO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;  &#x9;&#x9;  GO_BLOCK('PROJETOITEMCOMPRA');&amp;#10;&#x9;&#x9;  &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;RAISE E_SAIDA;&amp;#10;&#x9;&#x9;&#x9;  &#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.CD_ITEM     := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.DS_ITEM     := :ITEMCOMPRA.DS_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.QT_PREVISTA := :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.DS_UNIDMED  := :ITEMCOMPRA.DS_UNIDMED;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :PROJETOITEMCOMPRA.CD_EMPRESA  := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;  GO_BLOCK('PROJETOITEMCOMPRA');&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;  RAISE E_SAIDA;&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;  &#x9;END;&amp;#10;&#x9;&#x9;  &#x9;END IF; &amp;#10;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;  &#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;&#x9;    NEXT_RECORD;&amp;#10;&#x9;    END LOOP;&amp;#10;    END IF;&amp;#10;    &amp;#10;    GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;  &#x9;SELECT CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;    INTO V_CD_EMPRCENTRALIZ&amp;#10;&#x9;&#x9;    FROM PARMCOMPRA &amp;#10;&#x9;&#x9;   WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;  WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;  &#x9;/*MVP:25/03/2013:56895*/&amp;#10;&#x9;&#x9;&#x9;&#x9;--Parâmetros de Compra não cadastrados para a empresa ¢CD_EMPRESA¢. Verifique o Programa COM009.&amp;#10;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2586,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;  &#x9;--Parâmetros de Compra cadastrado em duplicidade para empresa ¢CD_EMPRESA¢.&amp;#10;&#x9;&#x9;  &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(2587,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;  &#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;  WHEN OTHERS THEN&amp;#10;&#x9;&#x9;    --Erro ao pesquisar Parâmetros de Compra para a empresa ¢CD_EMPRESA¢. Erro ¢SQLERRM¢.&amp;#10;&#x9;&#x9;    I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(3769,'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;  END;&amp;#10;&#x9;  &amp;#10;&#x9;  IF V_CD_EMPRCENTRALIZ IS NOT NULL AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_AGRUPACOTACAOCENTRAL'),'N') = 'S' THEN&amp;#10;&#x9;    V_CD_EMPRLANCTO := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;  ELSIF V_CD_EMPRCENTRALIZ IS NOT NULL AND NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_AGRUPACOTACAOCENTRAL'),'N') = 'N' THEN&amp;#10;&#x9;    V_CD_EMPRLANCTO := V_CD_EMPRCENTRALIZ;&amp;#10;&#x9;  ELSE&amp;#10;&#x9;  &#x9;V_CD_EMPRLANCTO := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&#x9;  END IF;&amp;#10;&#x9;  V_CD_EMPRLANCTO := NVL(V_CD_EMPRLANCTO,:ITEMCOMPRA.CD_EMPRESA);&amp;#10;&#x9;  &amp;#10;&#x9;  LOOP&amp;#10;&#x9;  &#x9;&amp;#10;&#x9;  &#x9;IF V_CD_EMPRLANCTO IS NOT NULL AND :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;      SELECT QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;        INTO V_QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;        FROM PLANEJITEM&amp;#10;&#x9;&#x9;       WHERE CD_EMPRESA = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;         AND CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;      EXCEPTION&amp;#10;&#x9;      &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;      &#x9;  --Planejamento de item não cadastrado para o Item ¢CD_ITEM¢ e Empresa ¢CD_EMPRESA¢. Verifique o programa TIT001.&amp;#10;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20051, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;      &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20052, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;      &#x9;WHEN OTHERS THEN&amp;#10;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20053, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢SQLERR='||SQLERRM||'¢');&amp;#10;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;      END;&amp;#10;&#x9;  &#x9;END IF;&amp;#10;&#x9;  &amp;#10;&#x9;  &#x9;EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;    END LOOP;&amp;#10;&#x9;   &amp;#10;&#x9;&#x9;---------------------------------------&amp;#10;&#x9;&#x9;---INFORMAÇÕES DO PROJETO MONI.-------    &amp;#10;&#x9;&#x9;---------------------------------------&#x9;  &amp;#10;    INFORMA_PROJETO(V_CD_EMPRLANCTO, I_MENSAGEM);&amp;#10;&#x9;  IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_PMS;&amp;#10;&#x9;  END IF; &#x9;  &amp;#10;&#x9;  &amp;#10;&#x9;  GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;FIRST_RECORD;&amp;#10;&#x9;&#x9;CONTADOR := 0;&amp;#10;&#x9;&#x9;I_NR_LOTECOMPRA := NULL;&amp;#10;&#x9;&#x9;&amp;#10;    -------------------------------------------------------------------------------------------------&amp;#10;&#x9;  -- INICIA INSERÇÃO&amp;#10;&#x9;&#x9;-------------------------------------------------------------------------------------------------&#x9;&#x9;&#x9;&amp;#10;    LOOP &amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NULL THEN &amp;#10;&#x9;  &#x9;  -- RETORNA SEQUENCIA&amp;#10;&#x9;  &#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;IF I_NR_LOTECOMPRA IS NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;IF :CONTROLE.NR_LOTECOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RETORNA_SEQUENCIA('NRLOTECOM',V_CD_EMPRLANCTO,I_NR_LOTECOMPRA,I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  I_NR_LOTECOMPRA := :CONTROLE.NR_LOTECOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9; &#x9;END IF; &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;RETORNA_SEQUENCIA('NRSOL',V_CD_EMPRLANCTO,:ITEMCOMPRA.NR_ITEMCOMPRA,I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  ------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;IF CONTADOR = 0 THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_NR_ITEMCOMPRA := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;CONTADOR          := CONTADOR + 1; &amp;#10;&#x9;&#x9;&#x9;&#x9;V_NR_ITEMCOMPRA_U := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;/**KRG:29/05/08:18311&amp;#10;&#x9;&#x9;&#x9; * Acrescentado mais esse campo CD_TIPOCOMPRA e  :ITEMCOMPRA.CD_TIPOCOMPRA.&amp;#10;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;-- INSERE ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NOT NULL AND :ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;/* RBM: 22466: 13/08/2009&amp;#10;&#x9;&#x9;&#x9;&#x9; * Permitir atualizar somente Solicitações que não entraram em processo de compra;&amp;#10;&#x9;&#x9;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(:ITEMCOMPRA.ST_ITEMCOMPRA,0) NOT IN (0,2,11) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_INFORMACAO IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_INFORMACAO := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_INFORMACAO := V_INFORMACAO||', '||:ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;      &amp;#10;&#x9;&#x9;      V_ST_ITEMCOMPRA := I_ST_ITEMCOMPRA;&amp;#10;&#x9;&#x9;      V_DT_LIBERACAO  := I_DT_LIBERACAO;&amp;#10;&#x9;&#x9;      &amp;#10;&#x9;&#x9;      /* DCS:15/04/2013:55262&amp;#10;&#x9;&#x9;&#x9;     * Seta o status da solicitação de compra para 14 - 'Dentro do Ponto de Pedido', caso o item já existir no estoque&amp;#10;&#x9;&#x9;&#x9;     */&amp;#10;&#x9;&#x9;&#x9;    IF :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_PONTOPEDIDO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;      V_QT_PONTOPEDIDO := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;      BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;      SELECT QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;        INTO V_QT_PONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;        FROM PLANEJITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;       WHERE CD_EMPRESA = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;         AND CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;      EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  --Planejamento de item não cadastrado para o Item ¢CD_ITEM¢ e Empresa ¢CD_EMPRESA¢. Verifique o programa TIT001.&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20051, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;WHEN TOO_MANY_ROWS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20052, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(20053, '¢CD_ITEM='||:ITEMCOMPRA.CD_ITEM||'¢CD_EMPRESA='||:ITEMCOMPRA.CD_EMPRESA||'¢SQLERR='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;      END;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;      IF V_QT_PONTOPEDIDO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;IF V_CD_EMPRCENTRALIZ IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      V_QT_ESTOQUEFISICO := NVL(PACK_ESTOQUE.CONSULTA_ESTOQUE(V_CD_EMPRCENTRALIZ, :ITEMCOMPRA.CD_ITEM, TRUNC(SYSDATE), 'F', 'QT'),0);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;        SELECT NVL(SUM(QT_PREVISTA),0)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          INTO V_QT_ESTOQUEPONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;         WHERE NOT EXISTS (SELECT *&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                             FROM ITEMRESERVAMATERIAL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                            WHERE ITEMRESERVAMATERIAL.ST_ITEMRESERVAMATERIAL NOT IN ('9')&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.CD_EMPRITEMCOMPRA = ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.NR_ITEMCOMPRA     = ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.CD_ITEM           = ITEMCOMPRA.CD_ITEM)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;           AND ITEMCOMPRA.CD_EMPRESA IN (SELECT CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                       FROM PARMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                      WHERE CD_EMPRCENTRALIZ = V_CD_EMPRCENTRALIZ)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMCOMPRA.CD_ITEM = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMCOMPRA.ST_ITEMCOMPRA = 14; --dentro do ponto de pedido&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;&#x9;V_QT_ESTOQUEFISICO := NVL(PACK_ESTOQUE.CONSULTA_ESTOQUE(:ITEMCOMPRA.CD_EMPRESA, :ITEMCOMPRA.CD_ITEM, TRUNC(SYSDATE), 'F', 'QT'),0);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;        SELECT NVL(SUM(QT_PREVISTA),0)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          INTO V_QT_ESTOQUEPONTOPEDIDO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;          FROM ITEMCOMPRA &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;         WHERE NOT EXISTS (SELECT *&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                             FROM ITEMRESERVAMATERIAL&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                            WHERE ITEMRESERVAMATERIAL.ST_ITEMRESERVAMATERIAL NOT IN ('9')&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.CD_EMPRITEMCOMPRA = ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.NR_ITEMCOMPRA     = ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                              AND ITEMRESERVAMATERIAL.CD_ITEM           = ITEMCOMPRA.CD_ITEM)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;           AND ITEMCOMPRA.CD_ITEM       = :ITEMCOMPRA.CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;           AND ITEMCOMPRA.CD_EMPRESA    = :ITEMCOMPRA.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;           AND ITEMCOMPRA.ST_ITEMCOMPRA = 14; --dentro do ponto de pedido&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;      &#x9;IF ROUND(NVL(V_QT_ESTOQUEFISICO,0) - NVL(V_QT_ESTOQUEPONTOPEDIDO,0) - NVL(:ITEMCOMPRA.QT_PREVISTA,0),2) >= ROUND(NVL(V_QT_PONTOPEDIDO,0),2) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;          V_ST_ITEMCOMPRA := 14;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      V_DT_LIBERACAO &#x9;:= SYSDATE;&amp;#10;&#x9;&#x9;&#x9;&#x9;        END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  /* DCS:03/10/2013:62048&amp;#10;&#x9;&#x9;&#x9;&#x9;   * Caso esteja ativo o controle de Contrato de Compra e a solicitaçao não caiu em ponto de pedido&amp;#10;&#x9;&#x9;&#x9;&#x9;   * a mesma será bloqueada para liberação no programa COM002, onde poderá gerar o pedido caso possuir contrato de compra&amp;#10;&#x9;&#x9;&#x9;&#x9;   */&amp;#10;&#x9;&#x9;&#x9;&#x9;   /*FJC:10/04/2017:105292 adicionado condição OR sobre processo de contrato compra por empresa*/&amp;#10;&#x9;&#x9;&#x9;&#x9;  IF (NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_CONTRATOCOMPRA')    ,'N') = 'S' OR&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;  NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',V_CD_EMPRLANCTO,'ST_CONTRATOCOMPRA')       ,'N') = 'S' OR&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;  NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTRATOCOMPRA'),'N') = 'S') &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;OR &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; (NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_CONTRATOCOMPRAEMPR')    ,'N') = 'S' OR  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;  NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',V_CD_EMPRLANCTO,'ST_CONTRATOCOMPRAEMPR')       ,'N') = 'S' OR  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;  NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_CONTRATOCOMPRAEMPR'),'N') = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;IF V_ST_ITEMCOMPRA &lt;> 14 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;V_ST_ITEMCOMPRA := 0;&amp;#10;&#x9;&#x9;&#x9;        V_DT_LIBERACAO &#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  /* DCS:19/11/2013:63403&amp;#10;&#x9;&#x9;&#x9;&#x9;   * Caso esteja ativo o controle de Alçadas por Departamento e a solicitação não caiu em ponto de pedido&amp;#10;&#x9;&#x9;&#x9;&#x9;   * a mesma será bloqueada para liberação no programa COM002&amp;#10;&#x9;&#x9;&#x9;&#x9;   */&amp;#10;&#x9;&#x9;&#x9;&#x9;  IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO')    ,'N') = 'S' OR &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',V_CD_EMPRLANCTO,'ST_ALCADASDEPTO')       ,'N') = 'S' OR&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_ALCADASDEPTO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;IF V_ST_ITEMCOMPRA &lt;> 14 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;V_ST_ITEMCOMPRA := 0;&amp;#10;&#x9;&#x9;&#x9;        V_DT_LIBERACAO &#x9;:= NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:CONTROLE.CD_EMPRESA,'ST_BLOQUEIONIVEL') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ST_BLOQUEIONIVEL := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  SELECT ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_NR_ITEMCOMPRA_AUX&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMCOMPRA.CD_EMPRESA    = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; AND ITEMCOMPRA.NR_ITEMCOMPRA = :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;    V_NR_ITEMCOMPRA_AUX := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN --eml:04/05:2020:140279&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT CD_EMPRESA, CD_ITEM&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  INTO V_CD_EMPRESACOM77, V_CD_ITEMCOM77&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMAUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMAUTORIZADOR.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND ITEMAUTORIZADOR.CD_ITEM    = :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_CD_EMPRESACOM77 IS NOT NULL AND V_CD_ITEMCOM77 IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ST_ITEMCOMPRA := 0;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Na Inserção valida caso acontecer de não gerar o número do Lote de Compra, não permitir prosseguir com o lançamento&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_NR_ITEMCOMPRA_AUX IS NULL AND I_NR_LOTECOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := 'Não foi possível gerar o número do Lote de Compra para este lançamento. Verifique.';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Na Alteração valida&#x9;se o número do lote de compra não foi informado&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSIF V_NR_ITEMCOMPRA_AUX IS NOT NULL AND :CONTROLE.NR_LOTECOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(21552, NULL); --O número do Lote de Compra deve ser informado.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/** WLV:16/02/2012:40906&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  * Verificação se o usuário alterou ou não a solicitação de compra, se ele alterou, então estoura&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  * o alerta, caso não alterou não faz nada.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  */  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF :CONTROLE.NR_LOTECOMPRA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_RECORD := :SYSTEM.CURSOR_RECORD;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_GRAVALIBERACAO.VERIFICA_DADOS_MODIFICADOS(V_RETORNO, I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  GO_RECORD(V_RECORD);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF NOT V_RETORNO THEN&#x9;/* WLV:07/02/2012:40906*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_FLAG = 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_FLAG := 1;&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;SET_ALERT_PROPERTY('MENSAGEM_CONFIRMACAO', ALERT_MESSAGE_TEXT, 'Tem certeza que deseja atualizar a(s) Solicitação(ões) de Compra(s) da Empresa '||V_CD_EMPRLANCTO||' e Lote de Compra '||:CONTROLE.NR_LOTECOMPRA||' ?');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ALERT := SHOW_ALERT('MENSAGEM_CONFIRMACAO');&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;IF V_ALERT=ALERT_BUTTON1 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_SAIDA;&#x9;&amp;#10;&#x9;&#x9;    &#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;    &#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;    &#x9;&#x9;&#x9;&#x9;&#x9;NULL;&amp;#10;&#x9;    &#x9;&#x9;&#x9;&#x9;END IF; --IF V_FLAG = 0 THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(15578, NULL);&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_SAIDA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF; -- IF NOT V_RETORNO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF; --IF :CONTROLE.NR_LOTECOMPRA IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(:ITEMCOMPRA.ST_CRONOGRAMACOMPRA,'X') = 'N' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF :GLOBAL.ST_AUDITORIA = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_AUDITA.INSERIR('I', 'O Usuário aceitou continuar com a geração da Solicitação de Compra ('||:ITEMCOMPRA.NR_ITEMCOMPRA||') da Empresa ('||V_CD_EMPRLANCTO||'), '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                             'mesmo sabendo que o Item ('||:ITEMCOMPRA.CD_ITEM||'), está fora do Cronograma.',NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;            INSERT INTO ITEMCOMPRA&amp;#10;              (CD_AUTORIZADOR,&amp;#10;               CD_BEMPAT,&amp;#10;               CD_EMPRESA,&amp;#10;               CD_EMPRESAITEM,&amp;#10;               CD_EMPRESASOLIC,&amp;#10;               CD_EMPRESAUTORIZ,&amp;#10;               CD_ENDERENTREGA,&amp;#10;               CD_ITEM,&amp;#10;               CD_MOVIMENTACAO,&amp;#10;               CD_PROJETO,&amp;#10;               CD_SOLICITANTE,&amp;#10;               DS_OBSERVACAOEXT,&amp;#10;               DS_OBSERVACAO,&amp;#10;               DS_ITEMSERVICO,&amp;#10;               DT_ALTERACAO,&amp;#10;               DT_CONSOLIDACAO,&amp;#10;               DT_DESEJADA,&amp;#10;               DT_INICIO,&amp;#10;               DT_LIBERACAO,&amp;#10;               DT_RECORD,&amp;#10;               DT_SOLICITACAO,&amp;#10;               HR_RECORD,&amp;#10;               NR_ITEMCOMPRA,&amp;#10;               NR_ITEMPRORIGEM,&amp;#10;               NR_NEGOCIACAO,&amp;#10;               QT_NEGOCIADA,&amp;#10;               QT_PREVISTA,&amp;#10;               ST_EMISSAONF,&amp;#10;               ST_ITEMCOMPRA,&amp;#10;               DS_OBSCANCEL,&amp;#10;               DT_CANCELAMENTO,&amp;#10;               TP_APROVSOLIC,&amp;#10;               NR_LOTECOMPRA,&amp;#10;               CD_TIPOCOMPRA,&amp;#10;               VL_ESTIMADO,&amp;#10;               ST_BLOQUEIONIVEL,&amp;#10;               NR_CONTRATO, --ALE:25/11/2011:36255&amp;#10;               CD_DEPARTAMENTO,&amp;#10;               ST_CRONOGRAMACOMPRA,&amp;#10;               CD_CONTAORCAMENTO,&amp;#10;               CD_ESTUDOMONI,&amp;#10;               CD_PROJETOMONI,&amp;#10;               NR_VERSAOMONI,&amp;#10;               CD_ETAPAMONI,&amp;#10;               DT_ANOSAFRA,&amp;#10;               CD_PROJETOCOMPRA, /* ASF:17/06/2019:134714 */ &amp;#10;               CD_TIPOLOCALARMAZ, /*EML:26/05/2020:148401*/&amp;#10;               CD_LOCALARMAZ,&amp;#10;               NR_SUBLOCARMAZ1,&amp;#10;               NR_SUBLOCARMAZ2,&amp;#10;               NR_SUBLOCARMAZ3,&amp;#10;               NR_SUBLOCARMAZ4)&amp;#10;            VALUES&amp;#10;              (:CONTROLE.CD_AUTORIZADOR,&amp;#10;               NULL,&amp;#10;               V_CD_EMPRLANCTO,&amp;#10;               V_CD_EMPRLANCTO,&amp;#10;               V_CD_EMPRLANCTO,&amp;#10;               V_CD_EMPRLANCTO,&amp;#10;               NULL,&amp;#10;               :ITEMCOMPRA.CD_ITEM,&amp;#10;               :ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;               NULL,&amp;#10;               :GLOBAL.CD_USUARIO,&amp;#10;               :ITEMCOMPRA.DS_OBSERVACAOEXT,&amp;#10;               :ITEMCOMPRA.DS_OBSERVACAO,&amp;#10;               :ITEMCOMPRA.DS_ITEMSERVICO,&amp;#10;               NULL,&amp;#10;               NULL,&amp;#10;               :CONTROLE.DT_DESEJADA,--:ITEMCOMPRA.DT_DESEJADA,&amp;#10;               :ITEMCOMPRA.DT_INICIO,&amp;#10;               NULL,&amp;#10;               SYSDATE,&amp;#10;               SYSDATE, --RBM:19472:12/08/2008 Alterado para gravar a hora tambem.&amp;#10;               TO_CHAR(SYSDATE, 'HH24:MI'),&amp;#10;               :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;               NULL,&amp;#10;               NULL,&amp;#10;               NULL,&amp;#10;               :ITEMCOMPRA.QT_PREVISTA,&amp;#10;               NULL,&amp;#10;               V_ST_ITEMCOMPRA,&amp;#10;               :ITEMCOMPRA.DS_OBSCANCEL,&amp;#10;               NULL,&amp;#10;               :ITEMCOMPRA.TP_APROVSOLIC,&amp;#10;               I_NR_LOTECOMPRA,&amp;#10;               :ITEMCOMPRA.CD_TIPOCOMPRA,&amp;#10;               :ITEMCOMPRA.VL_ESTIMADO,&amp;#10;               V_ST_BLOQUEIONIVEL,&#x9; &#x9;&#x9;--RBM:24044:17/12/2009&amp;#10;               :CONTROLE.NR_CONTRATO, &#x9;--ALE:25/11/2011:36255&amp;#10;               :CONTROLE.CD_DEPARTAMENTO,&amp;#10;               :ITEMCOMPRA.ST_CRONOGRAMACOMPRA, --DCS:11/02/2014:58880&amp;#10;               :ITEMCOMPRA.CD_CONTAORCAMENTO,&amp;#10;               :ITEMCOMPRA.CD_ESTUDOMONI,&amp;#10;               :ITEMCOMPRA.CD_PROJETOMONI,&amp;#10;               :ITEMCOMPRA.NR_VERSAOMONI,&amp;#10;               :ITEMCOMPRA.CD_ETAPAMONI,&amp;#10;               :CONTROLE.DT_ANOSAFRA,/* ASF:17/06/2019:134714 */ &amp;#10;               :CONTROLE.CD_PROJETOCOMPRA, /*GBO:20/12/2019:142153*/&amp;#10;               :ITEMCOMPRA.CD_TIPOLOCALARMAZ, /*EML:26/05/2020:148401*/&amp;#10;               :ITEMCOMPRA.CD_LOCALARMAZ,&amp;#10;               :ITEMCOMPRA.NR_SUBLOCARMAZ1,&amp;#10;               :ITEMCOMPRA.NR_SUBLOCARMAZ2,&amp;#10;               :ITEMCOMPRA.NR_SUBLOCARMAZ3,&amp;#10;               :ITEMCOMPRA.NR_SUBLOCARMAZ4);&amp;#10;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('Inseriu na tabela ITEMCOMPRA os valores: '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_AUTORIZADOR   = '||:CONTROLE.CD_AUTORIZADOR&#x9;&#x9;||', CD_BEMPAT = NULL , CD_EMPRESA = '||V_CD_EMPRLANCTO||', CD_EMPRESAITEM'||V_CD_EMPRLANCTO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_EMPRESASOLIC  = '||V_CD_EMPRLANCTO    &#x9;&#x9;      ||', CD_EMPRESAUTORIZ = '||V_CD_EMPRLANCTO||', CD_ENDERENTREGA =  NULL, CD_ITEM'||:ITEMCOMPRA.CD_ITEM||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_MOVIMENTACAO  = '||:ITEMCOMPRA.CD_MOVIMENTACAO ||', CD_PROJETO   = NULL , CD_SOLICITANTE  = '||:GLOBAL.CD_USUARIO||', DS_ITEMSERVICO = '||:ITEMCOMPRA.DS_ITEMSERVICO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DS_OBSERVACAOEXT = '||:ITEMCOMPRA.DS_OBSERVACAOEXT||', DS_OBSERVACAO = '||:ITEMCOMPRA.DS_OBSERVACAO||', DT_ALTERACAO = NULL , DT_CONSOLIDACAO = NULL, DT_DESEJADA = '||:ITEMCOMPRA.DT_DESEJADA||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DT_INICIO        = '||:ITEMCOMPRA.DT_INICIO       ||', DT_LIBERACAO = NULL , DT_RECORD = '||SYSDATE||', DT_SOLICITACAO = '||SYSDATE||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'HR_RECORD        = '||TO_CHAR(SYSDATE,'HH24:MI')  ||', NR_ITEMCOMPRA= '    ||:ITEMCOMPRA.NR_ITEMCOMPRA||', NR_ITEMPRORIGEM = NULL, NR_NEGOCIACAO = NULL, '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'QT_NEGOCIADA     =  NULL, QT_PREVISTA = '         ||:ITEMCOMPRA.QT_PREVISTA||', ST_EMISSAONF = NULL, ST_ITEMCOMPRA = '||V_ST_ITEMCOMPRA||','||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DS_OBSCANCEL     = '||:ITEMCOMPRA.DS_OBSCANCEL    ||', DT_CANCELAMENTO = NULL, TP_APROVSOLIC = '||:ITEMCOMPRA.TP_APROVSOLIC||', NR_LOTECOMPRA, '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_TIPOCOMPRA    = '||:ITEMCOMPRA.CD_TIPOCOMPRA   ||', VL_ESTIMADO = '     ||:ITEMCOMPRA.VL_ESTIMADO||', ST_BLOQUEIONIVEL ='||V_ST_BLOQUEIONIVEL||', NR_CONTRATO ='||:CONTROLE.NR_CONTRATO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_ESTUDOMONI    = '||:ITEMCOMPRA.CD_ESTUDOMONI   ||', CD_PROJETOMONI = '     ||:ITEMCOMPRA.CD_PROJETOMONI||', NR_VERSAOMONI ='||:ITEMCOMPRA.NR_VERSAOMONI||', CD_ETAPAMONI ='||:ITEMCOMPRA.CD_ETAPAMONI||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'ST_CRONOGRAMACOMPRA = '||:ITEMCOMPRA.ST_CRONOGRAMACOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'I'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;--IF (:GLOBAL.ST_AUDITORIA = 'S') THEN  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN DUP_VAL_ON_INDEX THEN&amp;#10;&#x9;&#x9;  &#x9;&#x9;    BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;      UPDATE ITEMCOMPRA  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       SET ITEMCOMPRA.CD_AUTORIZADOR   = :CONTROLE.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;    &#x9;     &#x9;&#x9;   ITEMCOMPRA.CD_BEMPAT        = NULL,&amp;#10;&#x9;&#x9;&#x9;    &#x9;     &#x9;&#x9;   ITEMCOMPRA.CD_EMPRESA    &#x9; = V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;    &#x9;     &#x9;&#x9;   ITEMCOMPRA.CD_EMPRESAITEM   = V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_EMPRESASOLIC  = V_CD_EMPRLANCTO,           &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_EMPRESAUTORIZ = V_CD_EMPRLANCTO,     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_ENDERENTREGA  = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_ITEM          = :ITEMCOMPRA.CD_ITEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_MOVIMENTACAO  = :ITEMCOMPRA.CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_PROJETO       = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_SOLICITANTE   =&#x9;:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DS_OBSERVACAOEXT = :ITEMCOMPRA.DS_OBSERVACAOEXT,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DS_OBSERVACAO &#x9; = :ITEMCOMPRA.DS_OBSERVACAO,       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DS_ITEMSERVICO   = :ITEMCOMPRA.DS_ITEMSERVICO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_ALTERACAO &#x9;&#x9; = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_CONSOLIDACAO  = NULL, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_DESEJADA      = :ITEMCOMPRA.DT_DESEJADA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_INICIO&#x9;&#x9;&#x9;&#x9; = :ITEMCOMPRA.DT_INICIO,         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_LIBERACAO &#x9;&#x9; = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_RECORD&#x9;&#x9;&#x9;&#x9; =&#x9;SYSDATE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_SOLICITACAO   = SYSDATE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.HR_RECORD&#x9;&#x9;&#x9;&#x9; =&#x9;TO_CHAR(SYSDATE,'HH24:MI'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_ITEMCOMPRA&#x9;&#x9; = :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_ITEMPRORIGEM&#x9; =&#x9;NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_NEGOCIACAO    = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.QT_NEGOCIADA  &#x9; = NULL,          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.QT_PREVISTA&#x9;&#x9;&#x9; = :ITEMCOMPRA.QT_PREVISTA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.ST_EMISSAONF&#x9;&#x9; = NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.ST_ITEMCOMPRA    = V_ST_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DS_OBSCANCEL&#x9;&#x9; = :ITEMCOMPRA.DS_OBSCANCEL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.DT_CANCELAMENTO&#x9; =&#x9;NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.TP_APROVSOLIC    = :ITEMCOMPRA.TP_APROVSOLIC,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_LOTECOMPRA    = :CONTROLE.NR_LOTECOMPRA,        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_TIPOCOMPRA    = :ITEMCOMPRA.CD_TIPOCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.VL_ESTIMADO      = :ITEMCOMPRA.VL_ESTIMADO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.ST_BLOQUEIONIVEL = V_ST_BLOQUEIONIVEL, &#x9;&#x9;  --RBM:24044:17/12/2009&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_CONTRATO&#x9;&#x9;&#x9; = :CONTROLE.NR_CONTRATO, &#x9;--ALE:25/11/2011:36255&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_DEPARTAMENTO  = :CONTROLE.CD_DEPARTAMENTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.ST_CRONOGRAMACOMPRA = :ITEMCOMPRA.ST_CRONOGRAMACOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_CONTAORCAMENTO   = :ITEMCOMPRA.CD_CONTAORCAMENTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_ESTUDOMONI       = :ITEMCOMPRA.CD_ESTUDOMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_PROJETOMONI      = :ITEMCOMPRA.CD_PROJETOMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_VERSAOMONI       = :ITEMCOMPRA.NR_VERSAOMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_ETAPAMONI        = :ITEMCOMPRA.CD_ETAPAMONI,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_PROJETOCOMPRA&#x9;  = :CONTROLE.CD_PROJETOCOMPRA, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_TIPOLOCALARMAZ   = :ITEMCOMPRA.CD_TIPOLOCALARMAZ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.CD_LOCALARMAZ       = :ITEMCOMPRA.CD_LOCALARMAZ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_SUBLOCARMAZ1     = :ITEMCOMPRA.NR_SUBLOCARMAZ1,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_SUBLOCARMAZ2     = :ITEMCOMPRA.NR_SUBLOCARMAZ2,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_SUBLOCARMAZ3     = :ITEMCOMPRA.NR_SUBLOCARMAZ3,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; ITEMCOMPRA.NR_SUBLOCARMAZ4     = :ITEMCOMPRA.NR_SUBLOCARMAZ4&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMCOMPRA.CD_EMPRESA     &#x9; = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;&#x9;  &#x9;         AND ITEMCOMPRA.NR_ITEMCOMPRA  &#x9; = :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('Atualizou a tabela ITEMCOMPRA no Registro da empresa: '||V_CD_EMPRLANCTO||', NR_ITEMCOMPRA = '||:ITEMCOMPRA.NR_ITEMCOMPRA||' Os Valores : '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_AUTORIZADOR   = '||:CONTROLE.CD_AUTORIZADOR&#x9;&#x9;||', CD_BEMPAT = NULL , CD_EMPRESA = '||V_CD_EMPRLANCTO||', CD_EMPRESAITEM'||V_CD_EMPRLANCTO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_EMPRESASOLIC  = '||V_CD_EMPRLANCTO    &#x9;&#x9;      ||', CD_EMPRESAUTORIZ = '||V_CD_EMPRLANCTO||', CD_ENDERENTREGA =  NULL, CD_ITEM'||:ITEMCOMPRA.CD_ITEM||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_MOVIMENTACAO  = '||:ITEMCOMPRA.CD_MOVIMENTACAO ||', CD_PROJETO   = NULL , CD_SOLICITANTE  = '||:GLOBAL.CD_USUARIO||', DS_ITEMSERVICO = '||:ITEMCOMPRA.DS_ITEMSERVICO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DS_OBSERVACAOEXT = '||:ITEMCOMPRA.DS_OBSERVACAOEXT||', DS_OBSERVACAO = '||:ITEMCOMPRA.DS_OBSERVACAO||', DT_ALTERACAO = NULL , DT_CONSOLIDACAO = NULL, DT_DESEJADA = '||:ITEMCOMPRA.DT_DESEJADA||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DT_INICIO        = '||:ITEMCOMPRA.DT_INICIO       ||', DT_LIBERACAO = NULL , DT_RECORD = '||SYSDATE||', DT_SOLICITACAO = '||SYSDATE||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'HR_RECORD        = '||TO_CHAR(SYSDATE,'HH24:MI')  ||', NR_ITEMCOMPRA= '    ||:ITEMCOMPRA.NR_ITEMCOMPRA||', NR_ITEMPRORIGEM = NULL, NR_NEGOCIACAO = NULL, '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'QT_NEGOCIADA     =  NULL, QT_PREVISTA = '         ||:ITEMCOMPRA.QT_PREVISTA||', ST_EMISSAONF = NULL, ST_ITEMCOMPRA = '||V_ST_ITEMCOMPRA||','||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'DS_OBSCANCEL     = '||:ITEMCOMPRA.DS_OBSCANCEL    ||', DT_CANCELAMENTO = NULL, TP_APROVSOLIC = '||:ITEMCOMPRA.TP_APROVSOLIC||', NR_LOTECOMPRA, '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_TIPOCOMPRA    = '||:ITEMCOMPRA.CD_TIPOCOMPRA   ||', VL_ESTIMADO = '     ||:ITEMCOMPRA.VL_ESTIMADO||', ST_BLOQUEIONIVEL ='||V_ST_BLOQUEIONIVEL||', NR_CONTRATO ='||:CONTROLE.NR_CONTRATO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'ST_CRONOGRAMACOMPRA = '||:ITEMCOMPRA.ST_CRONOGRAMACOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'A');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF; --IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;WHEN OTHERS THEN&amp;#10;        &#x9;    &#x9;--Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥&amp;#10;        &#x9;      I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864,'¢NM_TABELA='||'ITEMCOMPRA'||'¢SQLERRM='||SQLERRM||'¢DS_DETALHE='||'Gatilho KEY_COMMIT'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;  &#x9;      END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;          &#x9;--Erro ao inserir dados na tabela ¢NM_TABELA¢. Erro: ¢SQLERRM¢.§¥Local: ¢DS_LOCAL¢&amp;#10;          &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7314,'¢NM_TABELA='||'ITEMCOMPRA'||'¢SQLERRM='||SQLERRM||'¢DS_LOCAL='||'Gatilho KEY-COMMIT'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  END;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*MHU:06/05/2020:135245*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Atualização dos itens usados&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;UPDATE PREITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   SET PREITEMCOMPRA.CD_EMPRITEM = :ITEMCOMPRA.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       PREITEMCOMPRA.NR_LOTECOMPRA = I_NR_LOTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;       PREITEMCOMPRA.ST_PREITEMCOMPRA = '7'&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE PREITEMCOMPRA.CD_EMPRESA = :GLOBAL.CD_EMPRESA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   AND PREITEMCOMPRA.NR_PREITEMCOMPRA = :ITEMCOMPRA.NR_PREITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;WHEN OTHERS THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    IF :ITEMCOMPRA.NR_REGBLOCO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;    FOR PROJ IN 1..PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO.COUNT LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;      IF PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO.EXISTS(PROJ) AND &#x9;&#x9;       &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO(PROJ).NR_REGBLOCO  = :ITEMCOMPRA.NR_REGBLOCO THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO(PROJ).CD_EMPRITEMCOMPRA := V_CD_EMPRLANCTO ;&amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO(PROJ).NR_ITEMCOMPRA     := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO(PROJ).NR_LOTECOMPRA     := NVL(I_NR_LOTECOMPRA ,:CONTROLE.NR_LOTECOMPRA);        &amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO(PROJ).CD_ITEM           := :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&#x9;        PACK_PROJETOMONI.SET_VETOR_PROJETORATEIO(PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO);&amp;#10;&#x9;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;    END LOOP; &amp;#10;&#x9;&#x9;&#x9;    END IF; &amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    /* DCS:19/11/2013:63403&amp;#10;&#x9;&#x9;&#x9;&#x9;   * Caso esteja ativo o controle de Alçadas por Departamento e a solicitaçao não caiu em ponto de pedido&amp;#10;&#x9;&#x9;&#x9;&#x9;   * será gerado o registro para controle de liberação por Autorizador de Necessidade no COM002&amp;#10;&#x9;&#x9;&#x9;&#x9;   */&amp;#10;&#x9;&#x9;&#x9;    IF NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_ALCADASDEPTO')    ,'N') = 'S' OR &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',V_CD_EMPRLANCTO,'ST_ALCADASDEPTO')       ,'N') = 'S' OR&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9; NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:ITEMCOMPRA.CD_EMPRESA,'ST_ALCADASDEPTO'),'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;IF V_ST_ITEMCOMPRA = 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;--Limpa os Nives de Liberação, para inserir novamente&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;DELETE FROM ITEMCOMPRAUTORIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; WHERE CD_EMPRESA    = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9; AND NR_ITEMCOMPRA = :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;--Erro ao Excluir o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1782, '¢NM_TABELA='||'ITEMCOMPRAUTORIZ'||'¢SQLERRM='||SQLERRM||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;                                        '¢DS_DETALHE='||'Erro ao Limpar o niveis de Liberação da Solicitação de compra ('||:ITEMCOMPRA.NR_ITEMCOMPRA||') '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;                                                            'da Empresa ('||V_CD_EMPRLANCTO||').'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;FOR J IN (SELECT CD_AUTORIZADOR,ST_APROVNECESSIDADE&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;            FROM AUTORIZDEPARTCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;           WHERE CD_DEPARTAMENTO = :CONTROLE.CD_DEPARTAMENTO&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;             AND ST_APROVNECESSIDADE = 'S') LOOP&amp;#10;&#x9;&#x9;&#x9;  &#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;  INSERT INTO ITEMCOMPRAUTORIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;      (CD_EMPRESA,NR_ITEMCOMPRA,CD_AUTORIZADOR,ST_APROVNECESSIDADE,ST_LIBERACAO,DT_RECORD)&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;    VALUES&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;      (V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;       :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;       J.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;       J.ST_APROVNECESSIDADE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;       0, --0 - Aguardando Liberação&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;       SYSDATE);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;WHEN DUP_VAL_ON_INDEX THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  UPDATE ITEMCOMPRAUTORIZ&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;     SET ST_LIBERACAO = 0, --0 - Aguardando Liberação&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;         DT_RECORD    = SYSDATE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;   WHERE CD_EMPRESA          = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;     AND NR_ITEMCOMPRA       = :ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;     AND CD_AUTORIZADOR      = J.CD_AUTORIZADOR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;     AND ST_APROVNECESSIDADE = J.ST_APROVNECESSIDADE;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;  --Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥.&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864, '¢NM_TABELA='||'ITEMCOMPRAUTORIZ'||'¢SQLERRM='||SQLERRM||&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;                                                '¢DS_DETALHE='||'Erro ao atualizar o nível de Liberação da Solicitação de compra ('||:ITEMCOMPRA.NR_ITEMCOMPRA||') '||&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;                                                                    'da Empresa ('||V_CD_EMPRLANCTO||').'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  END;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  --Erro ao Incluir Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢.¥Detalhes ¢DS_DETALHE¢¥.&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1451, '¢NM_TABELA='||'ITEMCOMPRAUTORIZ'||'¢SQLERRM='||SQLERRM||&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;                                                '¢DS_DETALHE='||'Erro ao inserir o nível de Liberação da Solicitação de compra ('||:ITEMCOMPRA.NR_ITEMCOMPRA||') '||&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;                                                                'da Empresa ('||V_CD_EMPRLANCTO||').'||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;-- INSERE ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_CENTROCUSTO   := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_NEGOCIO       := NULL;/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO  := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_AUTORIZADOR   := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_PC_PARTICIPACAO  := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_QT_PEDIDAUNIDSOL := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;        V_CD_CENTROCUSTO    := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO'  ,I);&amp;#10;&#x9;&#x9;        V_CD_NEGOCIO        := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_NEGOCIO'      ,I);/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CD_MOVIMENTACAO   := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_MOVIMENTACAO' ,I); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CD_AUTORIZADOR    := GET_GROUP_CHAR_CELL  ('GRUPO_CC.CD_AUTORIZADOR'  ,I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_PC_PARTICIPACAO   := GET_GROUP_NUMBER_CELL('GRUPO_CC.PC_PARTICIPACAO' ,I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_QT_PEDIDAUNIDSOL  := GET_GROUP_NUMBER_CELL('GRUPO_CC.QT_PEDIDAUNIDSOL',I);&amp;#10;&#x9;&#x9;        V_CD_EMPRCCUSTODEST := NVL(GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_EMPRCCUSTODEST', I),V_CD_EMPRLANCTO);&amp;#10;&#x9;&#x9;        V_DS_OBSERVACAO     := GET_GROUP_CHAR_CELL  ('GRUPO_CC.DS_OBSERVACAO'   ,I);&amp;#10;&#x9;&#x9;        V_CD_CONTAORCAMENTO := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CONTAORCAMENTO',I);&amp;#10;&#x9;&#x9;        &amp;#10;&#x9;&#x9;        IF :ITEMCOMPRA.CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;          BEGIN&amp;#10;                INSERT INTO ITEMCOMPRACCUSTO&amp;#10;                  (CD_AUTORIZADOR,&amp;#10;                   CD_CENTROCUSTO,&amp;#10;                   CD_EMPRESA,&amp;#10;                   CD_EMPRESASOLIC,&amp;#10;                   CD_EMPRESAUTORIZ,&amp;#10;                   CD_MOVIMENTACAO,&amp;#10;                   CD_SOLICITANTE,&amp;#10;                   DT_LIBERACAO,&amp;#10;                   DT_RECORD,&amp;#10;                   HR_RECORD,&amp;#10;                   NR_ITEMCOMPRA,&amp;#10;                   PC_PARTICIPACAO,&amp;#10;                   QT_PEDIDAUNIDSOL,&amp;#10;                   ST_ITEMCOMPRA,&amp;#10;                   CD_NEGOCIO /*CSL:21/12/2010:30317*/,&amp;#10;                   CD_EMPRCCUSTODEST /*GDG:22/07/2011:28715*/,&amp;#10;                   CD_TIPOCOMPRA, --ALE:25/11/2011:36255&amp;#10;                   NR_CONTRATO, --ALE:25/11/2011:36255&amp;#10;                   DS_OBSERVACAO, --DCS:11/02/2014:58880&amp;#10;                   CD_CONTAORCAMENTO)&amp;#10;                VALUES&amp;#10;                  (V_CD_AUTORIZADOR,&amp;#10;                   V_CD_CENTROCUSTO,&amp;#10;                   V_CD_EMPRLANCTO,&amp;#10;                   V_CD_EMPRLANCTO,&amp;#10;                   V_CD_EMPRLANCTO,&amp;#10;                   V_CD_MOVIMENTACAO,&amp;#10;                   :GLOBAL.CD_USUARIO,&amp;#10;                   V_DT_LIBERACAO,&amp;#10;                   SYSDATE,&amp;#10;                   TO_CHAR(SYSDATE, 'HH24:MI'),&amp;#10;                   :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;                   V_PC_PARTICIPACAO,&amp;#10;                   V_QT_PEDIDAUNIDSOL,&amp;#10;                   V_ST_ITEMCOMPRA,&amp;#10;                   V_CD_NEGOCIO /*CSL:21/12/2010:30317*/,&amp;#10;                   V_CD_EMPRCCUSTODEST /*GDG:22/07/2011:28715*/,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.CD_TIPOCOMPRA, --ALE:25/11/2011:36255&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :CONTROLE.NR_CONTRATO, &#x9;--ALE:25/11/2011:36255&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_CD_CONTAORCAMENTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('Inseriu na tabela ITEMCOMPRACCUSTO os valores: '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_AUTORIZADOR  = '||V_CD_AUTORIZADOR    &#x9;&#x9;&#x9; ||', CD_CENTROCUSTO   = '||V_CD_CENTROCUSTO    &#x9;&#x9;&#x9;||', CD_EMPRESA = '     ||V_CD_EMPRLANCTO||', '||&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'CD_EMPRESASOLIC = '||V_CD_EMPRLANCTO&#x9;&#x9;&#x9;     ||', CD_EMPRESAUTORIZ = '||V_CD_EMPRLANCTO&#x9;&#x9;&#x9;      ||', CD_MOVIMENTACAO = '||V_CD_MOVIMENTACAO   ||', '||&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'CD_SOLICITANTE  = '||:GLOBAL.CD_USUARIO  &#x9;&#x9;&#x9; ||',&#x9;DT_LIBERACAO     = '||V_DT_LIBERACAO      &#x9;&#x9;&#x9;||', DT_RECORD = '      ||SYSDATE||',&#x9;'||&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'HR_RECORD       = '||TO_CHAR(SYSDATE,'HH24:MI')||', NR_ITEMCOMPRA    = '||:ITEMCOMPRA.NR_ITEMCOMPRA ||', PC_PARTICIPACAO = '||V_PC_PARTICIPACAO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'QT_PEDIDAUNIDSOL= '||V_QT_PEDIDAUNIDSOL        ||', ST_ITEMCOMPRA    = '||V_ST_ITEMCOMPRA           ||', ST_LIBERADO = NULL , '||&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'DS_OBSCANCEL    = NULL, CD_NEGOCIO = '||V_CD_NEGOCIO||', CD_TIPOCOMPRA  = '||:CONTROLE.CD_TIPOCOMPRA   ||', NR_CONTRATO    = '||:CONTROLE.NR_CONTRATO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'DS_OBSERVACAO   = '||V_DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'I'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;--IF (:GLOBAL.ST_AUDITORIA = 'S') THEN &amp;#10;&#x9;&#x9;          EXCEPTION&amp;#10;&#x9;&#x9;            WHEN DUP_VAL_ON_INDEX THEN&amp;#10;&#x9;&#x9;  &#x9;&#x9;        BEGIN&amp;#10;&#x9;&#x9;                UPDATE ITEMCOMPRACCUSTO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           SET ITEMCOMPRACCUSTO.CD_AUTORIZADOR   = V_CD_AUTORIZADOR,             &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;               ITEMCOMPRACCUSTO.CD_CENTROCUSTO   = V_CD_CENTROCUSTO,       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;               ITEMCOMPRACCUSTO.CD_EMPRESA &#x9;&#x9;&#x9; = V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_EMPRESASOLIC  = V_CD_EMPRLANCTO,       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_EMPRESAUTORIZ = V_CD_EMPRLANCTO,        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_MOVIMENTACAO  = V_CD_MOVIMENTACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.CD_SOLICITANTE&#x9; = :GLOBAL.CD_USUARIO,         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.DT_LIBERACAO&#x9;&#x9; = V_DT_LIBERACAO,   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.ST_ITEMCOMPRA    = V_ST_ITEMCOMPRA,      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.DT_RECORD&#x9;&#x9;&#x9;&#x9; =&#x9;SYSDATE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.HR_RECORD&#x9;&#x9;     = TO_CHAR(SYSDATE,'HH24:MI'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.NR_ITEMCOMPRA&#x9;&#x9; = :ITEMCOMPRA.NR_ITEMCOMPRA,    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; ITEMCOMPRACCUSTO.PC_PARTICIPACAO  = V_PC_PARTICIPACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.QT_PEDIDAUNIDSOL = V_QT_PEDIDAUNIDSOL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.CD_NEGOCIO       = V_CD_NEGOCIO,&#x9;/*CSL:21/12/2010:30317*/&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.CD_TIPOCOMPRA&#x9;&#x9; = :CONTROLE.CD_TIPOCOMPRA, --ALE:25/11/2011:36255&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.NR_CONTRATO&#x9;&#x9;&#x9; = :CONTROLE.NR_CONTRATO, --ALE:25/11/2011:36255&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.DS_OBSERVACAO    = V_DS_OBSERVACAO&#x9;,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   ITEMCOMPRACCUSTO.CD_CONTAORCAMENTO= V_CD_CONTAORCAMENTO&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         WHERE ITEMCOMPRACCUSTO.NR_ITEMCOMPRA  &#x9;&#x9;= :ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRACCUSTO.CD_EMPRESA     &#x9;&#x9;= V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRACCUSTO.CD_CENTROCUSTO &#x9;&#x9;= V_CD_CENTROCUSTO&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRACCUSTO.CD_EMPRCCUSTODEST = V_CD_EMPRCCUSTODEST/*GDG:22/07/2011:28715*/;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('Atualizou a tabela ITEMCOMPRACCUSTO no Registro da Empresa: '||V_CD_EMPRLANCTO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'NR_ITEMCOMPRA   = '||:ITEMCOMPRA.NR_ITEMCOMPRA ||', CD_CENTROCUSTO   = '||V_CD_CENTROCUSTO||' Os Valores : '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'CD_AUTORIZADOR  = '||V_CD_AUTORIZADOR    &#x9;&#x9;&#x9; ||', CD_CENTROCUSTO   = '||V_CD_CENTROCUSTO    &#x9;&#x9;&#x9;||', CD_EMPRESA = '     ||V_CD_EMPRLANCTO||', '||&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'CD_EMPRESASOLIC = '||V_CD_EMPRLANCTO&#x9;&#x9;&#x9;     ||', CD_EMPRESAUTORIZ = '||V_CD_EMPRLANCTO&#x9;&#x9;&#x9;      ||', CD_MOVIMENTACAO = '||V_CD_MOVIMENTACAO   ||', '||&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'CD_SOLICITANTE  = '||:GLOBAL.CD_USUARIO  &#x9;&#x9;&#x9; ||',&#x9;DT_LIBERACAO     = '||V_DT_LIBERACAO      &#x9;&#x9;&#x9;||', DT_RECORD = '      ||SYSDATE||',&#x9;'||&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'HR_RECORD       = '||TO_CHAR(SYSDATE,'HH24:MI')||', NR_ITEMCOMPRA    = '||:ITEMCOMPRA.NR_ITEMCOMPRA ||', PC_PARTICIPACAO = '||V_PC_PARTICIPACAO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'QT_PEDIDAUNIDSOL= '||V_QT_PEDIDAUNIDSOL        ||', ST_ITEMCOMPRA    = '||V_ST_ITEMCOMPRA           ||', ST_LIBERADO = NULL , '||&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'DS_OBSCANCEL    = NULL, CD_NEGOCIO = '||V_CD_NEGOCIO||', CD_TIPOCOMPRA  = '||:CONTROLE.CD_TIPOCOMPRA   ||', NR_CONTRATO    = '||:CONTROLE.NR_CONTRATO||', '||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   'DS_OBSERVACAO   = '||V_DS_OBSERVACAO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'A'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;--IF (:GLOBAL.ST_AUDITORIA = 'S') THEN &amp;#10;&#x9;&#x9;              EXCEPTION&amp;#10;&#x9;&#x9;          &#x9;    WHEN OTHERS THEN&amp;#10;&#x9;&#x9;          &#x9;    &#x9;--Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥&amp;#10;&#x9;&#x9;          &#x9;      I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864,'¢NM_TABELA='||'ITEMCOMPRACCUSTO'||'¢SQLERRM='||SQLERRM||'¢DS_DETALHE='||'Gatilho KEY_COMMIT'||'¢');&amp;#10;&#x9;&#x9;          &#x9;      RAISE E_GERAL;&amp;#10;&#x9;&#x9;              END;&amp;#10;&#x9;            WHEN OTHERS THEN&amp;#10;&#x9;            &#x9;--Erro ao inserir dados na tabela ¢NM_TABELA¢. Erro: ¢SQLERRM¢.§¥Local: ¢DS_LOCAL¢&amp;#10;&#x9;            &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7314,'¢NM_TABELA='||'ITEMCOMPRACCUSTO'||'¢SQLERRM='||SQLERRM||'¢DS_LOCAL='||'Gatilho KEY-COMMIT'||'¢');&amp;#10;&#x9;              RAISE E_GERAL;&amp;#10;&#x9;            END;&amp;#10;&#x9;          END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;    END LOOP;&amp;#10;----------------------------------------------&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    ------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;-- INSERE ITEMCOMPRANEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;------------------------------------------------------------------------------------------------&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_CENTROCUSTO   := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_NEGOCIO       := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO  := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_AUTORIZADOR   := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_PC_PARTICIPACAO  := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;V_QT_PEDIDAUNIDSOL := NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_NEGOCIO') LOOP&amp;#10;&#x9;&#x9;        ---V_CD_CENTROCUSTO    := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO'  ,I);&amp;#10;&#x9;&#x9;        V_CD_NEGOCIO        := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_NEGOCIO'      ,I);/*CSL:21/12/2010:30317*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CD_MOVIMENTACAO   := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_MOVIMENTACAO' ,I); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CD_AUTORIZADOR    := GET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.CD_AUTORIZADOR'  ,I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_PC_PARTICIPACAO   := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.PC_PARTICIPACAO' ,I);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  V_QT_PEDIDAUNIDSOL  := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.QT_PEDIDAUNIDSOL',I);&amp;#10;&#x9;&#x9;        V_CD_EMPRCCUSTODEST := NVL(GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_EMPRCCUSTODEST', I),V_CD_EMPRLANCTO);&amp;#10;&#x9;&#x9;        V_DS_OBSERVACAO     := GET_GROUP_CHAR_CELL  ('GRUPO_NEGOCIO.DS_OBSERVACAO'   ,I);&amp;#10;&#x9;&#x9;        V_CD_CONTAORCAMENTO := GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_CONTAORCAMENTO',I);&amp;#10;&#x9;&#x9;        &amp;#10;&#x9;&#x9;        IF :ITEMCOMPRA.CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_NEGOCIO.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;          BEGIN&amp;#10;                INSERT INTO ITEMCOMPRANEGOCIO&amp;#10;                  ( NR_ITEMCOMPRA       ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_EMPRESA          ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_SOLICITANTE      ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;QT_PEDIDAUNIDSOL    ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PC_PARTICIPACAO     ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_MOVIMENTACAO     ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_LIBERACAO        ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_LIBERADO         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA       ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_RECORD           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;QT_SOLICITADA       ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_NEGOCIO          ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_EMPRCCUSTODEST   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DS_OBSERVACAO       ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_CONTAORCAMENTO   )&amp;#10;                VALUES&amp;#10;                  ( :ITEMCOMPRA.NR_ITEMCOMPRA ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_EMPRLANCTO           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:GLOBAL.CD_USUARIO        ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_QT_PEDIDAUNIDSOL        ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_PC_PARTICIPACAO         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_MOVIMENTACAO         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSDATE                   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;null                      ,    &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ST_ITEMCOMPRA           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SYSDATE                   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.QT_PREVISTA   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_NEGOCIO              ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_EMPRCCUSTODEST       ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DS_OBSERVACAO           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_CD_CONTAORCAMENTO   );&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('INSERT INTO ITEMCOMPRANEGOCIO&amp;#10;                  ( NR_ITEMCOMPRA       = '||:ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_EMPRESA          = '||V_CD_EMPRLANCTO          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_SOLICITANTE      = '||:GLOBAL.CD_USUARIO       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' QT_PEDIDAUNIDSOL    = '||V_QT_PEDIDAUNIDSOL       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' PC_PARTICIPACAO     = '||V_PC_PARTICIPACAO        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_MOVIMENTACAO     = '||V_CD_MOVIMENTACAO        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DT_LIBERACAO        = '||SYSDATE                  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' ST_LIBERADO         = '||null                     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' ST_ITEMCOMPRA       = '||V_ST_ITEMCOMPRA          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DT_RECORD           = '||SYSDATE                  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' QT_SOLICITADA       = '||:ITEMCOMPRA.QT_PREVISTA  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_NEGOCIO          = '||V_CD_NEGOCIO             &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_EMPRCCUSTODEST   = '||V_CD_EMPRCCUSTODEST      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DS_OBSERVACAO       = '||V_DS_OBSERVACAO          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_CONTAORCAMENTO   = '||V_CD_CONTAORCAMENTO ||'  );',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'I'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;--IF (:GLOBAL.ST_AUDITORIA = 'S') THEN &amp;#10;&#x9;&#x9;          EXCEPTION&amp;#10;&#x9;&#x9;            WHEN DUP_VAL_ON_INDEX THEN&amp;#10;&#x9;&#x9;  &#x9;&#x9;        BEGIN&amp;#10;&#x9;&#x9;                UPDATE ITEMCOMPRANEGOCIO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;           SET &#x9;CD_SOLICITANTE      = :GLOBAL.CD_USUARIO        ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;QT_PEDIDAUNIDSOL    = V_QT_PEDIDAUNIDSOL        ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PC_PARTICIPACAO     = V_PC_PARTICIPACAO         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_MOVIMENTACAO     = V_CD_MOVIMENTACAO         ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_LIBERACAO        = SYSDATE                   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_LIBERADO         = null                      ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ST_ITEMCOMPRA       = V_ST_ITEMCOMPRA           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DT_RECORD           = SYSDATE                   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;QT_SOLICITADA       = :ITEMCOMPRA.QT_PREVISTA   ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;DS_OBSERVACAO       = V_DS_OBSERVACAO           ,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;CD_CONTAORCAMENTO   = V_CD_CONTAORCAMENTO &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;         WHERE ITEMCOMPRANEGOCIO.NR_ITEMCOMPRA  &#x9; = :ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRANEGOCIO.CD_EMPRESA     &#x9; = V_CD_EMPRLANCTO&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRANEGOCIO.CD_NEGOCIO     &#x9; = V_CD_NEGOCIO&amp;#10;&#x9;&#x9;                   AND ITEMCOMPRANEGOCIO.CD_EMPRCCUSTODEST = V_CD_EMPRCCUSTODEST ;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (:GLOBAL.ST_AUDITORIA = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;PACK_AUDITORIA.INSERE_LOGUSUARIO('Atualizou a tabela ITEMCOMPRANEGOCIO ( NR_ITEMCOMPRA       = '||:ITEMCOMPRA.NR_ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_EMPRESA          = '||V_CD_EMPRLANCTO          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_SOLICITANTE      = '||:GLOBAL.CD_USUARIO       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' QT_PEDIDAUNIDSOL    = '||V_QT_PEDIDAUNIDSOL       &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' PC_PARTICIPACAO     = '||V_PC_PARTICIPACAO        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_MOVIMENTACAO     = '||V_CD_MOVIMENTACAO        &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DT_LIBERACAO        = '||SYSDATE                  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' ST_LIBERADO         = '||null                     &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' ST_ITEMCOMPRA       = '||V_ST_ITEMCOMPRA          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DT_RECORD           = '||SYSDATE                  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' QT_SOLICITADA       = '||:ITEMCOMPRA.QT_PREVISTA  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_NEGOCIO          = '||V_CD_NEGOCIO             &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_EMPRCCUSTODEST   = '||V_CD_EMPRCCUSTODEST      &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' DS_OBSERVACAO       = '||V_DS_OBSERVACAO          &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;||' CD_CONTAORCAMENTO   = '||V_CD_CONTAORCAMENTO ||'  );',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; NULL,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9; 'A'); &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&#x9;--IF (:GLOBAL.ST_AUDITORIA = 'S') THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;              EXCEPTION&amp;#10;&#x9;&#x9;          &#x9;    WHEN OTHERS THEN&amp;#10;&#x9;&#x9;          &#x9;    &#x9;--Erro ao Atualizar o registro da Tabela ¢NM_TABELA¢. Erro ¢SQLERRM¢. ¥Detalhes ¢DS_DETALHE¢¥&amp;#10;&#x9;&#x9;          &#x9;      I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(1864,'¢NM_TABELA='||'ITEMCOMPRANEGOCIO'||'¢SQLERRM='||SQLERRM||'¢DS_DETALHE='||'Gatilho KEY_COMMIT'||'¢');&amp;#10;&#x9;&#x9;          &#x9;      RAISE E_GERAL;&amp;#10;&#x9;&#x9;              END;&amp;#10;&#x9;            WHEN OTHERS THEN&amp;#10;&#x9;            &#x9;--Erro ao inserir dados na tabela ¢NM_TABELA¢. Erro: ¢SQLERRM¢.§¥Local: ¢DS_LOCAL¢&amp;#10;&#x9;            &#x9;I_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(7314,'¢NM_TABELA='||'ITEMCOMPRANEGOCIO'||'¢SQLERRM='||SQLERRM||'¢DS_LOCAL='||'Gatilho KEY-COMMIT'||'¢');&amp;#10;&#x9;              RAISE E_GERAL;&amp;#10;&#x9;            END;&amp;#10;&#x9;          END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   &amp;#10;&#x9;&#x9;&#x9;    END LOOP;&amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    &amp;#10;----------------------------------------------&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    PACK_ORCOMPRAS.GRAVA_ITEMCOMPRARC(:ITEMCOMPRA.CD_EMPRESA, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  :ITEMCOMPRA.CD_EMPRESA, /*JFB: 46883: 16/07/2012 */&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  /*:GLOBAL.CD_EMPRESA,*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  :ITEMCOMPRA.NR_ITEMCOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  SYSDATE,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  V_ST_BLOQUEIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;                                  I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;    V_MSG_BLOQUEIO := NULL;&amp;#10;&#x9;&#x9;&#x9;    IF NVL(V_ST_BLOQUEIO,'N') = 'S' THEN&amp;#10;&#x9;&#x9;&#x9;      V_MSG_BLOQUEIO := I_MENSAGEM;&amp;#10;&#x9;&#x9;&#x9;      I_MENSAGEM     := NULL;&amp;#10;&#x9;&#x9;&#x9;      &amp;#10;&#x9;&#x9;&#x9;      IF V_MSG_BLOQUEIO IS NOT NULL THEN&amp;#10;&#x9;&#x9;        &#x9;V_MSG_BLOQUEIO := REPLACE(V_MSG_BLOQUEIO,'¢MPM=MAX014405¢');&amp;#10;&#x9;&#x9;        &#x9;V_MSG_BLOQUEIO := REPLACE(V_MSG_BLOQUEIO,'¢MPM=MAX013915¢');&amp;#10;&#x9;&#x9;        &#x9;IF V_MENSAGEMFINAL IS NOT NULL THEN&amp;#10;&#x9;&#x9;        &#x9;&#x9;V_ST_BLOQUEIOFINAL := 'S';&amp;#10;&#x9;&#x9;        &#x9;&#x9;V_MENSAGEMFINAL := V_MENSAGEMFINAL||' '||CHR(13)||CHR(10)||V_MSG_BLOQUEIO;&amp;#10;&#x9;&#x9;        &#x9;ELSE&amp;#10;&#x9;&#x9;        &#x9;&#x9;V_ST_BLOQUEIOFINAL := 'S';&amp;#10;&#x9;&#x9;        &#x9;&#x9;V_MENSAGEMFINAL := V_MSG_BLOQUEIO;&amp;#10;&#x9;&#x9;        &#x9;END IF;&amp;#10;&#x9;&#x9;        END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;    END IF; &amp;#10;&#x9;&#x9;&#x9;    &amp;#10;&#x9;&#x9;&#x9;    IF I_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;&#x9;    /**FLA:17/12/2019:140632&amp;#10;&#x9;&#x9;&#x9;     * Retirada do FAZ_COMMIT para possibilidade de cancelamento da SEL403 sem INSERIR dados. Há um FAZ_COMMIT no fim do código que realiza o commit&amp;#10;&#x9;&#x9;&#x9;     */&amp;#10;  &#x9;&#x9;&#x9;  --FAZ_COMMIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*ANS:01/06/2017:110683 -- GERA PROCESSO DE APROVAÇÃO PELO PAA*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF ((V_MSG_BLOQUEIO IS NULL) AND (V_ST_ITEMCOMPRA = 0) AND &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;(NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_PAAITEMCOMPRA'),'N') = 'S')) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  IF (NVL(PACK_ORCOMPRAS.IS_ITEMCOMPRA_CENTRO_CUSTO(V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;:ITEMCOMPRA.NR_ITEMCOMPRA,:ITEMCOMPRA.CD_ITEM),'N') = 'S') THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;V_CD_CENTROCUSTO := NULL;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FOR I IN 1..GET_GROUP_ROW_COUNT('GRUPO_CC') LOOP&amp;#10;&#x9;&#x9;&#x9;&#x9;        V_CD_CENTROCUSTO := GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_CENTROCUSTO'  ,I);&amp;#10;&#x9;&#x9;&#x9;&#x9;        &amp;#10;&#x9;&#x9;&#x9;&#x9;        IF :ITEMCOMPRA.CD_ITEM = GET_GROUP_NUMBER_CELL('GRUPO_CC.CD_ITEM', I) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;-- ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;V_CONTEXTO.DELETE;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(1).NM_CAMPO := 'TP_APROVACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(1).VL_CAMPO := 'SOLICITACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(2).NM_CAMPO := 'DS_DADOSAPROVACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(2).VL_CAMPO := 'CD_EMPRESA|'||V_CD_EMPRLANCTO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'|NR_ITEMCOMPRA|'||:ITEMCOMPRA.NR_ITEMCOMPRA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'|CD_CENTROCUSTO|'||V_CD_CENTROCUSTO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(3).NM_CAMPO := 'CD_DEPARTAMENTO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(3).VL_CAMPO := :CONTROLE.CD_DEPARTAMENTO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_PAA_COMPRAS.SET_CONTEXTO(V_CONTEXTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_PAA_ORIGINACAO.POST_PAA('COM',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               1,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               'LIBERA_SOLICITACAO',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_CONTEXTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               I_MENSAGEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_ID_PROCESSO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END LOOP;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;-- ITEMCOMPRA&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;V_CONTEXTO.DELETE;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(1).NM_CAMPO := 'TP_APROVACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(1).VL_CAMPO := 'SOLICITACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(2).NM_CAMPO := 'DS_DADOSAPROVACAO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(2).VL_CAMPO := 'CD_EMPRESA|'||V_CD_EMPRLANCTO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'|NR_ITEMCOMPRA|'||:ITEMCOMPRA.NR_ITEMCOMPRA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'|CD_CENTROCUSTO|'||NULL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF :CONTROLE.CD_DEPARTAMENTO IS NOT NULL THEN&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(3).NM_CAMPO := 'CD_DEPARTAMENTO';&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  V_CONTEXTO(3).VL_CAMPO := :CONTROLE.CD_DEPARTAMENTO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_PAA_COMPRAS.SET_CONTEXTO(V_CONTEXTO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  PACK_PAA_ORIGINACAO.POST_PAA('COM',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               1,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               'LIBERA_SOLICITACAO',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_CONTEXTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_CD_EMPRLANCTO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               I_MENSAGEM,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                               V_ID_PROCESSO);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;  &#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;/*AUG:130776:20/02/2019*/&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF NVL(:PARAMETER.CD_MODULO,'ZZZ') = 'EMV' AND&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; NVL(:PARAMETER.CD_PROGRAMA,-1)  = 78 &#x9; THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DADOS_ENTRADA.CD_MODULO   &#x9;:= :GLOBAL.CD_MODULO;   &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DADOS_ENTRADA.CD_PROGRAMA &#x9;:= :GLOBAL.CD_PROGRAMA; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DADOS_ENTRADA.CD_EMPRESA  &#x9;:= :GLOBAL.CD_EMPRESA;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DADOS_ENTRADA.CD_USUARIO  &#x9;:= :GLOBAL.CD_USUARIO;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_DADOS_ENTRADA.ST_AUDITORIA&#x9;:= :GLOBAL.ST_AUDITORIA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO := :PARAMETER.CD_EMPRPEDIDOINTERNO; --emprpedidointerno&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.NR_PEDIDOINTERNO  := :PARAMETER.NR_PEDIDOINTERNO;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.NR_ITEMCOMPRA     := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRCOMPRA     := :ITEMCOMPRA.CD_EMPRESA;&amp;#10;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PEDIDOINTERNO.GRAVA_PEDIDOINTERNOINTECOMPRA(V_DADOS_ENTRADA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_ROW_PEDIDOINTERNOINTECOMPRA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;   I_MENSAGEM);&amp;#10;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF; &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;SELECT *&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;INTO V_ROW_ITEMPEDIDOINTERNO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  FROM ITEMPEDIDOINTERNO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; WHERE ITEMPEDIDOINTERNO.CD_EMPRPEDINTERNO&#x9;= V_ROW_PEDIDOINTERNOINTECOMPRA.CD_EMPRPEDINTERNO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; AND ITEMPEDIDOINTERNO.NR_PEDIDOINTERNO&#x9;&#x9;= V_ROW_PEDIDOINTERNOINTECOMPRA.NR_PEDIDOINTERNO&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; &#x9; AND ITEMPEDIDOINTERNO.CD_ITEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;= :ITEMCOMPRA.CD_ITEM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM := 'Erro desconhecido ao buscar dados do item do pedido interno..: '||SQLERRM;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IF (V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA IS NOT NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO IS NOT NULL) OR &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; (V_ROW_ITEMPEDIDOINTERNO.QT_PEDIDA&#x9;  IS NOT NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_PEDIDO&#x9;  IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA := NVL(V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA,0) + :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO := NVL(V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO,0) + :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSIF (V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA IS NOT NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO IS NULL) OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;(V_ROW_ITEMPEDIDOINTERNO.QT_PEDIDA   IS NOT NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_PEDIDO   IS NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA := NVL(V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA,0) + :ITEMCOMPRA.QT_PREVISTA;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ELSIF (V_ROW_ITEMPEDIDOINTERNO.QT_ATENDIDA IS NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO IS NOT NULL) OR&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    (V_ROW_ITEMPEDIDOINTERNO.QT_PEDIDA   IS NULL AND V_ROW_ITEMPEDIDOINTERNO.PS_PEDIDO   IS NOT NULL) THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO := NVL(V_ROW_ITEMPEDIDOINTERNO.PS_ATENDIDO,0) + :ITEMCOMPRA.QT_PREVISTA;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;---&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PEDIDOINTERNO.GRAVA_ITEMPEDIDOINTERNO(V_DADOS_ENTRADA,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; V_ROW_ITEMPEDIDOINTERNO,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;PACK_PEDIDOINTERNO.ARRUMA_STATUS_PEDIDO(I_NR_PEDIDO  => V_ROW_ITEMPEDIDOINTERNO.NR_PEDIDOINTERNO,&amp;#10;                                             &#x9; I_CD_EMPRESA => V_ROW_ITEMPEDIDOINTERNO.CD_EMPRPEDINTERNO,&amp;#10;                                               O_MSG        => I_MENSAGEM,&amp;#10;                                               I_CD_ITEM    => NULL );&amp;#10;&#x9;&#x9;&#x9;      IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9; &#x9;  &#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;      END IF;&amp;#10;&#x9;&#x9;&#x9;    END IF;--IF NVL(:PARAMETER.CD_MODULO,'ZZZ') = 'EMV'&amp;#10;        END IF;&amp;#10;  &#x9;  END IF; -- IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NOT NULL AND :ITEMCOMPRA.CD_EMPRESA IS NOT NULL THEN&amp;#10;  &#x9;   &amp;#10;  &#x9;  &amp;#10;  &#x9;   &amp;#10;&#x9;    EXIT WHEN :SYSTEM.LAST_RECORD = 'TRUE';&amp;#10;&#x9;    NEXT_RECORD;&amp;#10;    END LOOP;&amp;#10;    &amp;#10;    &amp;#10;    &amp;#10;    &amp;#10;    /**GRA: Projeto mensagens para autorizador: 17/05/2007&amp;#10;&#x9;&#x9; * Será enviado uma mensagem de solicitação pendente &amp;#10;&#x9;&#x9; * ao autorizador informado na tela.&amp;#10;&#x9;&#x9; */&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(PACK_PROCEDIMENTOS.V_VT_PROJETORATEIO.COUNT, 0) > 0 THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_PROJETOMONI.INSERE_PROJETORATEIO(I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;    END IF;&amp;#10;&#x9;    &amp;#10;&#x9;    FAZ_COMMIT;&amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;  IF CONTADOR = 1 THEN&amp;#10;&#x9;&#x9;    PACK_ENVIAMSG.ENVIA( :GLOBAL.CD_USUARIO, &amp;#10;&#x9; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; :ITEMCOMPRA.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; 'AUTORIZAÇÃO PENDENTE',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; PACK_MENSAGEM.MENS_ALERTA(1776,'¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; I_MENSAGEM);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;    IF I_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;    END IF;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    FAZ_COMMIT;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    IF NVL(V_ST_BLOQUEIO, 'N') = 'S' THEN --ATF:31/08/2011:33772&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;-- Lançamento ultrapassou Orçamento estipulado, Favor entrar em contato com o departamento responsável.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_MENSAGEMFINAL IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--Foi encontrato inconsistências no Controle Orçamentário. Verique o detalhe da mensagem. Origem ¢DS_ORIGEM¢&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(28475, '¢DS_ORIGEM='||'Compras'||'¥'||V_MENSAGEMFINAL||'¥'||'¢');  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --MENSAGEM_PADRAO(20157, '¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  --Lançamento ultrapassou Orçamento estipulado, Favor entrar em contato com o departamento responsável.&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(26854, NULL);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;  &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Solicitação de Compra ¢NR_ITEMCOMPRA¢ com número de lote ¢NR_LOTECOMPRA¢ da Empresa ¢CD_EMPRESA¢ salva com Sucesso.&amp;#10;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(20157, '¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;    --Solicitação de Compra ¢NR_ITEMCOMPRA¢ com número de lote ¢NR_LOTECOMPRA¢ da Empresa ¢CD_EMPRESA¢ salva com Sucesso.&amp;#10;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(20157, '¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&#x9;    &amp;#10;&#x9;&#x9;  ELSIF CONTADOR > 1 THEN    &amp;#10;&#x9;&#x9;    PACK_ENVIAMSG.ENVIA(:GLOBAL.CD_USUARIO, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRA.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'AUTORIZAÇÃO PENDENTE',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_MENSAGEM.MENS_ALERTA(1776,'¢NR_ITEMCOMPRA='||V_NR_ITEMCOMPRA||' - '||V_NR_ITEMCOMPRA_U||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  IF I_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;  MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;    FAZ_COMMIT;&#x9;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    IF NVL(V_ST_BLOQUEIOFINAL, 'N') = 'S' THEN --ATF:31/08/2011:33772&amp;#10;&#x9;&#x9;    &#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_MENSAGEMFINAL IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;--MENSAGEM('MAXYS',V_MSG_BLOQUEIO,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(28475, '¢DS_ORIGEM='||'Compras'||'¥'||V_MENSAGEMFINAL||'¥'||'¢');  &#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(20160, '¢NR_ITEMCOMPRA='||V_NR_ITEMCOMPRA||'¢NR_ITEMCOMPRA_U='||V_NR_ITEMCOMPRA_U||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(20160, '¢NR_ITEMCOMPRA='||V_NR_ITEMCOMPRA||'¢NR_ITEMCOMPRA_U='||V_NR_ITEMCOMPRA_U||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;  &amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE&amp;#10;&#x9;&#x9;&#x9;&#x9;  --Solicitação de Compra de ¢NR_ITEMCOMPRA¢ até ¢NR_ITEMCOMPRA_U¢ com número de lote ¢NR_LOTECOMPRA¢ da Empresa ¢CD_EMPRESA¢ salva com Sucesso!&amp;#10;&#x9;&#x9;&#x9;    MENSAGEM_PADRAO(20160, '¢NR_ITEMCOMPRA='||V_NR_ITEMCOMPRA||'¢NR_ITEMCOMPRA_U='||V_NR_ITEMCOMPRA_U||'¢NR_LOTECOMPRA='||I_NR_LOTECOMPRA||'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢');&amp;#10;&#x9;&#x9;    END IF;&amp;#10;&#x9;   &#x9;ELSE&amp;#10;&#x9;&#x9;    PACK_ENVIAMSG.ENVIA(:GLOBAL.CD_USUARIO, &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  :ITEMCOMPRA.CD_AUTORIZADOR,&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'AUTORIZAÇÃO PENDENTE',&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;PACK_MENSAGEM.MENS_ALERTA(1776,'¢NR_ITEMCOMPRA='||:ITEMCOMPRA.NR_ITEMCOMPRA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_EMPRESA='||V_CD_EMPRLANCTO||'¢'),&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_MENSAGEM);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;  IF I_MENSAGEM IS NOT NULL THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;  MENSAGEM('Maxys',I_MENSAGEM,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;  RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;&#x9;  &amp;#10;&#x9;&#x9;&#x9;&#x9;FAZ_COMMIT;&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF NVL(V_ST_BLOQUEIO, 'N') = 'S' THEN &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;IF V_MSG_BLOQUEIO IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM('MAXYS',V_MSG_BLOQUEIO,2);&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;END IF;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&#x9;&#x9;IF V_INFORMACAO IS NOT NULL THEN&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Lote de compra ¢NR_LOTECOMPRA¢ alterado com Sucesso! ¥ Solicitações em processo de compra: ¢V_INFORMACAO¢ § § § §&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(4694,'¢NR_LOTECOMPRA='||:CONTROLE.NR_LOTECOMPRA||'¢V_INFORMACAO='|| V_INFORMACAO||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;ELSE &amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;--Lote de compra ¢NR_LOTECOMPRA¢ alterado com Sucesso!&amp;#10;&#x9;&#x9;&#x9;&#x9;  MENSAGEM_PADRAO(4695,'¢NR_LOTECOMPRA='||:CONTROLE.NR_LOTECOMPRA||'¢');&amp;#10;&#x9;&#x9;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;  END IF;&#x9;  &amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;&#x9;/*ASF:24/06/2019:134720 - Alteração para gravar anexo em solicitação de compra*/&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.SALVA_ANEXO(I_MENSAGEM);       &amp;#10;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF I_MENSAGEM IS NOT NULL THEN&amp;#10;&#x9;&#x9;&#x9;RAISE E_GERAL;&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF FORM_SUCCESS THEN&amp;#10;&#x9;&#x9;&#x9;FAZ_COMMIT;&amp;#10;&#x9;&#x9;END IF;&#x9;&amp;#10;&amp;#10;&#x9;&#x9;--Conforme parametro deve-se enviar email aos autorizadores.&amp;#10;&#x9;&#x9;V_ST_ENVIAEMAIL := PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA),'CHK_ALERTAEMAIL');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(V_ST_ENVIAEMAIL,'N') = 'S' THEN&amp;#10;&#x9;&#x9;  MESSAGE('Enviando email ao autorizador... Aguarde.',NO_ACKNOWLEDGE);&amp;#10;   &#x9;  BEGIN&amp;#10;   &#x9;  &#x9;SELECT PARMCOMPRA.CD_EMPRCENTRALIZ &amp;#10;   &#x9;  &#x9;  INTO V_CD_EMPRCENTRALIZ&amp;#10;   &#x9;  &#x9;  FROM PARMCOMPRA&amp;#10;   &#x9;  &#x9; WHERE PARMCOMPRA.CD_EMPRESA = NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA);&amp;#10;   &#x9;  EXCEPTION&amp;#10;   &#x9;  &#x9;WHEN OTHERS THEN&amp;#10;   &#x9;  &#x9;  V_CD_EMPRCENTRALIZ := NULL;&amp;#10;   &#x9;  END;&amp;#10;   &#x9;  &amp;#10;   &#x9;  IF (NVL(PACK_PARMGEN.CONSULTA_PARAMETRO('COM',9,'MAX',:GLOBAL.CD_EMPRESA,'ST_AGRUPACOTACAOCENTRAL'),'N') = 'S') THEN&amp;#10;   &#x9;  &#x9;V_CD_EMPRESA := NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA);&amp;#10;   &#x9;  ELSE&amp;#10;   &#x9;  &#x9;V_CD_EMPRESA := NVL(V_CD_EMPRCENTRALIZ,NVL(:CONTROLE.CD_EMPRESA,:GLOBAL.CD_EMPRESA));&amp;#10;   &#x9;  END IF;&amp;#10;   &#x9;  &amp;#10;   &#x9;  ENVIA_EMAIL(I_CD_EMPRESA&#x9;&#x9;=> V_CD_EMPRESA,&amp;#10;   &#x9;  &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;I_NR_LOTECOMPRA => NVL(I_NR_LOTECOMPRA,:CONTROLE.NR_LOTECOMPRA));&#x9;&amp;#10;   &#x9;  &amp;#10;   &#x9;  MESSAGE('Email enviado...',NO_ACKNOWLEDGE);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;V_NR_ITEMCOMPRA := :ITEMCOMPRA.NR_ITEMCOMPRA;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_BLOCK('CONTROLE');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;PACK_GRUPO.CRIA_GRUPO_CC;&amp;#10;&#x9;&#x9;PACK_GRUPO_NEGOCIO.CRIA_GRUPO_NEGOCIO;&amp;#10;&#x9;&#x9;:GLOBAL.V_GRUPO_CC :=NULL;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.V_DUPLICADO := FALSE; /*ATR:80785:11/02/2015*/&amp;#10;&#x9;&#x9;GO_ITEM('CONTROLE.CD_EMPRESA');&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.ARQUIVOS.DELETE;&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;IF NVL(:PARAMETER.DS_PROCESSO,'X') = 'PRODUCAO' THEN&amp;#10;&#x9;&#x9;  EXIT_FORM(NO_VALIDATE,FULL_ROLLBACK);&amp;#10;&#x9;&#x9;END IF;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_SAIDA THEN --WLV:07/02/2012:40906&amp;#10;&#x9;  /**FLA:06/12/2019:142176&amp;#10;&#x9;   * Adicionado para impedir o travamento da sessão da tela&amp;#10;&#x9;   */&amp;#10;&#x9;&#x9;FAZ_ROLLBACK;&amp;#10;&#x9;&#x9;--NULL;&amp;#10;&#x9;WHEN E_PMS THEN&amp;#10;&#x9;  -- MENSAGEM('Maxys','Projeto não informado!',2);&amp;#10;&#x9;  NULL; &#x9;&#x9;&amp;#10;  WHEN E_GERAL THEN&amp;#10;&#x9;  FAZ_ROLLBACK;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||:GLOBAL.CD_PROGRAMA,I_MENSAGEM,2);&amp;#10;&#x9;&#x9;IF V_CAMPO IS NOT NULL THEN&amp;#10;&#x9;&#x9;  GO_ITEM(V_CAMPO);&amp;#10;&#x9;  END IF;&#x9; &amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;  FAZ_ROLLBACK;&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||:GLOBAL.CD_PROGRAMA||' - Erro',SQLERRM,1);&amp;#10;END;"
                 DisplayInKeyboardHelp="true"/>
        <Trigger Name="KEY-DELREC" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="DECLARE &amp;#10;&#x9;V_ST_EXCLUI &#x9;BOOLEAN := FALSE;&#x9;&amp;#10;&#x9;--V_ALERT &#x9;&#x9;&#x9;NUMBER;&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;VARCHAR2(32000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;EXCEPTION;  &amp;#10;BEGIN&#x9;&amp;#10;  &amp;#10;  V_ST_EXCLUI := PACK_VALIDA.VAL_PERMISSAO (V_TIPO &#x9;&#x9;&#x9;&#x9;=> 'E',&amp;#10;&#x9;&#x9;&#x9;                                      V_CD_USUARIO &#x9;=> :GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;                                      V_CD_EMPRESA &#x9;=> :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;                                      V_CD_MODULO &#x9;=> :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;                                      V_CD_PROGRAMA => :GLOBAL.CD_PROGRAMA);  &amp;#10;&#x9;IF NOT (V_ST_EXCLUI) THEN&amp;#10;&#x9;&#x9;--O usuário ¢CD_USUARIO¢ não tem permissão de EXCLUSÃO para o módulo ¢CD_MODULO¢,  programa ¢CD_PROGRAMA¢ e Empresa ¢CD_EMPRESA¢. Verifique o Programa ANV053.&amp;#10;&#x9;&#x9;V_MENSAGEM := PACK_MENSAGEM.MENS_PADRAO(487,'¢CD_USUARIO=' ||:GLOBAL.CD_USUARIO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_MODULO='  ||:GLOBAL.CD_MODULO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_PROGRAMA='||:GLOBAL.CD_PROGRAMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_EMPRESA=' ||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;  RAISE E_GERAL;&amp;#10;&#x9;END IF; --IF NOT (V_ST_EXCLUI) THEN&amp;#10;&#x9;-----------------------------------&amp;#10;  &amp;#10;  :GLOBAL.MD_BLOCO := :SYSTEM.CURRENT_BLOCK;&amp;#10;  &amp;#10;  IF (:GLOBAL.TP_ACESSO = 'M') THEN  &#x9;&amp;#10;  &#x9;IF :ITEMCOMPRA.CD_EMPRESA IS NOT NULL AND &amp;#10;  &#x9;&#x9; :ITEMCOMPRA.NR_ITEMCOMPRA IS NOT NULL AND &amp;#10;  &#x9;&#x9; :ITEMCOMPRA.CD_ITEM IS NOT NULL THEN&amp;#10;    &#x9;GO_ITEM('ITEMCOMPRA.DS_OBSCANCEL');&amp;#10;  &#x9;ELSE&amp;#10;  &#x9;&#x9;GO_BLOCK ('ITEMCOMPRA');&amp;#10;    END IF;&amp;#10;  END IF; --IF (:GLOBAL.TP_ACESSO = 'M') THEN  &#x9;&amp;#10;  -------------------------------------------&amp;#10;  &amp;#10;  &amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(2627,'GATILHO KEY-DELREC: ¢SQLERRM='||SQLERRM||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-CLRREC" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;&#x9;IF :GLOBAL.MD_BLOCO = 'ITEMCOMPRACCUSTO' THEN&amp;#10;&#x9;  IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO IS NOT NULL THEN&amp;#10;&#x9;    FOR I IN 1.. GET_GROUP_ROW_COUNT('REC_CCUSTO') LOOP&amp;#10;&#x9;      IF :ITEMCOMPRACCUSTO.CD_CENTROCUSTO = GET_GROUP_NUMBER_CELL('REC_CCUSTO.CD_CENTROCUSTO', I) THEN&amp;#10;&#x9;         DELETE_GROUP_ROW('REC_CCUSTO');&amp;#10;&#x9;      END IF;     &amp;#10;&#x9;    END LOOP;&amp;#10;&#x9;  END IF; &#x9;&amp;#10;&#x9;END IF;&amp;#10;&amp;#10;&#x9;PACK_GRUPO.DELETA_GRUPO_CC(:ITEMCOMPRACCUSTO.CD_ITEM);&amp;#10;  CLEAR_RECORD;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-CQUERY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;&#x9;NULL;&amp;#10;END;" DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-DUP-ITEM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="PACK_PROCEDIMENTOS.SOLICITACAO_DEVOLVIDA;" DisplayInKeyboardHelp="false"/>
        <Trigger Name="WHEN-WINDOW-CLOSED" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;  IF :SYSTEM.CURSOR_BLOCK = 'ITEMCOMPRACCUSTO' THEN&amp;#10;  &#x9;&amp;#10;  &#x9;GO_BLOCK('ITEMCOMPRA');&amp;#10;  &#x9;&amp;#10;  ELSE&amp;#10;  &#x9;EXIT_FORM(NO_VALIDATE,FULL_ROLLBACK);&amp;#10;  END IF;&#x9;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-CREREC" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;&#x9;IF ((:SYSTEM.RECORD_STATUS = 'INSERT') AND NOT PACK_VALIDA.VAL_PERMISSAO('I',:GLOBAL.CD_USUARIO,:GLOBAL.CD_EMPRESA,:GLOBAL.CD_MODULO,:GLOBAL.CD_PROGRAMA)) THEN&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(486,'¢CD_USUARIO = '||:GLOBAL.CD_USUARIO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_MODULO  = '||:GLOBAL.CD_MODULO||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_PROGRAMA= '||:GLOBAL.CD_PROGRAMA||&amp;#10;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;'¢CD_EMPRESA = '||:GLOBAL.CD_EMPRESA||'¢');&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;&#x9;IF :SYSTEM.CURSOR_BLOCK = 'ITEMCOMPRA' THEN&amp;#10;&#x9;&#x9;NEXT_RECORD;&amp;#10;&#x9;END IF;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-NXTBLK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-MENU" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;&#x9;&amp;#10;&#x9;IF :ITEMCOMPRA.NR_ITEMCOMPRA IS NULL THEN&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRA.DELETE;&amp;#10;&#x9;&#x9;PACK_PROCEDIMENTOS.VET_ITEMCOMPRACCUSTO.DELETE; &amp;#10;&amp;#10;&#x9;  &amp;#10;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRACC');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_BLOCK('DUPLICAITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;GO_BLOCK('CONS_ITEMCOMPRA');&amp;#10;&#x9;&#x9;CLEAR_BLOCK(NO_VALIDATE);&amp;#10;&#x9;&#x9;&amp;#10;&#x9;&#x9;CENTRALIZA_FORM('WIN_ITEMCOMPRA', 'WIN_DUPLICALOTECOMPRA');&amp;#10;&#x9;&#x9;GO_ITEM('CONS_ITEMCOMPRA.CD_EMPRESA');&amp;#10;&#x9;ELSE&amp;#10;&#x9;&#x9;--Duplicação só é permitada quando não há consulta de Lote de Compra em Tela.&amp;#10;&#x9;&#x9;MENSAGEM_PADRAO(24789, NULL);&amp;#10;&#x9;END IF;&amp;#10;&#x9;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-CLRFRM" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-EXIT" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&#x9;&amp;#10;&#x9;EXIT_FORM(NO_VALIDATE,FULL_ROLLBACK);&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="ON-ERROR" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="VALIDA_ERROS;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="ON-MESSAGE" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="VALIDA_MENSAGEM;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-CLRBLK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-EXEQRY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-PRINT" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;  NULL;&amp;#10;END;" DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-ENTQRY" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-EDIT" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-PRVBLK" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL" TriggerText="NULL;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-HELP" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="DECLARE&amp;#10;  V_DS_AJUDA  VARCHAR2(32000);&amp;#10;  V_DS_TITULO VARCHAR2(32000);&amp;#10;  V_NM_ITEM   VARCHAR2(32000);&amp;#10;  V_NM_BLOCO  VARCHAR2(32000);&amp;#10;&amp;#10;BEGIN&amp;#10;&amp;#10;  IF (:SYSTEM.MOUSE_ITEM IS NOT NULL) THEN&amp;#10;    V_NM_BLOCO := SUBSTR(:SYSTEM.MOUSE_ITEM, 1, INSTR(:SYSTEM.MOUSE_ITEM, '.') - 1);&amp;#10;    V_NM_ITEM  := SUBSTR(:SYSTEM.MOUSE_ITEM, INSTR(:SYSTEM.MOUSE_ITEM, '.') + 1, LENGTH(:SYSTEM.MOUSE_ITEM));&amp;#10;    BEGIN&amp;#10;      SELECT AJUDAMAXYS.DS_AJUDA, AJUDAMAXYS.DS_TITULO&amp;#10;        INTO V_DS_AJUDA, V_DS_TITULO&amp;#10;        FROM ITEMAJUDAMAXYS, AJUDAMAXYS&amp;#10;       WHERE AJUDAMAXYS.CD_AJUDA = ITEMAJUDAMAXYS.CD_AJUDA&amp;#10;         AND ITEMAJUDAMAXYS.CD_PROGRAMA = :GLOBAL.CD_PROGRAMA&amp;#10;         AND ITEMAJUDAMAXYS.CD_MODULO = :GLOBAL.CD_MODULO&amp;#10;         AND ITEMAJUDAMAXYS.CD_BLOCO = V_NM_BLOCO&amp;#10;         AND ITEMAJUDAMAXYS.CD_ITEM = V_NM_ITEM;&amp;#10;    EXCEPTION&amp;#10;      WHEN NO_DATA_FOUND THEN&amp;#10;        V_DS_AJUDA  := 'Não foi localizada ajuda para este campo.';&amp;#10;        V_DS_TITULO := V_NM_BLOCO||'.'||V_NM_ITEM;&amp;#10;    END;&amp;#10;&#x9;  HOST(:GLOBAL.VL_CURRENTPATH||'\KAMIKAZE.EXE &quot;S:\MAXYAJUDA\JRE1.6\BIN\JAVAW&quot; -JAR &quot;S:\MAXYAJUDA\MAXYAJUDA.JAR&quot; &quot;'||V_DS_TITULO||'&quot; &quot;'||V_DS_AJUDA||'&quot;', NO_SCREEN);&amp;#10;&#x9;END IF;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-F9" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="BEGIN&amp;#10;&#x9;IF SHOW_LOV('PROFILE') THEN&amp;#10;&#x9;&#x9;DECLARE&amp;#10;&#x9;&#x9;  I_CD_MODULO      PROFILE.CD_MODULO%TYPE;&amp;#10;&#x9;&#x9;  I_CD_PROGRAMA    PROFILE.CD_PROGRAMA%TYPE;&amp;#10;&#x9;&#x9;  I_TP_ACESSO      PROFILE.TP_ACESSO%TYPE;&amp;#10;&#x9;&#x9;  I_DS_PROGRAMA    PROGRAMA.DS_PROGRAMA%TYPE;&amp;#10;&#x9;&#x9;  I_ST_AUDITORIA   PROGRAMA.ST_AUDITORIA%TYPE;&amp;#10;&#x9;&#x9;  AUX_ST_AUDITORIA PROGRAMA.ST_AUDITORIA%TYPE;&amp;#10;&#x9;&#x9;  AUX_CD_MODULO    PROGRAMA.CD_MODULO%TYPE;&amp;#10;&#x9;&#x9;  AUX_CD_PROGRAMA  PROGRAMA.CD_PROGRAMA%TYPE;&amp;#10;&#x9;&#x9;  AUX_TP_ACESSO    PROFILE.TP_ACESSO%TYPE;&amp;#10;&#x9;&#x9;  --I_MOSTRA_LOV     BOOLEAN;&amp;#10;&#x9;&#x9;BEGIN&amp;#10;&#x9;&#x9;  IF :GLOBAL.EXEC_PROGRAMA IS NOT NULL THEN&amp;#10;&#x9;&#x9;    I_CD_MODULO   := SUBSTR(:GLOBAL.EXEC_PROGRAMA,1,3);&amp;#10;&#x9;&#x9;    I_CD_PROGRAMA := SUBSTR(:GLOBAL.EXEC_PROGRAMA,4,3);&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    SELECT PROFILE.TP_ACESSO&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO I_TP_ACESSO&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM PROFILE&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE (PROFILE.CD_EMPRESA = :GLOBAL.CD_EMPRESA)&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND (PROFILE.CD_USUARIO = :GLOBAL.CD_USUARIO)&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND (PROFILE.CD_MODULO = I_CD_MODULO)&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND (PROFILE.CD_PROGRAMA = I_CD_PROGRAMA);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;&#x9;&#x9;SELECT PROGRAMA.DS_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9;&#x9;       PROGRAMA.ST_AUDITORIA&amp;#10;&#x9;&#x9;&#x9;&#x9;  INTO I_DS_PROGRAMA,&amp;#10;&#x9;&#x9;&#x9;&#x9;       I_ST_AUDITORIA&amp;#10;&#x9;&#x9;&#x9;&#x9;  FROM PROGRAMA&amp;#10;&#x9;&#x9;&#x9;&#x9; WHERE (PROGRAMA.CD_MODULO = I_CD_MODULO)&amp;#10;&#x9;&#x9;&#x9;&#x9;   AND (PROGRAMA.CD_PROGRAMA = I_CD_PROGRAMA);&amp;#10;&amp;#10;&#x9;&#x9;    :GLOBAL.DS_PROGRAMA  := I_DS_PROGRAMA;&amp;#10;&#x9;&#x9;    AUX_TP_ACESSO        := :GLOBAL.TP_ACESSO;&amp;#10;&#x9;&#x9;    AUX_ST_AUDITORIA     := :GLOBAL.ST_AUDITORIA;&amp;#10;&#x9;&#x9;    AUX_CD_MODULO        := :GLOBAL.CD_MODULO;&amp;#10;&#x9;&#x9;    AUX_CD_PROGRAMA      := :GLOBAL.CD_PROGRAMA;&amp;#10;&#x9;&#x9;    :GLOBAL.TP_ACESSO    := I_TP_ACESSO;&amp;#10;&#x9;&#x9;    :GLOBAL.ST_AUDITORIA := I_ST_AUDITORIA;&amp;#10;&#x9;&#x9;    :GLOBAL.CD_MODULO    := I_CD_MODULO;&amp;#10;&#x9;&#x9;    :GLOBAL.CD_PROGRAMA  := I_CD_PROGRAMA;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    /*IF I_CD_PROGRAMA &lt;= 09 THEN&amp;#10;&#x9;&#x9;       CALL_FORM(I_CD_MODULO||'00'||I_CD_PROGRAMA,HIDE,DO_REPLACE,NO_QUERY_ONLY);&amp;#10;&#x9;&#x9;    ELSIF (I_CD_PROGRAMA >=10) AND (I_CD_PROGRAMA &lt;= 99) THEN&amp;#10;&#x9;&#x9;       CALL_FORM(I_CD_MODULO||'0'||I_CD_PROGRAMA,HIDE,DO_REPLACE,NO_QUERY_ONLY);&amp;#10;&#x9;&#x9;    ELSIF (I_CD_PROGRAMA > 99) THEN&amp;#10;&#x9;&#x9;       CALL_FORM(I_CD_MODULO||I_CD_PROGRAMA,HIDE,DO_REPLACE,NO_QUERY_ONLY);&amp;#10;&#x9;&#x9;    END IF;*/&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    /** ALG:13/07/2015:89115&amp;#10;&#x9;&#x9;     * Adicionado tratamento para atualizar a conexão na tabela SESSAO.&amp;#10;&#x9;&#x9;     ***/&amp;#10;&#x9;&#x9;    PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_PROGRAMA);&amp;#10;&#x9;&#x9;&#x9;&#x9;&amp;#10;&#x9;&#x9;    CALL_FORM(I_CD_MODULO||LPAD(I_CD_PROGRAMA, 3, '0'), HIDE, DO_REPLACE, NO_QUERY_ONLY);&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    I_DS_PROGRAMA         := NULL;&amp;#10;&#x9;&#x9;    :GLOBAL.ST_AUDITORIA  := AUX_ST_AUDITORIA;&amp;#10;&#x9;&#x9;    :GLOBAL.CD_MODULO     := AUX_CD_MODULO;&amp;#10;&#x9;&#x9;    :GLOBAL.CD_PROGRAMA   := AUX_CD_PROGRAMA;&amp;#10;&#x9;&#x9;    :GLOBAL.TP_ACESSO     := AUX_TP_ACESSO;&amp;#10;&#x9;&#x9;    :GLOBAL.EXEC_PROGRAMA := NULL;&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;    PACK_SESSAO.ATUALIZA_CONEXAO(:GLOBAL.CD_USUARIO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_EMPRESA,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_MODULO,&amp;#10;&#x9;&#x9;&#x9;&#x9;                             :GLOBAL.CD_PROGRAMA);&amp;#10;&#x9;&#x9;    &amp;#10;&#x9;&#x9;  END IF;&amp;#10;&#x9;&#x9;EXCEPTION&amp;#10;&#x9;&#x9;&#x9;WHEN NO_DATA_FOUND THEN&amp;#10;&#x9;&#x9;&#x9;&#x9;-- RRW:05/08/2011:32921: Padronização.&amp;#10;&#x9;&#x9;&#x9;&#x9;--MESSAGE ('Usuário não tem acesso ao programa, ou programa não existe');&amp;#10;&#x9;&#x9;&#x9;&#x9;/*O Usuário ¢CD_USUARIO¢ não tem acesso ao programa ¢NM_PROGRAMA¢ ou programa não está cadastrado.*/&amp;#10;&#x9;&#x9;&#x9;&#x9;MENSAGEM_PADRAO(13320, '¢CD_USUARIO='||:GLOBAL.CD_USUARIO||'¢NM_PROGRAMA='||I_CD_MODULO||LPAD(I_CD_PROGRAMA,3,0)||'¢');&amp;#10;&#x9;&#x9;END;&amp;#10;&#x9;END IF;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <Trigger Name="KEY-DUPREC" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="PACK_PROCEDIMENTOS.MOSTRA_ULTIMAS_COMPRAS;" DisplayInKeyboardHelp="false"/>
        <Trigger Name="GATILHO" TriggerInternalType="0" PersistentClientInfoLength="0" Hide="false"
                 ExecuteHierarchy="Sobreposição" FireInQuery="true" TriggerStyle="PL/SQL"
                 TriggerText="DECLARE&amp;#10;&#x9;V_MENSAGEM&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;VARCHAR2(2000);&amp;#10;&#x9;E_GERAL&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;EXCEPTION;&amp;#10;BEGIN&amp;#10;&amp;#10;&#x9;NULL;&amp;#10;&amp;#10;EXCEPTION&amp;#10;&#x9;WHEN E_GERAL THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',V_MENSAGEM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;&#x9;WHEN OTHERS THEN&amp;#10;&#x9;&#x9;MENSAGEM('Maxys '||:GLOBAL.CD_MODULO||LPAD(:GLOBAL.CD_PROGRAMA,3,0)||' - Erro',SQLERRM,1);&amp;#10;&#x9;&#x9;RAISE FORM_TRIGGER_FAILURE;&amp;#10;END;"
                 DisplayInKeyboardHelp="false"/>
        <VisualAttribute Name="VSA_PROMPTOBRIGATORIO" VisualAttributeType="Prompt" PromptFontSize="900"
                         PersistentClientInfoLength="0" FontSize="0" PromptForegroundColor="r0g25b50"
                         FontStyle="Simples" FontWeight="Médio" PromptFontName="Tahoma" FontSpacing="Normal"
                         PromptFontStyle="Sublinhado" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_PROMPT" VisualAttributeType="Prompt" PromptFontSize="900"
                         PersistentClientInfoLength="0" FontSize="0" PromptForegroundColor="r0g25b50"
                         FontStyle="Simples" FontWeight="Médio" PromptFontName="Tahoma" FontSpacing="Normal"
                         PromptFontStyle="Simples" PromptFontWeight="Semiclaro" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_NEGOCIAR" VisualAttributeType="Comum" PromptFontSize="0" BackColor="r75g75b100"
                         PersistentClientInfoLength="0" FontSize="900" FontStyle="Simples" FontWeight="Médio"
                         FontSpacing="Normal" ForegroundColor="black" PromptFontStyle="Simples" PromptFontWeight="Médio"
                         PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_QUADRO" PersistentClientInfoLength="0" VisualAttributeType="Título" FontSize="0"
                         FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" PromptFontSize="0"
                         PromptFontStyle="Simples" PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_RADIO" PersistentClientInfoLength="0" FontName="Verdana" VisualAttributeType="Comum"
                         FontSize="900" FontStyle="Simples" FontWeight="Claro" FontSpacing="Normal" PromptFontSize="0"
                         PromptFontStyle="Simples" PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_CHECKBOX" PersistentClientInfoLength="0" FontName="Tahoma"
                         VisualAttributeType="Comum" FontSize="900" FontStyle="Simples" FontWeight="Claro"
                         FontSpacing="Normal" PromptFontSize="0" PromptFontStyle="Simples" PromptFontWeight="Médio"
                         PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_CAMPOEXIBICAO" VisualAttributeType="Comum" PromptFontSize="0" BackColor="gray8"
                         PersistentClientInfoLength="0" FontName="MS Sans Serif" FontSize="1000"
                         PromptForegroundColor="darkblue" FontStyle="Simples" FontWeight="Semiclaro"
                         FontSpacing="Normal" ForegroundColor="r0g25b50" PromptFontStyle="Simples"
                         PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_CAMPOTEXTO" VisualAttributeType="Comum" PromptFontSize="0" BackColor="white"
                         PersistentClientInfoLength="0" FontName="MS Sans Serif" FontSize="1000" FontStyle="Simples"
                         FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black" PromptFontStyle="Simples"
                         PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_BLOCO" PersistentClientInfoLength="0" VisualAttributeType="Comum" FontSize="900"
                         FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal" PromptFontSize="0"
                         PromptFontStyle="Simples" FillPattern="transparent" PromptFontWeight="Médio"
                         PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_TEXTO" VisualAttributeType="Comum" PromptFontSize="0" FillPattern="none"
                         PersistentClientInfoLength="0" FontName="Tahoma" FontSize="900" FontStyle="Simples"
                         FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="r0g25b50"
                         PromptFontStyle="Simples" PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <VisualAttribute Name="VSA_SELECIONADO" VisualAttributeType="Comum" PromptFontSize="0" BackColor="r75g88b100"
                         PersistentClientInfoLength="0" FontName="MS Sans Serif" FontSize="1000" FontStyle="Simples"
                         FontWeight="Semiclaro" FontSpacing="Normal" ForegroundColor="black" PromptFontStyle="Simples"
                         PromptFontWeight="Médio" PromptFontSpacing="Normal"/>
        <Window Name="WIN_ITEMCOMPRA" ShowHorizontalScrollbar="false" MinimizeAllowed="false" Width="1011"
                WindowStyle="Documento" HideOnExit="false" ParentModule="BIB004" PersistentClientInfoLength="0"
                ParentModuleType="25" ParentName="JANELA_PRINCIPAL" FontSize="800" ParentFilename="BIB004.OLB"
                FontStyle="Simples" DirtyInfo="true" VisualAttributeName="DEFAULT" FontWeight="Médio"
                FontSpacing="Normal" MoveAllowed="false" LanguageDirection="Padrão" ParentType="29"
                ShowVerticalScrollbar="false" Height="562"/>
        <Window Name="WIN_SEL" ShowHorizontalScrollbar="false" ClearAllowed="false" MinimizeAllowed="false"
                Title="SOLICITAÇÕES DE COMPRA" Width="950" WindowStyle="Documento" HideOnExit="false"
                ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25" ParentName="JANELA_PRINCIPAL"
                FontSize="800" ParentFilename="BIB004.OLB" FontStyle="Simples" DirtyInfo="true"
                VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" MoveAllowed="false"
                LanguageDirection="Padrão" ParentType="29" ShowVerticalScrollbar="false" Height="408"/>
        <Window Name="WIN_ITEMCOMPRACCUSTO" ShowHorizontalScrollbar="false" ClearAllowed="false" MinimizeAllowed="false"
                Title="CENTRO DE CUSTO POR SOLICITAÇÃO DE COMPRA" Width="992" WindowStyle="Documento" HideOnExit="false"
                ParentModule="BIB004" PersistentClientInfoLength="0" ParentModuleType="25" ParentName="JANELA_PRINCIPAL"
                FontSize="800" ParentFilename="BIB004.OLB" FontStyle="Simples" DirtyInfo="true"
                VisualAttributeName="DEFAULT" FontWeight="Médio" FontSpacing="Normal" MoveAllowed="false"
                LanguageDirection="Padrão" ParentType="29" ShowVerticalScrollbar="false" Height="448"/>
        <Window Name="WIN_ITEMCOMPRANEGOCIO" Width="992" WindowStyle="Documento" ResizeAllowed="false"
                HideOnExit="false" XPosition="0" YPosition="0" Bevel="Nenhum" FontSize="800" MaximizeAllowed="false"
                FontStyle="Simples" FontWeight="Médio" Modal="false" FontSpacing="Normal" MoveAllowed="false"
                Height="448" ShowHorizontalScrollbar="false" ClearAllowed="false" MinimizeAllowed="false"
                IconFilename="MAXICON" Title="RATEIO DE NEGÓCIO POR SOLICITAÇÃO DE COMPRA" InheritMenu="true"
                DirtyInfo="true" VisualAttributeName="DEFAULT" LanguageDirection="Padrão"
                ShowVerticalScrollbar="false"/>
        <Window Name="WIN_PROJETOITEMCOMPRA" Width="848" WindowStyle="Documento" ResizeAllowed="false"
                HideOnExit="false" XPosition="0" YPosition="0" Bevel="Nenhum" FontSize="800" MaximizeAllowed="false"
                FontStyle="Simples" FontWeight="Médio" Modal="false" FontSpacing="Normal" MoveAllowed="false"
                Height="173" ShowHorizontalScrollbar="false" ClearAllowed="false" MinimizeAllowed="false"
                IconFilename="MAXICON" Title="Projeto/Etapa por solicitação de compra" InheritMenu="true"
                DirtyInfo="true" VisualAttributeName="DEFAULT" LanguageDirection="Padrão"
                ShowVerticalScrollbar="false"/>
        <Window Name="WIN_ULTIMASCOMPRAS" Width="1005" WindowStyle="Documento" PrimaryCanvas="CAN_ULTIMASCOMPRAS"
                HideOnExit="false" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                MoveAllowed="false" ParentType="29" Height="383" ShowHorizontalScrollbar="false" ClearAllowed="false"
                MinimizeAllowed="false" Title="Últimas Compras" ParentModule="BIB004" PersistentClientInfoLength="0"
                ParentModuleType="25" ParentName="JANELA_PRINCIPAL" ParentFilename="BIB004.OLB" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" ShowVerticalScrollbar="false"/>
        <Window Name="WIN_VLESTIMADO" Width="406" WindowStyle="Documento" PrimaryCanvas="CAN_VLESTIMADO"
                HideOnExit="true" FontSize="800" FontStyle="Simples" FontWeight="Médio" FontSpacing="Normal"
                MoveAllowed="false" ParentType="29" Height="134" ShowHorizontalScrollbar="false" ClearAllowed="false"
                MinimizeAllowed="false" Title="Valor estimado" ParentModule="BIB004" PersistentClientInfoLength="0"
                ParentModuleType="25" ParentName="JANELA_PRINCIPAL" ParentFilename="BIB004.OLB" DirtyInfo="true"
                VisualAttributeName="DEFAULT" LanguageDirection="Padrão" ShowVerticalScrollbar="false"/>
        <Window Name="WIN_DUPLICALOTECOMPRA" ParentModule="BIB004" ParentModuleType="25" ClearAllowed="false"
                ParentName="JANELA_NORMAL" ParentFilename="BIB004.OLB" DirtyInfo="true"
                Title="Carrega Lote de Origem para Duplicação" Width="1012" MoveAllowed="true" ParentType="29"
                Height="506"/>
        <Window Name="WIN_MOTIVOCANCELAMENTO" ClearAllowed="false" MinimizeAllowed="false" IconFilename="MAXICON"
                Title="Cancelar Solicitação" Width="593" InheritMenu="true" ResizeAllowed="false"
                PrimaryCanvas="CAN_MOTIVOCANCELAMENTO" XPosition="67" YPosition="67" Bevel="Nenhum"
                MaximizeAllowed="false" DirtyInfo="true" Modal="true" Height="200"/>
        <Window Name="WIN_IMPORTACAOLOG" ClearAllowed="false" MinimizeAllowed="false" IconFilename="MAXICON"
                Title="Cancelar Solicitação" Width="724" InheritMenu="true" ResizeAllowed="false"
                PrimaryCanvas="CAN_IMPORTACAO_LOG" XPosition="67" YPosition="67" Bevel="Nenhum" MaximizeAllowed="false"
                DirtyInfo="true" Modal="true" Height="480"/>
        <Window Name="WIN_PREITEMCOMPRA" ClearAllowed="false" Title="Seleção de Itens" Width="1011" PrimaryCanvas=""
                HideOnExit="false" ParentModule="BIB004" ParentModuleType="25" ParentName="JANELA_NORMAL"
                ParentFilename="BIB004.OLB" DirtyInfo="true" MoveAllowed="false" ParentType="29" Height="562"/>
    </FormModule>
</Module>
